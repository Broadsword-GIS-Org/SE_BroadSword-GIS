

<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="shortcut icon" href="/favicon.ico?v=2" />

    <script type="text/javascript">
        /*! usertiming v0.1.8 */

!function(a){"use strict";"undefined"==typeof a&&(a={}),"undefined"==typeof a.performance&&(a.performance={}),a._perfRefForUserTimingPolyfill=a.performance,a.performance.userTimingJsNow=!1,a.performance.userTimingJsNowPrefixed=!1,a.performance.userTimingJsUserTiming=!1,a.performance.userTimingJsUserTimingPrefixed=!1,a.performance.userTimingJsPerformanceTimeline=!1,a.performance.userTimingJsPerformanceTimelinePrefixed=!1;var b,c,d=[],e=[],f=null;if("function"!=typeof a.performance.now){for(a.performance.userTimingJsNow=!0,e=["webkitNow","msNow","mozNow"],b=0;b<e.length;b++)if("function"==typeof a.performance[e[b]]){a.performance.now=a.performance[e[b]],a.performance.userTimingJsNowPrefixed=!0;break}var g=+new Date;a.performance.timing&&a.performance.timing.navigationStart?g=a.performance.timing.navigationStart:"undefined"!=typeof process&&"function"==typeof process.hrtime&&(g=process.hrtime(),a.performance.now=function(){var a=process.hrtime(g);return 1e3*a[0]+1e-6*a[1]}),"function"!=typeof a.performance.now&&(Date.now?a.performance.now=function(){return Date.now()-g}:a.performance.now=function(){return+new Date-g})}var h=function(){},i=function(){},j=[],k=!1,l=!1;if("function"!=typeof a.performance.getEntries||"function"!=typeof a.performance.mark){for("function"==typeof a.performance.getEntries&&"function"!=typeof a.performance.mark&&(l=!0),a.performance.userTimingJsPerformanceTimeline=!0,d=["webkit","moz"],e=["getEntries","getEntriesByName","getEntriesByType"],b=0;b<e.length;b++)for(c=0;c<d.length;c++)f=d[c]+e[b].substr(0,1).toUpperCase()+e[b].substr(1),"function"==typeof a.performance[f]&&(a.performance[e[b]]=a.performance[f],a.performance.userTimingJsPerformanceTimelinePrefixed=!0);h=function(a){j.push(a),"measure"===a.entryType&&(k=!0)};var m=function(){k&&(j.sort(function(a,b){return a.startTime-b.startTime}),k=!1)};if(i=function(a,c){for(b=0;b<j.length;)j[b].entryType===a&&("undefined"==typeof c||j[b].name===c)?j.splice(b,1):b++},"function"!=typeof a.performance.getEntries||l){var n=a.performance.getEntries;a.performance.getEntries=function(){m();var b=j.slice(0);return l&&n&&(Array.prototype.push.apply(b,n.call(a.performance)),b.sort(function(a,b){return a.startTime-b.startTime})),b}}if("function"!=typeof a.performance.getEntriesByType||l){var o=a.performance.getEntriesByType;a.performance.getEntriesByType=function(c){if("undefined"==typeof c||"mark"!==c&&"measure"!==c)return l&&o?o.call(a.performance,c):[];"measure"===c&&m();var d=[];for(b=0;b<j.length;b++)j[b].entryType===c&&d.push(j[b]);return d}}if("function"!=typeof a.performance.getEntriesByName||l){var p=a.performance.getEntriesByName;a.performance.getEntriesByName=function(c,d){if(d&&"mark"!==d&&"measure"!==d)return l&&p?p.call(a.performance,c,d):[];"undefined"!=typeof d&&"measure"===d&&m();var e=[];for(b=0;b<j.length;b++)("undefined"==typeof d||j[b].entryType===d)&&j[b].name===c&&e.push(j[b]);return l&&p&&(Array.prototype.push.apply(e,p.call(a.performance,c,d)),e.sort(function(a,b){return a.startTime-b.startTime})),e}}}if("function"!=typeof a.performance.mark){for(a.performance.userTimingJsUserTiming=!0,d=["webkit","moz","ms"],e=["mark","measure","clearMarks","clearMeasures"],b=0;b<e.length;b++)for(c=0;c<d.length;c++)f=d[c]+e[b].substr(0,1).toUpperCase()+e[b].substr(1),"function"==typeof a.performance[f]&&(a.performance[e[b]]=a.performance[f],a.performance.userTimingJsUserTimingPrefixed=!0);var q={};"function"!=typeof a.performance.mark&&(a.performance.mark=function(b){var c=a.performance.now();if("undefined"==typeof b)throw new SyntaxError("Mark name must be specified");if(a.performance.timing&&b in a.performance.timing)throw new SyntaxError("Mark name is not allowed");q[b]||(q[b]=[]),q[b].push(c),h({entryType:"mark",name:b,startTime:c,duration:0})}),"function"!=typeof a.performance.clearMarks&&(a.performance.clearMarks=function(a){a?q[a]=[]:q={},i("mark",a)}),"function"!=typeof a.performance.measure&&(a.performance.measure=function(b,c,d){var e=a.performance.now();if("undefined"==typeof b)throw new SyntaxError("Measure must be specified");if(!c)return void h({entryType:"measure",name:b,startTime:0,duration:e});var f=0;if(a.performance.timing&&c in a.performance.timing){if("navigationStart"!==c&&0===a.performance.timing[c])throw new Error(c+" has a timing of 0");f=a.performance.timing[c]-a.performance.timing.navigationStart}else{if(!(c in q))throw new Error(c+" mark not found");f=q[c][q[c].length-1]}var g=e;if(d)if(g=0,a.performance.timing&&d in a.performance.timing){if("navigationStart"!==d&&0===a.performance.timing[d])throw new Error(d+" has a timing of 0");g=a.performance.timing[d]-a.performance.timing.navigationStart}else{if(!(d in q))throw new Error(d+" mark not found");g=q[d][q[d].length-1]}var i=g-f;h({entryType:"measure",name:b,startTime:f,duration:i})}),"function"!=typeof a.performance.clearMeasures&&(a.performance.clearMeasures=function(a){i("measure",a)})}"function"==typeof define&&define.amd?define([],function(){return a.performance}):"undefined"!=typeof module&&"undefined"!=typeof module.exports&&(module.exports=a.performance)}("undefined"!=typeof window?window:void 0);

        if (window.performance && window.performance.mark) {
            window.performance.mark('lucidStartTime');
        }
        var userRequestThen = (function(){
            var resolved = false, callbacks = [], xhr;
            var attempts = 3;
            var request = function() {
                if (attempts-- == 0) {
                    return;
                }
                xhr = new XMLHttpRequest();
                xhr.open('GET', '/users/userSession', true);
                xhr.onreadystatechange = function() {
                    if(xhr.readyState == 4) {
                        if(xhr.status >= 200 && xhr.status < 300) {
                            resolved = true;
                            callbacks.forEach(function(cb) {
                                cb(xhr);
                            });
                        } else {
                            request();
                        }
                    }
                }
                xhr.onerror = function() {
                    request();
                };
                xhr.send();
            };
            request();
            return function(cb) {
                if(resolved && xhr) {
                    cb(xhr);
                } else {
                    callbacks.push(cb);
                }
            };
        })();
    </script>


    
        <title>GIS Subsystem Use Case Diagram: Lucidchart</title>
    
    <!-- For facebook: -->
    <meta name="title" content="GIS Subsystem Use Case Diagram: Lucidchart" />
    
        <meta name="description" content="Check out my diagram at Lucidchart. Make your own diagram or flowchart and share it with your friends. - http://lucidchart.com" />
    
    <link rel="image_src" href="//www.lucidchart.com/documents/thumb/f9b77583-db65-405c-883f-320f20633955/0/397504/NULL/110" />

    <!--For iPad-->
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <link rel="apple-touch-icon-precomposed" href="https://d2slcw3kip6qmk.cloudfront.net/app/webroot/img/apple_touch_icon.png" />

    <link rel="chrome-webstore-item" href="https://chrome.google.com/webstore/detail/apboafhkiegglekeafbckfjldecefkhn" />
    
        <link rel="chrome-webstore-item" href="https://chrome.google.com/webstore/detail/djejicklhojeokkfmdelnempiecmdomj">
    

    

        
            <link rel="stylesheet" href="//d5x2n72glkaxl.cloudfront.net/css/chart/editor?2017-3-22_19-57-44" />
        
        <link rel="stylesheet" href="//d5x2n72glkaxl.cloudfront.net/css/chart/external?2017-3-22_19-57-44" />

    

    
        <script src="//js.hsforms.net/forms/current.js" async></script>
        <script src="https://js.live.net/v7.0/OneDrive.js"></script>
    
</head>
<body>





<div id="load">
    <div class="image-loading-tip flex">
        <div class="vertical-center">
            <div class="tips-body-wrapper">
                
                        <div class="hotkey-icon-wrapper loading-tip-shapelibrary">
                            <div class="keystroke keystroke-border square"><span>M</span></div>
                        </div>
                        <div class="tip-text loading-tip-shapelibrary">
                            <span class="tip-text-strong">Pro Tip - </span>
                            Open the Shape Library Manager by pressing the <span class="keystroke square">M</span> key
                        </div>
                    
                <div class="tip-loading-bar-wrapper">
                    <span>LOADING...</span>
                    <div class="loading-bar">
                        <div class="progress"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
setTimeout(function(){
    var progressBar = document.querySelector('.progress');
    progressBar.className = progressBar.className + ' running';
}, 10)
</script>


<script>
    
window['lucidConfigure'] = {"feedbackPromptInterval":7,"addonRatingPromptShowInterval":30,"addonRatingPromptDelayBeforeShow":60,"add_to_dictionary_enabled":true,"appname":"chart","appid":0,"lucid_host":"https://www.lucidchart.com","iconfinder_api_key":"b0196f2775c948f9f4b550d2767a1f0c","product":"Lucidchart","i18n_override":"en","thumb_domain":"//thumbs.lucidchart.com","public_thumb_domain":"//d5x2n72glkaxl.cloudfront.net","private_thumb_domain":"https://d22r6ihsmd10lf.cloudfront.net","private_thumb_cache_buster":"","private_thumb_enabled":false,"gapi_client_id":"7081045131.apps.googleusercontent.com","gapi_key":"AIzaSyDwLsu6ujL97P0dqhrox96fSDHzsGA4M1o","imageSearchCX":"018357707115346387653:76dl94bodgk","fb_appid":"206960139456429","dropbox_appkey":"q1fyoco80jlt5vb","cdn_domain":"//d5x2n72glkaxl.cloudfront.net","cashy_domain":"//d2slcw3kip6qmk.cloudfront.net","assets_base_url":"https://d2slcw3kip6qmk.cloudfront.net","uimg_s3_domain":"//s3.amazonaws.com","uimg_s3_bucket":"image-service-lucidchart-com","uimg_cloudfront_domain":"//dzfaj5jg8cxzf.cloudfront.net","default_color_profiles_url":"https://d2ban7mbdserhz.cloudfront.net/default.json","fonts_cloudfront_public_list":"//d14zi2wah1aprb.cloudfront.net/public.json?2","fonts_s3_url":"//s3.amazonaws.com/font-service-public-lucidchart-com","fonts_preload_list":["//d14zi2wah1aprb.cloudfront.net/bundles/4c/c2/7b/4e/0c/09/a9/95/69/0b/a1/d0/2c/9e/9c/08/fallback/FontNameLetters","//d14zi2wah1aprb.cloudfront.net/bundles/4c/c2/7b/4e/0c/09/a9/95/69/0b/a1/d0/2c/9e/9c/08/fallback/BasicLatin"],"imagesCdnVersion":"6","known_image_sizes":["thumb","256","512","1024","2048","4096"],"editor_version_url":"https://version-lucidchart-com.s3.amazonaws.com/production","featureFlags":{"commentOnboardingPayingOnly":false,"appIntegrationEnabled":true,"googleAutoDeprovisionEnabled":true,"newPDFDataEnabled":true,"colorManagement":true,"identityManagementEnabled":true,"groupsEnabled":true,"atlassianCloudIntegrationsEnabled":true,"eduTemplateCategoriesEnabled":false,"eduPortfolioSharingEnabled":false,"useImageRestApi":true,"press-spreads":true,"showOutlierDialog":false,"sharingEnabled":true,"googleReferalApiEnabled":false,"licensingEnabled":true,"csvUploadEnabled":true,"appStoreAd":false,"useActivityService":true,"domainLockdownPage":true,"newCropControlsEnabled":true,"eduGoogleClassroomEnabled":true,"addToDictionaryEnabled":true,"teamFontsEnabled":true,"confluenceServerSvgViewerEnabled":true},"Features":{"SimpleShareWithIntegrations":true,"EnableITunesPaymentFlow":true,"ThompsonTaglinesV2":false,"EditorLineSpecificJumps":true,"NewBillingInfoPage":true,"AwsImportBeta":false},"slackPressClientId":"30008916790.30237643843","slackClientId":"2583566494.16298054896","events_domain":"","pdf_polling_timeout":1800000,"analyticsKey":"AIzaSyBa7WQEkHa6FAjaaEFL6uqnleLemKAyU_s","analyticsClientId":"701689253383-ecf90q4kn66j9danemqgu29q4ecrshnl.apps.googleusercontent.com","analyticsPublications":"UA-47963417-1","bpmnTemplateId":"1da68a51-1847-41c2-95b2-7d6d4d059ac8","ciscoNetworkTemplateId":"702626a4-0dc5-415f-af7d-13a00c8627c6","createAwsTemplateId":"38686ab5-be09-49aa-8a38-111ee952a8b0","defaultChartTemplate":"466e7eac-5163-05d7-b7f1-42440a00189f","defaultPressTemplate":"44241f34-523b-3d0a-9c6d-380c0a00d946","erdTemplateId":"2548870a-6366-4c77-ad47-59d52f2e947e","flowchartTemplateId":"204ebf7a-3a26-40f3-9f65-781b9cc567ce","genericNetworkTemplateId":"14fcc93a-0868-48c6-aac5-e24198ceed27","importAwsTemplateId":"8448bb1c-307d-442e-9c84-a33b8675d967","orgChartTemplateId":"d4ee375a-5959-447a-9f70-da26ce855eb3","sipocTemplateId":"f3e11d81-f03b-48a1-b3be-30e8286c96bf","trainingTemplateIdChart":"184f46a1-d8d7-406b-ba21-feab890f43c6","umlTemplateId":"4c3ba698-5163-1620-842d-3eb90a004117","valueStreamTemplateId":"a4e97f96-cf24-4013-b3f9-4af40970bd36","upsellCouponCode":"ten_dollars","upsellCouponAmounts":{"CAD":1000,"AUD":1000,"GBP":1000,"USD":1000,"NZD":1000,"EUR":1000},"upsellSurveyCreditAmounts":{"CAD":1000,"AUD":1000,"GBP":1000,"USD":1000,"NZD":1000,"EUR":1000},"newPDFData":true,"pressTutorialLesson1TemplateId":"62f5aca3-9d8e-49ce-b670-53428e4d7bf9","pressFirstTutorialPromptStart":"2015-02-23T00:00:00Z","press_publications_url":"https://d2pjrbs8oo6puz.cloudfront.net/","press_secure_publications_url":"https://pubsecure.lucidpress.com/","chrome_bookmark_app_id":"apboafhkiegglekeafbckfjldecefkhn","chrome_desktop_app_id":"djejicklhojeokkfmdelnempiecmdomj","visio_import_file_limit":200,"indesignSizeLimit":100,"showvisio":true,"showgliffy":true,"showgraffle":true,"showindesign":true,"showdoclist":true,"showsequencemarkup":true,"showsvg":true,"renderingMetricsGatherRate":100,"eventServerHost":"https://event.lucidchart.com","userServiceHost":"https://users.lucidchart.com","analyticsServiceHost":"https://analytics.lucidchart.com","fontServiceHost":"https://fonts.lucidchart.com","imageServiceHost":"https://images.lucidchart.com","pdfProxyHost":"https://printing.lucidchart.com","documentServiceHost":"https://documents.lucidchart.com","portal-id":442690,"contactSalesForm":"e9ca9cbf-d53d-4806-9226-155e1b948874","contactSalesForm_chart":"e9ca9cbf-d53d-4806-9226-155e1b948874","contactSalesForm_press":"50ae416a-113f-4b51-a2bc-5cbd811a0038","enterpriseAdwordsForm":"abbac224-e930-4844-9ced-221542daf11a","enterpriseCancelForm_chart":"e45f4854-388a-4762-aa79-45734094b748","enterpriseCancelForm_press":"086f6d5f-0298-466f-954b-c9e00a9717f1","enterpriseSalesForm_chart":"15e98390-fb30-41de-b879-1a40a7d57f69","enterpriseSalesForm_press":"25aca893-20e8-4c0b-8976-3fdac008d051","enterpriseScimForm":"256f1ed8-b7e9-4b13-819e-493b43213e76","entperiseLoginForm_chart":"e1e5aad6-0c8f-48e8-a9df-db4339837109","contactUsForm":"3e6b600d-441d-43b2-87ca-42cbf0f65581","contactUsForm_chart":"3e6b600d-441d-43b2-87ca-42cbf0f65581","contactUsForm_press":"cc927673-121e-4581-ac17-feb5cd775f3e","contactUsPage_chart":"21365e07-1ede-4bd0-9cbd-0ec51417200b","contactUsPage_press":"0b6d7ecb-588b-4644-b558-adad0a9ed2c1","enterprisePayWallForm":"16a61f1c-5306-478c-837e-f0ecaaccbd21","dataLinkingEnterprisePaywallForm":"38819b94-f5cd-4cbd-9dfe-50bc2c08e93d","domainLockdownForm":"d96c22c9-79ea-4c48-a3e0-9bd615a14193","confluenceContactSalesForm":"a36dc748-5ebe-40a8-b81f-f7939a7cffbf","requestAPIForm":"f84feee4-528d-4372-8e5e-7c2a592dc798","api_key":"a5d50354c435f0e24557077e252bf2a15fa75b51","slowThreshold":100,"image_deletion_chunk_size":50,"identity_management_enabled":true,"app_integration_enabled":true,"sharing_enabled":true,"licensing_enabled":true,"csv_upload_enabled":true,"groups_enabled":true,"atlassian_cloud_integrations_enabled":true,"domain_lockdown_page":true,"enable_team_fonts":true,"google_auto_deprovision_enabled":true,"enterprise_lockdown_date":"2015-05-19","spellingServiceHost":"https://spelling.lucidchart.com","app_store_ad":false,"press1MDealStart":"2015-06-15T16:00:00","press1MDealEnd":"2015-06-18T06:00:00","new_crop_controls_enabled":true,"useImageRestApi":true,"eduEnablePortfolioSharing":false,"eduEnableGoogleClassroom":true,"eduEnableTemplateCategories":false,"activityServiceHost":"https://activity.lucidchart.com","conversionServiceHost":"https://conversion.lucidchart.com","printServiceHost":"https://print.lucidchart.com","useActivityService":true,"trialPaymentDiscount_minutesUntilEligible":4320,"zendesk":{"url":"http://support.lucidchart.com/"},"showOutlierDialog":false,"commentOnboardingPayingOnly":false,"buildVersion":"2017-3-22_19-57-44","skipAnalytics":false,"salesPhoneNumber":"650-733-6172","abTest":{"PromptDefaultPageSize":{"name":"PromptDefaultPageSize","options":{"T-A":1,"T-B":0},"team":"Chart1","partitioningType":"User","description":"Prompt users to update their default page size when they change it in the editor","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"PricingTableOrderPress":{"name":"PricingTableOrderPress","options":{"Pro-Basic-Team-Free":0,"T-A":1,"Team-Pro-Basic-Free":0},"team":"Growth","partitioningType":"Visitor","description":"Change the order of the levels on the pricing page for new CC required users","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"PayWithPaypalChart":{"name":"PayWithPaypalChart","options":{"T-A":0,"T-B":1},"team":"Growth","partitioningType":"Account","description":"Adds a paypal option to the payment page","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"InviteWithoutTeam":{"name":"InviteWithoutTeam","options":{"T-B":0,"T-A":1},"team":"Growth","partitioningType":"Account","description":"B arm lets you invite people to team from the share dialog even if you don't have a team setup","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"MobilePaymentPage":{"name":"MobilePaymentPage","options":{"T-A":0,"T-B":1},"team":"Growth","partitioningType":"User","description":"Show a mobile-friendly payment page","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"NewHeaderPricingAndTrialPrepChart":{"name":"NewHeaderPricingAndTrialPrepChart","options":{"T-A":1,"T-B":1},"team":"Growth","partitioningType":"UserSpanning","description":"Show different colored header on pricing and trial prep page","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"SlackIntegration":{"name":"SlackIntegration","options":{"T-B":1,"T-A":0},"team":"Chart2","partitioningType":"Account","description":"The B arm will see a Slack integration configuration page in Team Admin; A will not","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"Ng2PersonaSelectionChart":{"name":"Ng2PersonaSelectionChart","options":{"T-A":1,"T-B":1},"team":"Growth","partitioningType":"User","description":"Enables Ng2 persona selection dialog in the docs list","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"ConfirmIndividualTrialPagePress":{"name":"ConfirmIndividualTrialPagePress","options":{"T-A":1,"T-B":1},"team":"Growth","partitioningType":"User","description":"After starting an individual trial in Press, the B arm is brought to #/users/confirmIndividualTrial, while the A arm follows the default redirect","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"IncludeCoreExFeatures2":{"name":"IncludeCoreExFeatures2","options":{"T-A":0,"T-B":1},"team":"Chart3","partitioningType":"User","description":"Include core experience features, like paste location, standard shape linkpoints, and auto-prompt next shape for standard and geometric libraries","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"TaskProfiling":{"name":"TaskProfiling","options":{"SendProfiling":1,"Rate-0.01":0,"Rate-0.05":0,"Rate-0.25":0,"Rate-0.1":0,"T-A":0},"team":"Performance","partitioningType":"User","description":"Instrument JavaScript execution by actions and tags, collect more granular frame data. May be off (A), on (SendProfiling), or have a chance of being on for an editor session (Rate-0.%%)","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"CMYKColorChooser":{"name":"CMYKColorChooser","options":{"T-A":0,"T-B":1},"team":"Press","partitioningType":"Account","description":"Give users CMYK color options","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"PressAngular2CommentPanel":{"name":"PressAngular2CommentPanel","options":{"T-A":1,"T-B":0},"team":"Chart1","partitioningType":"User","description":"Enables the angular 2 comments panel in Press","startDate":"2099-01-01T00:00:00Z","endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"useRendererUIHints":{"name":"useRendererUIHints","options":{"T-B":0,"T-A":1},"team":"Performance","partitioningType":"FeatureFlag","description":"T-A to use old second-canvas UI hints, T-B to use renderer implemented hints","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"ChartLoginEnterpriseAd":{"name":"ChartLoginEnterpriseAd","options":{"T-A":1,"T-B":0},"team":"Growth","partitioningType":"Visitor","description":"Whether to show the enterprise ad on the login page","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"AmazonAd":{"name":"AmazonAd","options":{"T-A":0,"T-B":1},"team":"Growth","partitioningType":"User","description":"Whether to show Amazon customer survey","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"PersonalizedWelcomeForEveryone":{"name":"PersonalizedWelcomeForEveryone","options":{"T-A":1,"T-B":1},"team":"Growth","partitioningType":"User","description":"Show customized wording on the welcome dialog for every persona","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"ShapeLibraryMarketplaceInterestDialog":{"name":"ShapeLibraryMarketplaceInterestDialog","options":{"T-A":0,"show":1},"team":"Chart3","partitioningType":"User","description":"Whether or not to show a dialog where users can submit their shape libraries to express interest in a shape library marketplace.","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"VisitorCurrencyOverride":{"name":"VisitorCurrencyOverride","options":{"CAD":0,"AUD":0,"T-A":1,"GBP":0,"USD":0,"NZD":0,"EUR":0},"team":"Growth","partitioningType":"Visitor","description":"NOT AN ACTUAL TEST - allows QA to override the currency they are shown pre-registration","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"ShowPinnableTitles":{"name":"ShowPinnableTitles","options":{"T-A":1,"T-B":0},"team":"Chart1","partitioningType":"User","description":"Add titles to pinnable option bar callouts","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"Ng2TemplateChooser":{"name":"Ng2TemplateChooser","options":{"T-A":0,"T-B":1},"team":"Growth","partitioningType":"User","description":"Enable the angular 2 template chooser","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"BrandAssetsPro":{"name":"BrandAssetsPro","options":{"T-B":0,"T-A":100},"team":"Press","partitioningType":"Account","description":"Users on b branch get pro brand assets","startDate":"2020-01-01T00:00:00Z","endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"useTypescript":{"name":"useTypescript","options":{"T-B":100,"T-A":0},"team":"Chart1","partitioningType":null,"description":"Use Typescript for new editor","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"BrandAssetsEnterprise":{"name":"BrandAssetsEnterprise","options":{"T-B":0,"T-A":100},"team":"Press","partitioningType":"Account","description":"Brand Assets flag used only for enterprise customers","startDate":"2020-01-01T00:00:00Z","endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"newRegisterLevelPage-Plan-Comparison":{"name":"newRegisterLevelPage-Plan-Comparison","options":{"T-B":0,"T-A":1},"team":"Growth","partitioningType":"UserSpanning","description":null,"startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"ShowPayButtonOnEditor":{"name":"ShowPayButtonOnEditor","options":{"T-B":1,"T-A":0},"team":"Growth","partitioningType":"User","description":"On the B arm, there is a buy now/upgrade button in the top right corner of the editor","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"Ng2PersonaSelectionRolesPress":{"name":"Ng2PersonaSelectionRolesPress","options":{"T-A":1,"T-B":0},"team":"Growth","partitioningType":"User","description":"Adds a Role selection to Ng2 persona selection dialog","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"UseNewCommentTab":{"name":"UseNewCommentTab","options":{"T-A":1,"T-B":0},"team":"Chart1","partitioningType":"User","description":"Enables the angular 2 comments panel in Chart","startDate":"2099-01-01T00:00:00Z","endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"SlackPressIntegration":{"name":"SlackPressIntegration","options":{"T-B":1,"T-A":0},"team":"","partitioningType":null,"description":null,"startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"ChartLongerTeamTrials":{"name":"ChartLongerTeamTrials","options":{"2xLongerTrial":0,"T-A":1},"team":"Growth","partitioningType":"AccountSpanning","description":"Offers a 14-day trial","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"Day5EmailSubjectLine":{"name":"Day5EmailSubjectLine","options":{"T-A":0,"T-B":1},"team":"Growth","partitioningType":"User","description":"T-B changes the subject line of the trial expiry email to our traditional wording","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"commonPageRenderPath":{"name":"commonPageRenderPath","options":{"T-B":0,"T-A":1},"team":"Performance","partitioningType":null,"description":"T-B use common path for GL/canvas rendering, T-A use legacy paths for GL/canvas rendering","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"UsersCanInvite":{"name":"UsersCanInvite","options":{"T-B":1,"T-A":0},"team":"","partitioningType":null,"description":null,"startDate":"2016-09-02T18:00:00Z","endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"HubspotWelcomeEmail":{"name":"HubspotWelcomeEmail","options":{"T-A":1,"T-B":1},"team":"Data","partitioningType":"User","description":"Send the welcome email through hubspot instead of our own service","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"TrialOffer":{"name":"TrialOffer","options":{"Discount":0,"ExtendedTrial":1,"T-A":0},"team":"Growth","partitioningType":"Account","description":"Extend an offer for an extended trial or a 10% discount on a subscription when a trial is about to end","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"FreeTrialOnVisioImport":{"name":"FreeTrialOnVisioImport","options":{"T-A":1,"T-B":0},"team":"Growth","partitioningType":"Account","description":"Give users who have never had a pro level a 1-day trial after importing a visio/gliffy/omnigraffle doc","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"BrandAssets":{"name":"BrandAssets","options":{"T-B":0,"T-A":100},"team":"Press","partitioningType":"Account","description":"Users on b branch get access to brand assets","startDate":"2020-01-01T00:00:00Z","endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"NewEditor-final":{"name":"NewEditor-final","options":{"T-B":0,"T-A":0,"T-B-FF":100,"T-C":0},"team":"Chart1","partitioningType":"Account","description":"On the A-arm, a user can opt-in/opt-out with new chart editor. On the B-Arm, an eligible user is forced into new chart editor. On C-arm, the user forced into old chart editor. On the T-B-FF, the user is forced into the new chart editor with FeatureFind","startDate":"2017-03-23T00:30:00Z","endDate":"2099-01-01T00:30:00Z","includedBrowsers":[],"excludedBrowsers":[],"allowTeams":true,"onlyTeams":false,"legacy":true},"CyberMondayFlag":{"name":"CyberMondayFlag","options":{"T-A":0,"T-B":1},"team":"Growth","partitioningType":"Visitor","description":"Offer deals on Cyber Monday","startDate":"2016-11-28T16:00:00Z","endDate":"2016-11-30T06:59:00Z","includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"DelayRenameDialog":{"name":"DelayRenameDialog","options":{"T-A":1,"T-B":0,"T-C":0},"team":"Chart1","partitioningType":"User","description":"Change growl position in the new editor","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"3DocLimitPlus":{"name":"3DocLimitPlus","options":{"T-B":1,"T-A":0},"team":"Growth","partitioningType":"AccountSpanning","description":"Replaces the 5 Doc Limit for new free users with a 3 Doc Limit where users are allowed to create one more document once every month","startDate":"2016-04-06T16:30:00Z","endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"GoogleSlidesExport":{"name":"GoogleSlidesExport","options":{"T-A":0,"T-B":1},"team":"Chart3","partitioningType":"Account","description":"Enable the Google Slides export feature in Chart, both editors","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"Ng2TemplateSearch":{"name":"Ng2TemplateSearch","options":{"T-A":1,"T-B":1},"team":"Growth","partitioningType":"User","description":"Enable template search in the angular 2 template chooser","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"SimpleShareDialogWithGrowls":{"name":"SimpleShareDialogWithGrowls","options":{"T-A":0,"T-B":1},"team":"Chart1","partitioningType":"User","description":"Use the simple share dialog and updated growls","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"CustomizedFontToolTip":{"name":"CustomizedFontToolTip","options":{"T-B":100,"T-A":0},"team":"Press","partitioningType":null,"description":"Show customized font tool tip","startDate":"2015-01-01T00:00:00Z","endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"RemoveDocCount":{"name":"RemoveDocCount","options":{"T-A":1,"T-B":0},"team":"Growth","partitioningType":"Account","description":"Whether to hide doc count in Delete User dialog","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"PrintAndShip":{"name":"PrintAndShip","options":{"T-A":0,"T-B":1},"team":"Press","partitioningType":"Account","description":"Allow users to Order Prints","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"LastDayPageLimitWarning":{"name":"LastDayPageLimitWarning","options":{"T-B":50,"T-A":50},"team":"Press","partitioningType":null,"description":"Show page limit warning when there's one day left on trials","startDate":"2016-08-22T00:00:00Z","endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"PaymentPageFormValidation":{"name":"PaymentPageFormValidation","options":{"T-A":0,"T-B":1},"team":"Growth","partitioningType":"User","description":"Do credit card number and CVV validation before the user attempts to pay, and highlight the card type","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"PersonaSelectionPress":{"name":"PersonaSelectionPress","options":{"T-A":1,"T-B":0,"T-C":0},"team":"Growth","partitioningType":"User","description":"Enables a persona selection dialog in the docs list","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"PersonaCustomizationV1BusinessManager":{"name":"PersonaCustomizationV1BusinessManager","options":{"T-A":1,"T-B":1},"team":"Growth","partitioningType":"User","description":"Show an alternate welcome dialog to business managers","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"Ng2PersonaSelectionPress":{"name":"Ng2PersonaSelectionPress","options":{"T-A":1,"T-B":0},"team":"Growth","partitioningType":"User","description":"Enables Ng2 persona selection dialog in the docs list","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"EnableRenamePencil2":{"name":"EnableRenamePencil2","options":{"T-A":0,"T-B":1},"team":"Chart1","partitioningType":"User","description":"Enables the pencil icon next to the document title to edit the title; changes File->Rename to open a rename dialog instead of highlighting the document title for rename; Removes pencil after renaming the document","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"UseNg2ComponentsInPress":{"name":"UseNg2ComponentsInPress","options":{"T-A":1,"T-B":0},"team":"Press","partitioningType":"Account","description":"Uses Ng2 components in Press","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"ToolGroupCards":{"name":"ToolGroupCards","options":{"T-A":1,"T-B":0},"team":"Chart1","partitioningType":"User","description":"Make the toolgroups look like cards","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"AutoselectFirstLineInRegLinkForm":{"name":"AutoselectFirstLineInRegLinkForm","options":{"T-A":0,"T-B":1},"team":"Growth","partitioningType":"Visitor","description":"T-B Autoselects the first line in the registration form when a share link is used","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"NewEditorImageManager":{"name":"NewEditorImageManager","options":{"T-B":0,"T-A":1},"team":"Chart1","partitioningType":null,"description":"Is the image manager transfer dialog visible in the editor v2","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"MarketplaceCardsOrder":{"name":"MarketplaceCardsOrder","options":{"T-A":1,"T-B":1},"team":"Integrations","partitioningType":"User","description":"T-B shows a different ordering of marketplace cards","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"AdjustDownloadMenu":{"name":"AdjustDownloadMenu","options":{"T-A":0,"T-B":0,"T-C":1},"team":"Chart1","partitioningType":"User","description":"Change the position of many elements in the file menu in the new editor","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"DynamicDiagrams":{"name":"DynamicDiagrams","options":{"T-B":0,"T-A":1},"team":"Internal Tools","partitioningType":null,"description":"Whether the dynamic diagram shape library is accessible.","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"ShowAPIRequestDialog":{"name":"ShowAPIRequestDialog","options":{"T-A":1,"T-B":1},"team":"Integrations","partitioningType":"Visitor","description":"Show messaging and a dialog to encourage users to request APIs on our marketplace or API documentation pages","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"PerUserPerMonthPricesChart":{"name":"PerUserPerMonthPricesChart","options":{"T-A":1,"T-B":1,"T-C":1},"team":"Growth","partitioningType":"UserSpanning","description":"Shows prices on the pricing page as per user per month. T-B uses two decimal places, T-C uses whole numbers","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"PrintAndShipBackendCatalog":{"name":"PrintAndShipBackendCatalog","options":{"T-A":0,"T-B":1},"team":"Press","partitioningType":"User","description":"Use catalog from print service for consistency","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"UseExtendedDefaultStyles":{"name":"UseExtendedDefaultStyles","options":{"T-A":1,"T-B":0},"team":"i18n","partitioningType":"User","description":"Include more block properties in default styles","startDate":"2099-01-01T00:00:00Z","endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"PrintOrderHistory":{"name":"PrintOrderHistory","options":{"T-A":0,"T-B":1},"team":"Press","partitioningType":"Account","description":"Endable print orderhistory tab under account settings","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"BuyButtonInternalPricingChart":{"name":"BuyButtonInternalPricingChart","options":{"T-A":1,"T-B":1},"team":"Growth","partitioningType":"User","description":"T-B add buy button as an option to internal pricing page","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"UpsellStaleAccounts":{"name":"UpsellStaleAccounts","options":{"NegativeTone":1,"PositiveTone":1,"T-A":1},"team":"Growth","partitioningType":"Account","description":"When a subscription has been cancelled but has not expired, try to get the user to resubscribe","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"PrintAndShipReviewV2ProgressBar":{"name":"PrintAndShipReviewV2ProgressBar","options":{"T-A":0,"T-B":1},"team":"Press","partitioningType":"Account","description":"Allow users to Order Prints with a progress bar on the new review page","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"ExistingUserOnboarding":{"name":"ExistingUserOnboarding","options":{"T-A":8,"T-B":2},"team":"Chart3","partitioningType":"User","description":"Enables existing user onboarding to the new editor","startDate":"2001-01-01T09:00:00Z","endDate":"2017-03-02T06:00:00Z","includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"AdvertiseCCTrialReminder":{"name":"AdvertiseCCTrialReminder","options":{"T-A":1,"T-B":0},"team":"Growth","partitioningType":"User","description":"Shows a line of text above bullet points on the trial intro page advertising that we send a reminder email. Has similar text in the FAQ.","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"ZeroStateDoclist":{"name":"ZeroStateDoclist","options":{"T-A":0,"T-B":0,"T-C":1},"team":"Growth","partitioningType":"User","description":"Whether to show zero state doclist, link to blank doc on B, to training template on C","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"NewEditor-ffdefault":{"name":"NewEditor-ffdefault","options":{"T-B":0,"T-A":0,"T-B-FF":100,"T-C":0},"team":"Chart1","partitioningType":"User","description":"On the A-arm, a user can opt-in/opt-out with new chart editor. On the B-Arm, an eligible user is forced into new chart editor. On C-arm, the user forced into old chart editor. On the T-B-FF, the user is forced into the new chart editor with FeatureFind","startDate":"2016-11-14T22:30:00Z","endDate":"2017-03-03T01:00:00Z","includedBrowsers":["chrome","safari"],"excludedBrowsers":[],"allowTeams":false,"onlyTeams":false,"legacy":true},"HigherTeamPrices":{"name":"HigherTeamPrices","options":{"T-B":1,"T-A":0,"T-C":0},"team":"","partitioningType":null,"description":null,"startDate":"2016-03-08T17:00:00Z","endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"newTemplateChooser":{"name":"newTemplateChooser","options":{"T-B":0,"T-A":1,"T-C":0},"team":"Growth","partitioningType":"User","description":"The old template chooser (T-A) vs. the same version but in angular (T-B) vs. the new version in angular (T-C)","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"ShowPressWebGLToggle":{"name":"ShowPressWebGLToggle","options":{"T-B":100,"T-A":0},"team":"Performance","partitioningType":"User","description":"Whether the WebGL toggle option is shown to the user. T-A: no. T-B: yes.","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"notificationFeed":{"name":"notificationFeed","options":{"T-B":50,"T-A":50},"team":"","partitioningType":null,"description":null,"startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"PricingTableOrderChart":{"name":"PricingTableOrderChart","options":{"Pro-Basic-Team-Enterprise":0,"T-A":1,"Team-Pro-Basic-Enterprise":0},"team":"Growth","partitioningType":"Visitor","description":"Change the order of the levels on the pricing page for new CC required users","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"UpsellCancelledCcTrials":{"name":"UpsellCancelledCcTrials","options":{"NoSurvey":1,"Survey":1,"T-A":1},"team":"Growth","partitioningType":"Account","description":"When a credit card required trial has been cancelled, try to get the user to resubscribe","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"MicrosoftPeoplesChoice2016Popup":{"name":"MicrosoftPeoplesChoice2016Popup","options":{"T-B":0,"T-A":100},"team":"","partitioningType":null,"description":null,"startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"awsImport":{"name":"awsImport","options":{"T-B":1,"T-A":0},"team":"Chart3","partitioningType":null,"description":"Enable AWS import","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"UseNewOrgChartDialogs":{"name":"UseNewOrgChartDialogs","options":{"T-A":1,"T-B":1},"team":"Chart 3","partitioningType":"User","description":"Enables the new org chart dialogs","startDate":"2017-03-21T17:00:00Z","endDate":"2099-01-01T00:00:00Z","includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"MicrosoftSettingsPage":{"name":"MicrosoftSettingsPage","options":{"T-A":1,"T-B":1},"team":"Integrations","partitioningType":"Visitor","description":"Shows the Microsoft option on the user settings page","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"PayWithPaypalPress":{"name":"PayWithPaypalPress","options":{"T-A":0,"T-B":1},"team":"Growth","partitioningType":"Account","description":"Adds a paypal option to the payment page","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"ShowVisioWelcomeDialog":{"name":"ShowVisioWelcomeDialog","options":{"T-A":1,"T-B":0},"team":"Growth","partitioningType":"User","description":"Show an alternate welcome dialog to users who come from one of the Visio landing pages","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"AdditionalFeature":{"name":"AdditionalFeature","options":{"Storage":1,"T-A":1,"Mobile-Apps":1,"Collaboration":1,"Account-Management":0},"team":"Growth","partitioningType":"Visitor","description":"Show an extra feature for Enterprise on the Lucidchart pricing page","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"Ng2TemplateHeaderChart":{"name":"Ng2TemplateHeaderChart","options":{"T-A":1,"T-B":0},"team":"Press","partitioningType":"User","description":"Enable the angular 2 template header in chart doc list","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"UseLuckyOrange":{"name":"UseLuckyOrange","options":{"T-B":1,"T-A":0},"team":"","partitioningType":null,"description":null,"startDate":"2005-01-02T00:00:00Z","endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"EnableRenamePencil":{"name":"EnableRenamePencil","options":{"T-A":1,"T-B":0},"team":"Chart1","partitioningType":"User","description":"Enables the pencil icon next to the document title to edit the title; changes File->Rename to open a rename dialog instead of highlighting the document title for rename","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"timelineShapeLibraryAvailable":{"name":"timelineShapeLibraryAvailable","options":{"T-B":1,"T-A":0},"team":"Chart3","partitioningType":null,"description":null,"startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"SearchableFonts":{"name":"SearchableFonts","options":{"T-B":0,"T-A":100},"team":"Press","partitioningType":"Account","description":"Users on b branch get A search option in the font dropdown","startDate":"2000-01-01T00:00:00Z","endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"MoveUpPaymentButton":{"name":"MoveUpPaymentButton","options":{"MoveBox":1,"T-A":0,"WidenBox":0},"team":"Growth","partitioningType":"User","description":"Move up the payment button on the trial end redirect page so it can be seen on smaller devices without scrolling","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"TemplateSearch":{"name":"TemplateSearch","options":{"T-A":1,"T-B":0},"team":"Growth","partitioningType":"User","description":"Enables template search in the new template chooser","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"AutoLayout":{"name":"AutoLayout","options":{"T-B":1,"T-A":0},"team":"Chart3","partitioningType":null,"description":null,"startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"NewEditor-edge-ie-firefox-11-14":{"name":"NewEditor-edge-ie-firefox-11-14","options":{"T-B":0,"T-A":0,"T-B-FF":50,"T-C":50},"team":"Chart1","partitioningType":"User","description":"On the A-arm, a user can opt-in/opt-out with new chart editor. On the B-Arm, an eligible user is forced into new chart editor. On C-arm, the user forced into old chart editor. On the T-B-FF, the user is forced into the new chart editor with FeatureFind","startDate":"2016-11-14T22:30:00Z","endDate":"2017-01-27T21:00:00Z","includedBrowsers":["microsoft edge","internet explorer","firefox"],"excludedBrowsers":[],"allowTeams":false,"onlyTeams":false,"legacy":true},"ConfirmIndividualTrialPageChart":{"name":"ConfirmIndividualTrialPageChart","options":{"T-A":0,"T-B":1},"team":"Growth","partitioningType":"User","description":"After starting an individual trial in Chart, the B arm is brought to #/users/confirmIndividualTrial, while the A arm follows the default redirect","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"PersonaCustomizationV1ProjectManager":{"name":"PersonaCustomizationV1ProjectManager","options":{"T-A":1,"T-B":1},"team":"Growth","partitioningType":"User","description":"Show an alternate welcome dialog to project managers","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"pressUseWebGL":{"name":"pressUseWebGL","options":{"T-B":100,"T-A":0},"team":"Performance","partitioningType":"User","description":"LucidPress WebGL. T-A forces 2d canvas rendering, T-B forces WebGL","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"UILineSpecificJumps":{"name":"UILineSpecificJumps","options":{"Add-UI-For-Jumps":1,"T-A":0},"team":"Chart3","partitioningType":"User","description":"Adds the UI for the line specific jumps to the new editor","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"ShowPayButtonOnDocsList":{"name":"ShowPayButtonOnDocsList","options":{"T-B":1,"T-A":0},"team":"Growth","partitioningType":"User","description":"On the B arm, there is a buy now/upgrade button in the top right corner of the docs list","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"DownloadProgressDialog":{"name":"DownloadProgressDialog","options":{"T-A":1,"T-B":0},"team":"Chart1","partitioningType":"User","description":"Show a dialog in the new editor for download progress","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"Feb2016Onboardingv2":{"name":"Feb2016Onboardingv2","options":{"T-B":0,"T-A":1},"team":"","partitioningType":null,"description":null,"startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"PerUserPerMonthPricesPress":{"name":"PerUserPerMonthPricesPress","options":{"T-A":1,"T-B":0,"T-C":0},"team":"Growth","partitioningType":"UserSpanning","description":"Shows prices on the pricing page as per user per month. T-B uses two decimal places, T-C uses whole numbers","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"WebGLOnlyRenderOnPropertyChange":{"name":"WebGLOnlyRenderOnPropertyChange","options":{"T-B":0,"T-A":1},"team":"Performance","partitioningType":null,"description":"T-B skips gl render if nothing changed on the document","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"TryItNowRegister":{"name":"TryItNowRegister","options":{"T-B":0,"T-A":1},"team":"","partitioningType":null,"description":null,"startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"DataLinking":{"name":"DataLinking","options":{"T-A":1,"T-B":1},"team":"Chart3","partitioningType":"Account","description":"Show data linking UI in the new editor","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"CMYKColorChooserBrandAssets":{"name":"CMYKColorChooserBrandAssets","options":{"T-A":1,"T-B":0},"team":"Press","partitioningType":"Account","description":"Give users CMYK color options for their brand assets","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"newChartEditor":{"name":"newChartEditor","options":{"T-B":0,"T-A":100},"team":"Chart1","partitioningType":"User","description":"Whether to use the new chart editor","startDate":"2048-01-01T00:00:00Z","endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"MultiCurrency":{"name":"MultiCurrency","options":{"T-A":1,"T-B":1},"team":"Growth","partitioningType":"AccountSpanning","description":"Let users pay in local currencies assigning currency based off geo-ip","startDate":"2017-02-07T06:00:00Z","endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"RushOrdersDisabled":{"name":"RushOrdersDisabled","options":{"DisableRushOrders":0,"T-A":1},"team":"Press","partitioningType":"User","description":"Temporarily disable rush orders for things like holidays","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"SnapToEqualLineLength":{"name":"SnapToEqualLineLength","options":{"T-A":1,"T-B":0},"team":"Chart3","partitioningType":"User","description":"Turn on snapping and guides for lines of equal length within a certain radius","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"newRegisterLevelPage-TryBuy":{"name":"newRegisterLevelPage-TryBuy","options":{"T-D":0,"T-E":0,"T-A":1,"T-B":0,"T-C":0},"team":"","partitioningType":null,"description":null,"startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"AutoDetectEduPress":{"name":"AutoDetectEduPress","options":{"T-A":0,"T-B":1},"team":"Growth","partitioningType":"User","description":"Auto-upgrade free users with certain email addresses to edu accounts","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"SkipSecondLayoutState":{"name":"SkipSecondLayoutState","options":{"T-A":0,"T-B":1},"team":"Chart1","partitioningType":"User","description":"Changes the way hiding side panels works in the new editor","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"ShowCancelAccountButton":{"name":"ShowCancelAccountButton","options":{"T-A":1,"T-B":0},"team":"Growth","partitioningType":"Account","description":"Shows 'cancel account' button in editor and docs list","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"PrintAndShipEarlyPDFDownload":{"name":"PrintAndShipEarlyPDFDownload","options":{"T-A":0,"T-B":1},"team":"Press","partitioningType":"Account","description":"Allow users to Order Prints","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"ChartCollaborationPaywall":{"name":"ChartCollaborationPaywall","options":{"T-A":1,"T-B":0},"team":"Growth","partitioningType":"AccountSpanning","description":"Users can only share with one other 'Collaborator' unless they are on a team.","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"ShowInviteButtonOnDocsList":{"name":"ShowInviteButtonOnDocsList","options":{"T-B":0,"T-A":1},"team":"","partitioningType":null,"description":null,"startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"PersonaCustomizationV1HRManager":{"name":"PersonaCustomizationV1HRManager","options":{"T-A":1,"T-B":1},"team":"Growth","partitioningType":"User","description":"Show an alternate welcome dialog to HR managers","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"PrintAndShipEnterprise":{"name":"PrintAndShipEnterprise","options":{"T-A":0,"T-B":1},"team":"Press","partitioningType":"Account","description":"Allow enterprise users to Order Prints","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"JiveIntegration":{"name":"JiveIntegration","options":{"T-B":1,"T-A":0},"team":"Chart3","partitioningType":"Account","description":"The B arm will see a Jive integration card in Team Admin; A will not","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"TemplateChooserDefaultOpen":{"name":"TemplateChooserDefaultOpen","options":{"T-B":0,"T-A":100},"team":"Press","partitioningType":"Account","description":"The first time a user sees the docs list, the template chooser should open","startDate":"2015-01-01T00:00:00Z","endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"FixGrowlStackingBug":{"name":"FixGrowlStackingBug","options":{"T-A":1,"T-B":0},"team":"Chart1","partitioningType":"User","description":"This is an abtest for a bug fix. Specifically it is fixing the bug where multiple identical growls get shown on top of each other.","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"ShowCanvasTooltips":{"name":"ShowCanvasTooltips","options":{"T-B":1,"T-A":0},"team":"Chart1","partitioningType":null,"description":"Whether or not to show tooltips on the canvas in the new chart editor","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"DrawLineFromShapeTooltip":{"name":"DrawLineFromShapeTooltip","options":{"T-A":1,"T-B":0},"team":"Chart1","partitioningType":"User","description":"Shows the drag new line tooltip when dropping shape when shape is active until line is drawn","startDate":"2099-01-01T00:00:00Z","endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"DelayedPayNowGrowl":{"name":"DelayedPayNowGrowl","options":{"T-B":0,"T-A":100,"T-D":0,"T-C":0},"team":"Press","partitioningType":"Account","description":"For free users, delay the pay-now growl for X time: A=default, B=2 minutes, C=5 minutes, D=10 minutes","startDate":"2015-01-01T00:00:00Z","endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"DefaultPageOrientation":{"name":"DefaultPageOrientation","options":{"T-A":0,"T-B":1},"team":"Chart1","partitioningType":"User","description":"Default to landscape orientation when creating new empty documents","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"MicrosoftSSORegistration":{"name":"MicrosoftSSORegistration","options":{"T-A":1,"T-B":1},"team":"Integrations","partitioningType":"Visitor","description":"Adds Microsoft SSO to the registration pages","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"showBetaFeedback":{"name":"showBetaFeedback","options":{"T-B":1,"T-A":0},"team":"Chart1","partitioningType":null,"description":null,"startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"editControlPoints":{"name":"editControlPoints","options":{"T-B":100,"T-A":0},"team":"Chart1","partitioningType":"User","description":null,"startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"AutoDetectEduChart":{"name":"AutoDetectEduChart","options":{"T-A":0,"T-B":1},"team":"Growth","partitioningType":"User","description":"Auto-upgrade free users with certain email addresses to edu accounts","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"TypeScriptTest":{"name":"TypeScriptTest","options":{"T-B":100,"T-A":0},"team":"Chart1","partitioningType":"User","description":"Use typescript for new editor when opting in","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"PrintAndShipReviewV2":{"name":"PrintAndShipReviewV2","options":{"T-A":0,"T-B":1},"team":"Press","partitioningType":"Account","description":"Allow users to Order Prints with a new Review Page 2","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"EmphasizeChargedZeroTodayChart":{"name":"EmphasizeChargedZeroTodayChart","options":{"T-A":1,"T-B":1},"team":"Growth","partitioningType":"User","description":"T-B emphasizes that user will be charged zero today","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"DrawRedDotsInstantly":{"name":"DrawRedDotsInstantly","options":{"T-A":1,"T-B":0},"team":"Chart1","partitioningType":"User","description":"Shows the red dots around shape as soon as shape is dropped instead of only after hovering off shape and coming back","startDate":"2099-01-01T00:00:00Z","endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"EnableBetaOnboardingDialog":{"name":"EnableBetaOnboardingDialog","options":{"T-A":100,"T-B":0},"team":"Chart1","partitioningType":"User","description":"Enables the beta onboarding dialog to show to users to switch from the old editor to the new editor","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"RequestToJoinTeam":{"name":"RequestToJoinTeam","options":{"T-B":1,"T-A":0},"team":"Growth","partitioningType":"User","description":"Whether new non-paying users see the option to request to join a paying team on their domain","startDate":"2016-06-14T18:00:00Z","endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"ExpiredTeamGrowlSwap":{"name":"ExpiredTeamGrowlSwap","options":{"T-B":0,"T-A":1},"team":"Growth","partitioningType":"Account","description":"The B arm swaps the two clauses in the growl that comes up when your team account is expired","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"ProxyKMRequests":{"name":"ProxyKMRequests","options":{"T-B":1,"T-A":0},"team":"Growth","partitioningType":null,"description":null,"startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"CondenseTrialIntroPage":{"name":"CondenseTrialIntroPage","options":{"T-A":1,"T-B":0},"team":"Growth","partitioningType":"User","description":"T-B condenses the content of the Trial Intro page so more content is visible above the fold","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"UseNewEmptyStates":{"name":"UseNewEmptyStates","options":{"T-A":1,"T-B":0},"team":"Chart1","partitioningType":"User","description":"Displays new empty states in Lucidchart","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"NewEditor-09-16":{"name":"NewEditor-09-16","options":{"T-B":50,"T-A":0,"T-B-FF":50,"T-C":50},"team":"Chart1","partitioningType":"User","description":"On the A-arm, a user can opt-in/opt-out with new chart editor. On the B-Arm, an eligible user is forced into new chart editor. On C-arm, the user forced into old chart editor. On the T-B-FF, the user is forced into the new chart editor with FeatureFind","startDate":"2016-09-16T21:30:00Z","endDate":"2016-11-14T22:30:00Z","includedBrowsers":["chrome","safari"],"excludedBrowsers":[],"allowTeams":false,"onlyTeams":false,"legacy":true},"NewNotificationsSystem":{"name":"NewNotificationsSystem","options":{"T-A":1,"T-B":0},"team":"Chart1","partitioningType":"User","description":"Displaying new notification from growls","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"NewEditor_TeamTest":{"name":"NewEditor_TeamTest","options":{"T-B":0,"T-A":0,"T-B-FF":50,"T-C":50},"team":"Chart1","partitioningType":"Account","description":"On the A-arm, a user can opt-in/opt-out with new chart editor. On the B-Arm, an eligible user is forced into new chart editor. On C-arm, the user forced into old chart editor. On the T-B-FF, the user is forced into the new chart editor with FeatureFind","startDate":"2017-02-03T01:00:00Z","endDate":"2017-03-03T01:00:00Z","includedBrowsers":[],"excludedBrowsers":[],"allowTeams":true,"onlyTeams":true,"legacy":true},"DocumentListAdsTest":{"name":"DocumentListAdsTest","options":{"T-A":1,"T-B":1},"team":"Growth","partitioningType":"User","description":"Show different set of ads","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"CanShowNPS":{"name":"CanShowNPS","options":{"T-A":1,"T-B":1},"team":"Chart1","partitioningType":"User","description":"Allows the net promoter score survey to be shown","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"PresentationTriggeredShareNotification":{"name":"PresentationTriggeredShareNotification","options":{"T-A":1,"T-B":1},"team":"Chart1","partitioningType":"User","description":"Triggers a share notification when user enters presentation mode with a document that has no collaborators.","startDate":"2017-02-17T06:00:00Z","endDate":"2017-03-02T07:00:00Z","includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"AsyncronousPublicationPDFGeneration":{"name":"AsyncronousPublicationPDFGeneration","options":{"T-A":0,"T-B":1},"team":"Press","partitioningType":"User","description":"Makes generation of PDFs for publications asyncronous in the client","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"PublishingPremiumFeatures":{"name":"PublishingPremiumFeatures","options":{"T-B":0,"T-A":100},"team":"Press","partitioningType":"Account","description":"While a document is being published, a slider with premium publish features appears in the publish dialog.","startDate":"2016-08-06T00:00:00Z","endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"EncourageAddBookmarkChart":{"name":"EncourageAddBookmarkChart","options":{"T-A":1,"T-B":1},"team":"Growth","partitioningType":"User","description":"T-B encourage users to add a bookmark to the docs list","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"FeatureFindAnalytics":{"name":"FeatureFindAnalytics","options":{"T-B":1,"T-A":0},"team":"Chart1","partitioningType":null,"description":"Enable feature find analytics","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"CancellationFlowQuestions":{"name":"CancellationFlowQuestions","options":{"T-A":1,"T-B":1},"team":"Growth","partitioningType":"User","description":"T-B shows new response pages for some cancellation reasons","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"newTeamFlow":{"name":"newTeamFlow","options":{"T-B":50,"T-A":50},"team":"Chart1","partitioningType":null,"description":null,"startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"Ng2TemplateHeader":{"name":"Ng2TemplateHeader","options":{"T-A":0,"WithTemplateChooserHide":0,"WithTemplateChooserOpen":1},"team":"Press","partitioningType":"User","description":"Enable the angular 2 template header in press doc list","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"ChartLoginNoFooterUpdatedHeader":{"name":"ChartLoginNoFooterUpdatedHeader","options":{"T-A":1,"T-B":1},"team":"Growth","partitioningType":"Visitor","description":"Whether to hide the footer and show extra links in the header","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"FeatureFind2":{"name":"FeatureFind2","options":{"T-A":0,"T-B":1},"team":"Chart1","partitioningType":"Account","description":"Enable feature find in the new editor","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"teamAdmin7Day":{"name":"teamAdmin7Day","options":{"T-B":0,"T-A":100},"team":"Chart3","partitioningType":"Account","description":"T-B run the previous 'adminLight' and 'newTeamFlow' for the first 7 days of account creation","startDate":"2016-03-07T23:00:00Z","endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"TeamWelcomeDialog":{"name":"TeamWelcomeDialog","options":{"T-B":0,"T-A":1},"team":"Growth","partitioningType":"User","description":"T-B shows a welcome dialog to new team admins that helps them invite team members","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"NewEditor-03-02-17":{"name":"NewEditor-03-02-17","options":{"T-B":0,"T-A":0,"T-B-FF":50,"T-C":50},"team":"Chart1","partitioningType":"Account","description":"On the A-arm, a user can opt-in/opt-out with new chart editor. On the B-Arm, an eligible user is forced into new chart editor. On C-arm, the user forced into old chart editor. On the T-B-FF, the user is forced into the new chart editor with FeatureFind","startDate":"2017-03-03T01:00:00Z","endDate":"2017-03-23T00:30:00Z","includedBrowsers":[],"excludedBrowsers":[],"allowTeams":true,"onlyTeams":false,"legacy":true},"CreditCardRequiredRegistrationPart2":{"name":"CreditCardRequiredRegistrationPart2","options":{"T-B":1,"T-A":0},"team":"","partitioningType":null,"description":null,"startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"enableLineConnections":{"name":"enableLineConnections","options":{"T-B":0,"T-A":0,"T-C":1},"team":"Chart1","partitioningType":"User","description":"Whether to give users the ability to turn line connections on and off","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"UnlicensedWelcomeDialog":{"name":"UnlicensedWelcomeDialog","options":{"T-A":0,"T-B":1},"team":"Growth","partitioningType":"Account","description":"New welcome dialog for unlicensed team users","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"BlockMoveGrabCursor2":{"name":"BlockMoveGrabCursor2","options":{"T-A":1,"T-B":0},"team":"Chart1","partitioningType":"User","description":"Shows the grab and grabbing hand cursor when dragging out new shapes AND moving shapes already on the canvas","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"Ng2TemplateHeaderEnterprise":{"name":"Ng2TemplateHeaderEnterprise","options":{"T-A":0,"T-B":1},"team":"Press","partitioningType":"User","description":"Enable the template header from Enterprise people","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"ShowAddonRatingDialog":{"name":"ShowAddonRatingDialog","options":{"T-A":1,"T-B":1},"team":"Integrations","partitioningType":"User","description":"Show a prompt to rate our add-on in third party marketplaces","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"Ng2PersonaSelectionRolesChart":{"name":"Ng2PersonaSelectionRolesChart","options":{"T-A":1,"T-B":1},"team":"Growth","partitioningType":"User","description":"Adds a Role selection to Ng2 persona selection dialog","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"MicrosoftPeoplesChoice2016Ad":{"name":"MicrosoftPeoplesChoice2016Ad","options":{"T-B":0,"T-A":100},"team":"","partitioningType":null,"description":null,"startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"ChartTeamDowngradeFriction":{"name":"ChartTeamDowngradeFriction","options":{"T-A":1,"T-B":1},"team":"Growth","partitioningType":"Account","description":"Enables a check that no users will become unlicensed before performing a downgrade in team level selection (user settings)","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"PressTeamDowngradeFriction":{"name":"PressTeamDowngradeFriction","options":{"T-A":1,"T-B":0},"team":"Growth","partitioningType":"Account","description":"Enables a check that no users will become unlicensed before performing a downgrade in team level selection (user settings)","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"BackupDocumentsVisibility":{"name":"BackupDocumentsVisibility","options":{"T-B":0,"T-A":100,"T-C":0},"team":"Press","partitioningType":"Account","description":"Add link in docslist to improve visibility for backup/restore page. T-A no change, T-B link by storage meter, T-C button by search bar.","startDate":"2016-08-22T00:00:00Z","endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"ArcRounding":{"name":"ArcRounding","options":{"T-A":1,"UseArcs":0},"team":"Performance","partitioningType":"User","description":"Use new arc primitive to implement rounded corners on shapes","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"PersonaCustomizationV1SoftwareEngineer":{"name":"PersonaCustomizationV1SoftwareEngineer","options":{"T-A":1,"T-B":1},"team":"Growth","partitioningType":"User","description":"Show an alternate welcome dialog to software engineers","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"WebGLAlwaysSendRenderMetrics":{"name":"WebGLAlwaysSendRenderMetrics","options":{"T-B":1,"T-A":0},"team":"Performance","partitioningType":null,"description":"T-B always sends render metrics, T-A sends render metrics only if some item was drawn on the screen","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"newChartEditorForced":{"name":"newChartEditorForced","options":{"T-B":50,"T-A":0,"T-B-FF":0,"T-C":50},"team":"Chart1","partitioningType":"Account","description":"On the A-arm, a user can opt-in/opt-out with new chart editor. On the B-Arm, an eligible user is forced into new chart editor. On C-arm, the user forced into old chart editor. On the T-B-FF, the user is forced into the new chart editor with FeatureFind","startDate":"2020-01-01T00:00:00Z","endDate":"2020-01-02T00:00:00Z","includedBrowsers":[],"excludedBrowsers":[],"allowTeams":true,"onlyTeams":false,"legacy":true},"usePostForRecurly":{"name":"usePostForRecurly","options":{"T-B":1,"T-A":0},"team":"","partitioningType":null,"description":null,"startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"optInBetaButton":{"name":"optInBetaButton","options":{"T-B":100,"T-A":0},"team":"Chart1","partitioningType":"User","description":"Whether to show the opt-into-beta button in the legacy editor","startDate":"1988-08-12T00:00:00Z","endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"TrainingNotifications":{"name":"TrainingNotifications","options":{"T-A":1,"T-B":0},"team":"Chart1","partitioningType":"User","description":"Training notifications","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"LicenseOnInvite":{"name":"LicenseOnInvite","options":{"T-B":1,"T-A":1},"team":"Growth","partitioningType":"Account","description":"Whether to license users invited to edit by admin","startDate":"2116-07-25T00:00:00Z","endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"InviteCollaboratorsCheckbox":{"name":"InviteCollaboratorsCheckbox","options":{"T-B":0,"T-A":1},"team":"","partitioningType":null,"description":null,"startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"userPageRedesign":{"name":"userPageRedesign","options":{"T-B":1,"T-A":0},"team":"Chart2","partitioningType":"Account","description":"Used to control if a user sees the old or new user account settings","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"MoveComplexityToBottom":{"name":"MoveComplexityToBottom","options":{"T-A":1,"T-B":0},"team":"Chart1","partitioningType":"User","description":"Move document complexity meter below toolbox","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"DocumentListAdsPromoteAffiliateTest":{"name":"DocumentListAdsPromoteAffiliateTest","options":{"T-A":1,"T-B":0},"team":"Growth","partitioningType":"User","description":"Show different set of ads","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"UserCreateOnDocInviteAccept":{"name":"UserCreateOnDocInviteAccept","options":{"T-B":1,"T-A":0},"team":"","partitioningType":null,"description":null,"startDate":"2016-03-22T15:30:00Z","endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"Team3":{"name":"Team3","options":{"T-B":0,"T-A":1},"team":"","partitioningType":null,"description":null,"startDate":"2030-12-01T00:00:00Z","endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"WatermarkPDF":{"name":"WatermarkPDF","options":{"T-A":50,"T-B":50},"team":"Press","partitioningType":"Account","description":"Free users can export and print PDF/JPG/PNG files, but we add watermarks to the document","startDate":"2016-09-19T12:00:00Z","endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"ThompsonTaglines":{"name":"ThompsonTaglines","options":{"T-B":0,"T-A":1},"team":"","partitioningType":null,"description":null,"startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"PersonaCustomizationV1NetworkEngineer":{"name":"PersonaCustomizationV1NetworkEngineer","options":{"T-A":1,"T-B":1},"team":"Growth","partitioningType":"User","description":"Show an alternate welcome dialog to network engineers","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"PPAutoUpgrade":{"name":"PPAutoUpgrade","options":{"T-B":1,"T-A":0},"team":"","partitioningType":null,"description":null,"startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"PersonaSelectionChart":{"name":"PersonaSelectionChart","options":{"T-A":0,"T-B":0,"T-C":1},"team":"Growth","partitioningType":"User","description":"Enables a persona selection dialog in the docs list","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"TogglePresentationFrames":{"name":"TogglePresentationFrames","options":{"T-B":1,"T-A":0},"team":"Chart1","partitioningType":null,"description":"Whether or not to toggle presentation slides when opening and closing the Present tab in the right panel","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"DragAndDropCursorToolbox":{"name":"DragAndDropCursorToolbox","options":{"T-A":1,"T-B":0},"team":"Chart3","partitioningType":"User","description":"Turn on the drag and drop cursor in the toolbox and in the new shape manager in the new editorIt will also turn on the grabbing hand cursor when dropping blocks etc. onto the canvas in the new and old editors.","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"ConfirmTeamPage":{"name":"ConfirmTeamPage","options":{"T-B":0,"T-A":1},"team":"Growth","partitioningType":"User","description":"After purchasing a new team subscription, the B arm is brought to #/users/confirmTeam, while the A arm follows the default redirect","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true},"NewEditor-08-19":{"name":"NewEditor-08-19","options":{"T-B":50,"T-A":0,"T-B-FF":0,"T-C":50},"team":"Chart1","partitioningType":"User","description":"On the A-arm, a user can opt-in/opt-out with new chart editor. On the B-Arm, an eligible user is forced into new chart editor. On C-arm, the user forced into old chart editor. On the T-B-FF, the user is forced into the new chart editor with FeatureFind","startDate":"2016-08-19T06:00:00Z","endDate":"2016-08-25T11:00:00Z","includedBrowsers":["chrome","safari"],"excludedBrowsers":[],"allowTeams":false,"onlyTeams":false,"legacy":true},"CanShowPressNPS":{"name":"CanShowPressNPS","options":{"T-A":0,"T-B":1},"team":"Press","partitioningType":"User","description":"Allows the net promoter score survey to be shown in press","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":false},"getsFirstDocFromDialog":{"name":"getsFirstDocFromDialog","options":{"T-B":1,"T-A":1},"team":"Growth","partitioningType":"Account","description":"Determines whether the template chooser uses the blank template or the first document displayed as the default when the user hits the start drawing button","startDate":null,"endDate":null,"includedBrowsers":[],"excludedBrowsers":[],"allowTeams":null,"onlyTeams":null,"legacy":true}},"salesEmail":"Lucidchart <sales@lucidchart.com>","proxyGoogleSearch":true,"awsPlacementRetryLimit":100,"npsInterval":180,"npsDelayBeforeShow":600,"restMaxRetries":2,"restRetryDelayMillis":50,"forceEnterpriseToShowRestrictions":true,"frustrationEvent_minClicks":5,"frustrationEvent_timeFrameMilliseconds":1000,"awsImportHubspotFormId":"6e206fd6-d2ca-4bb6-9b12-8f4788fbe6e5","announcements":[{"id":1,"title":"Check out UML Sequence Markup - easily create a sequence diagram from text input","startDate":"2016-04-05T23:16:00Z","endDate":"2016-05-08T23:16:00Z","product":"chart","link":"https://lucidchart.zendesk.com/hc/en-us/articles/208029986"},{"id":2,"title":"Check out Press announcements!!","startDate":"2016-04-08T23:13:00Z","endDate":"2016-04-15T18:00:00Z","product":"press","link":"www.lucidpress.com"},{"id":3,"title":"Right-click your document to get change notifications when collaborators make edits","startDate":"2016-05-04T23:12:00Z","endDate":"2016-07-07T23:12:00Z","product":"chart","link":"https://lucidchart.zendesk.com/hc/en-us/articles/209839643"}],"google_sheets":{"appId":"MQVd0v7QrXpIQjv5XXGM-DaOsIaQdIeiF","mode":"exec","clientId":"79338057834-7t65k3vt4c9bcguch7l6vr23ptff13lh.apps.googleusercontent.com","scopes":["https://www.googleapis.com/auth/drive.readonly","https://www.googleapis.com/auth/spreadsheets"],"timeOutLengthMs":"2000","sheetsBaseUrl":"https://sheets.googleapis.com/v4/spreadsheets/","driveBaseUrl":"https://www.googleapis.com/drive/v3/files/"},"google_slides":{"authenticationTries":3,"client_id":"7081045131-jvgj70k2a6efhoic0uupahgein20nm6s.apps.googleusercontent.com"},"enterpriseLicenseTrialDuration":3,"licenseTrialBlacklist":["100652363"],"nonAdminsCanInviteUsersDomainBlacklist":[],"NewEditorAbTests":["NewEditor-08-19","NewEditor-09-16","NewEditor-ffdefault","NewEditor-edge-ie-firefox-11-14","NewEditor_TeamTest","NewEditor-03-02-17","NewEditor-final","newChartEditorForced"],"oneDriveClientId":"ad4f8bfd-86eb-408d-bff0-122e8ad2837f","imageManagerDiscontinuedDate":"Tue May 17 2120 12:00:00","defaultFamily":"Liberation Sans","featureRequestTimeoutSeconds":604800,"restoreBackupMinRate":20};
window['lucidConfigure']['languageInfo'] = {}
window['lucidConfigure']['languageInfo']['primaryLanguage'] = 'en-US';
window['lucidConfigure']['languageInfo']['languageServed'] = 'en-us';

</script>




    <script src="//d5x2n72glkaxl.cloudfront.net/js/chartDeps?compiled=1&2017-3-22_19-57-44"></script>
    
        

<script src="//d5x2n72glkaxl.cloudfront.net/js/i18n?target=lucid&language=en-US&compiled=1&i18nDebug=0&2017-3-22_19-57-44"></script>

        <script src="//d5x2n72glkaxl.cloudfront.net/js/chart?compiled=1&ng2offline=1&2017-3-22_19-57-44"></script>
    

<script>
    angular.module('RestBootstrap', [])
        .value('userServiceBootstrapURI', "https://users.lucidchart.com");
</script>

<script>

lucid.useragent.redirectOldBrowsers();


    lucid.TimeTracker.category = 'Chart View';



    $(window).load(function() {
        lucid.Profiler.breakdown(1490286377161000);
    });


lucid.iconfinder.version = 1;
$(function() {
    

    
        if(window.performance && window.performance.timing) {
            var startJsTime = window.performance.timing.domContentLoadedEventStart - window.performance.timing.navigationStart;
            window.loadTimer = new lucid.TimeTracker(lucid.TimeTracker.category,'Loading Time',startJsTime).startTime();

            window.profiler = new lucid.Profiler('Events Breakdown');
            
                window.profiler.setPriority(.5); // 50% chance
            
            window.profiler.start(null, 'domready called');
        }
    

    

    if(!lucid.CollaboratorApp.checkUserAgent())
        return;

    var doc = {"Metadata":[],"plugins":{"/js/plugins/v2/userimage.js":true,"/js/plugins/v2/shapes.js":false,"/js/plugins/v2/flowchart.js":true,"/js/plugins/v2/techclipart.js":false,"/js/plugins/v2/uml.js":true,"/js/plugins/v2/default.js":true},"Category":null,"role":"owner","uri":"https://documents.lucidchart.com/documents/f9b77583-db65-405c-883f-320f20633955","DocumentsUser":[],"Creator":{"first_name":"Dimpho","email":"u15175091@tuks.co.za","username":"u15175091@tuks.co.za","id":117448661,"last_name":"Mahoko"},"ParentCategory":null,"id":"f9b77583-db65-405c-883f-320f20633955","LastModifiedTime":1490286249000,"LastModifiedBy":"Dimpho Mahoko","DocumentAttribute":[{"created":"2017-03-23 16:24:54","document_id":"f9b77583-db65-405c-883f-320f20633955","name":"published","value":"true"},{"created":"2017-03-23 15:36:39","document_id":"f9b77583-db65-405c-883f-320f20633955","name":"originalCreator","value":"117448661"}],"Template":{},"Invitation":[],"Document":{"saved_by_user_name":"Dimpho Mahoko","size":397504,"state":"{\"Properties\":{\"FromPremiumTemplate\":false,\"Title\":\"GIS Subsystem Use Case Diagram\",\"Locked\":false,\"HiddenToolGroups\":{\"flowchart.js\u263AContainers\":true},\"ToolGroupOrder\":[\"default.js\u263AStandard\",\"flowchart.js\u263AFlowchart\",\"flowchart.js\u263AContainers\",\"shapes.js\u263AShapes\",\"userimage.js\u263AUser Images\"],\"ColorTheme\":\"White\",\"DefaultBlockTextVAlign\":\"middle\",\"DefaultBlockLineColor\":\"#000000\",\"DefaultBlockFillColor\":\"#FFFFFF\",\"DefaultBlockLineWidth\":2,\"DefaultBlockStrokeStyle\":\"solid\",\"HyphenBlackList\":[],\"RoundCorners\":0,\"Gradient\":0,\"LineJumps\":false,\"DefaultPageFillColor\":\"#ffffff\",\"DefaultPanelFillColor\":null,\"DefaultMarginTop\":0,\"DefaultMarginBottom\":0,\"DefaultMarginLeft\":0,\"DefaultMarginRight\":0,\"DefaultLineShape\":\"elbow\",\"DefaultLineInset\":0,\"DefaultLineLineColor\":\"#000000\",\"DefaultLineLineWidth\":2,\"DefaultLineStrokeStyle\":\"solid\",\"DefaultStartArrowStyle\":\"None\",\"DefaultEndArrowStyle\":\"None\",\"DefaultTextStyle\":{\"bold\":false,\"italic\":false,\"underline\":false,\"size\":18,\"color\":\"#000000\",\"font\":\"Liberation Sans\",\"allCaps\":false,\"smallCaps\":false},\"DefaultLineTextStyle\":[],\"MarkupDefaults\":{\"font\":\"Liberation Sans\",\"face\":\"\",\"bold\":false,\"italic\":false,\"underline\":false,\"strike\":false,\"strokeWidth\":0,\"strokeColor\":\"\",\"highlight\":\"\",\"link\":null,\"comment\":\"\",\"sup\":false,\"sub\":false,\"textTracking\":1,\"textStretching\":1,\"locked\":false,\"size\":18,\"color\":\"000000\",\"fill\":\"\",\"inlineStyle\":\"\",\"inlineBlock\":\"\",\"spacing\":1,\"marginTop\":0,\"marginBottom\":0,\"borderTop\":0,\"borderTopColor\":0,\"borderBottom\":0,\"borderBottomColor\":0,\"paddingTop\":0,\"paddingBottom\":0,\"defaultTab\":36,\"tabStops\":[],\"indentFL\":0,\"indentLeft\":0,\"indentRight\":0,\"align\":\"\",\"type\":\"p\",\"list\":\"\",\"listAlign\":\"center\",\"ordinal\":-1,\"indentLevel\":1,\"paragraphStyle\":\"\",\"pageBreak\":0,\"columnBreak\":0,\"allCaps\":false,\"smallCaps\":false,\"dropCap\":0,\"dropCapLength\":1,\"hyphenation\":{\"c\":1}},\"Language\":\"en\",\"ParagraphStyles\":[],\"InlineStyles\":[],\"PageUnits\":\"in\",\"FacingPages\":false,\"UseSpreads\":false,\"OnboardingDocument\":false,\"FirstPageHF\":false,\"AltPageHF\":false,\"ShapeLibs\":[],\"Accomplishments\":{},\"Demos\":{},\"LocalImages\":[],\"PubHideDownloadPDF\":false,\"GuidesLocked\":false,\"PubCover\":\"thumb-0.png\",\"fromPremiumTemplate\":false,\"DynamicDataSheets\":[],\"DefaultBlockShadow\":null,\"Columns\":null,\"ColumnSpacing\":null,\"DefaultFont\":\"Helvetica\",\"DefaultFontSize\":18,\"DefaultTextColor\":null,\"MindMapColors\":null,\"NewPanelSize\":{\"w\":1360,\"h\":1760,\"x\":0,\"y\":0},\"Body\":\"\",\"RulerUnits\":\"px\",\"Theme\":\"White\",\"Version\":5},\"Plugins\":{\"/js/plugins/v2/userimage.js\":true,\"/js/plugins/v2/shapes.js\":false,\"/js/plugins/v2/flowchart.js\":true,\"/js/plugins/v2/techclipart.js\":false,\"/js/plugins/v2/uml.js\":true,\"/js/plugins/v2/default.js\":true},\"Pages\":{\"0_0\":{\"Properties\":{\"Title\":\"Page 1\",\"Order\":0,\"DPI\":160,\"GridSpacing\":20,\"Margin\":0.2,\"Bleed\":0,\"FillColor\":\"#ffffff\",\"XGuides\":[],\"YGuides\":[],\"SkipMultipage\":false,\"Size\":{\"w\":1360,\"h\":1760},\"Body\":\"\"},\"Blocks\":{\"Z9ZJHMFoKnJN\":{\"Class\":\"UMLActorBlock\",\"Properties\":{\"BG\":0,\"BoundingBox\":{\"x\":1640,\"y\":200,\"w\":80,\"h\":180},\"FillColor\":\"#FFFFFF\",\"FlipX\":false,\"FlipY\":false,\"Font\":\"Helvetica\",\"Hyphenate\":null,\"IgnoreTheme\":{},\"ImageFillProps\":false,\"InsetMargin\":0,\"LineColor\":\"#000000\",\"LineWidth\":2,\"Link\":null,\"Lock\":0,\"NoteHint\":\"\",\"Opacity\":100,\"Restrictions\":{},\"Rotation\":0,\"StrokeStyle\":\"solid\",\"TextAlign\":\"center\",\"TextLinks\":{},\"TextVAlign\":\"middle\",\"TRotation\":0,\"ZOrder\":40,\"GutterPadding\":5,\"Text\":{\"t\":\"GIS Subsystem\",\"m\":[{\"s\":0,\"n\":\"c\",\"v\":\"000000ff\",\"e\":13}]},\"Shadow\":null}},\"ERZJPCQHelbN\":{\"Class\":\"UMLUseCaseBlock\",\"Properties\":{\"BG\":0,\"BoundingBox\":{\"x\":460,\"y\":1240,\"w\":160,\"h\":120},\"FillColor\":\"#FFFFFF\",\"FlipX\":false,\"FlipY\":false,\"Font\":\"Helvetica\",\"Hyphenate\":null,\"IgnoreTheme\":{},\"ImageFillProps\":false,\"InsetMargin\":5,\"LineColor\":\"#000000\",\"LineWidth\":2,\"Link\":null,\"Lock\":0,\"NoteHint\":\"\",\"Opacity\":100,\"Restrictions\":{},\"Rotation\":0,\"StrokeStyle\":\"solid\",\"TextAlign\":\"center\",\"TextLinks\":{},\"TextVAlign\":\"middle\",\"TRotation\":0,\"ZOrder\":12,\"GutterPadding\":5,\"HasExtensionPoints\":0,\"Text\":{\"t\":\"Get Location by ID\",\"m\":[]},\"TextWrap\":\"fit\",\"ExtensionPoints\":{\"t\":\"Point 1\",\"m\":[]},\"ExtensionPointLabel\":{\"t\":\"Extension Points\",\"m\":[{\"s\":0,\"n\":\"b\",\"v\":true,\"e\":16}]},\"Shadow\":null}},\"dGZJK-MFN1CX\":{\"Class\":\"DefaultSquareBlock\",\"Properties\":{\"BG\":0,\"BoundingBox\":{\"x\":440,\"y\":20,\"w\":420,\"h\":106},\"FillColor\":\"#ffffff00\",\"FlipX\":false,\"FlipY\":false,\"Font\":\"Helvetica\",\"Hyphenate\":null,\"IgnoreTheme\":{},\"ImageFillProps\":false,\"InsetMargin\":5,\"LineColor\":\"#00000000\",\"LineWidth\":2,\"Link\":null,\"Lock\":0,\"NoteHint\":\"\",\"Opacity\":100,\"Restrictions\":{},\"Rotation\":0,\"StrokeStyle\":\"solid\",\"TextAlign\":\"center\",\"TextLinks\":{},\"TextVAlign\":\"middle\",\"TRotation\":0,\"ZOrder\":2,\"GutterPadding\":5,\"Text\":{\"t\":\"GIS Subsystem\",\"m\":[{\"s\":0,\"n\":\"fc\",\"v\":\"Bold\",\"e\":13},{\"s\":0,\"n\":\"b\",\"v\":true,\"e\":13},{\"s\":0,\"n\":\"s\",\"v\":40,\"e\":13},{\"s\":0,\"n\":\"c\",\"v\":\"000000ff\",\"e\":13}]},\"TextWrap\":\"fit\",\"Shadow\":null}},\"IZZJTtDH97tY\":{\"Class\":\"UMLUseCaseBlock\",\"Properties\":{\"BG\":0,\"BoundingBox\":{\"x\":820,\"y\":1040,\"w\":160,\"h\":120},\"FillColor\":\"#FFFFFF\",\"FlipX\":false,\"FlipY\":false,\"Font\":\"Helvetica\",\"Hyphenate\":null,\"IgnoreTheme\":{},\"ImageFillProps\":false,\"InsetMargin\":5,\"LineColor\":\"#000000\",\"LineWidth\":2,\"Link\":null,\"Lock\":0,\"NoteHint\":\"\",\"Opacity\":100,\"Restrictions\":{},\"Rotation\":0,\"StrokeStyle\":\"solid\",\"TextAlign\":\"center\",\"TextLinks\":{},\"TextVAlign\":\"middle\",\"TRotation\":0,\"ZOrder\":31,\"GutterPadding\":5,\"HasExtensionPoints\":0,\"Text\":{\"t\":\"Return Location coordiantes and ID\",\"m\":[]},\"TextWrap\":\"fit\",\"ExtensionPoints\":{\"t\":\"Point 1\",\"m\":[]},\"ExtensionPointLabel\":{\"t\":\"Extension Points\",\"m\":[{\"s\":0,\"n\":\"b\",\"v\":true,\"e\":16}]},\"Shadow\":null}},\"APZJ.0aKtemp\":{\"Class\":\"UMLUseCaseBlock\",\"Properties\":{\"BG\":0,\"BoundingBox\":{\"x\":460,\"y\":420,\"w\":160,\"h\":120},\"FillColor\":\"#FFFFFF\",\"FlipX\":false,\"FlipY\":false,\"Font\":\"Helvetica\",\"Hyphenate\":null,\"IgnoreTheme\":{},\"ImageFillProps\":false,\"InsetMargin\":5,\"LineColor\":\"#000000\",\"LineWidth\":2,\"Link\":null,\"Lock\":0,\"NoteHint\":\"\",\"Opacity\":100,\"Restrictions\":{},\"Rotation\":0,\"StrokeStyle\":\"solid\",\"TextAlign\":\"center\",\"TextLinks\":{},\"TextVAlign\":\"middle\",\"TRotation\":0,\"ZOrder\":8,\"GutterPadding\":5,\"HasExtensionPoints\":0,\"Text\":{\"t\":\"Delete Location\",\"m\":[]},\"TextWrap\":\"fit\",\"ExtensionPoints\":{\"t\":\"Point 1\",\"m\":[]},\"ExtensionPointLabel\":{\"t\":\"Extension Points\",\"m\":[{\"s\":0,\"n\":\"b\",\"v\":true,\"e\":16}]},\"Shadow\":null}},\"J1ZJOFLVwpxY\":{\"Class\":\"UMLUseCaseBlock\",\"Properties\":{\"BG\":0,\"BoundingBox\":{\"x\":820,\"y\":1240,\"w\":160,\"h\":120},\"FillColor\":\"#FFFFFF\",\"FlipX\":false,\"FlipY\":false,\"Font\":\"Helvetica\",\"Hyphenate\":null,\"IgnoreTheme\":{},\"ImageFillProps\":false,\"InsetMargin\":5,\"LineColor\":\"#000000\",\"LineWidth\":2,\"Link\":null,\"Lock\":0,\"NoteHint\":\"\",\"Opacity\":100,\"Restrictions\":{},\"Rotation\":0,\"StrokeStyle\":\"solid\",\"TextAlign\":\"center\",\"TextLinks\":{},\"TextVAlign\":\"middle\",\"TRotation\":0,\"ZOrder\":32,\"GutterPadding\":5,\"HasExtensionPoints\":0,\"Text\":{\"t\":\"Return Location name and coordiantes\",\"m\":[]},\"TextWrap\":\"fit\",\"ExtensionPoints\":{\"t\":\"Point 1\",\"m\":[]},\"ExtensionPointLabel\":{\"t\":\"Extension Points\",\"m\":[{\"s\":0,\"n\":\"b\",\"v\":true,\"e\":16}]},\"Shadow\":null}},\"eMZJ7RXo4G5y\":{\"Class\":\"UMLActorBlock\",\"Properties\":{\"BG\":0,\"BoundingBox\":{\"x\":100,\"y\":200,\"w\":80,\"h\":180},\"FillColor\":\"#FFFFFF\",\"FlipX\":false,\"FlipY\":false,\"Font\":\"Helvetica\",\"Hyphenate\":null,\"IgnoreTheme\":{},\"ImageFillProps\":false,\"InsetMargin\":0,\"LineColor\":\"#000000\",\"LineWidth\":2,\"Link\":null,\"Lock\":0,\"NoteHint\":\"\",\"Opacity\":100,\"Restrictions\":{},\"Rotation\":0,\"StrokeStyle\":\"solid\",\"TextAlign\":\"center\",\"TextLinks\":{},\"TextVAlign\":\"middle\",\"TRotation\":0,\"ZOrder\":5,\"GutterPadding\":5,\"Text\":{\"t\":\"User\",\"m\":[{\"s\":0,\"n\":\"c\",\"v\":\"000000ff\",\"e\":4}]},\"Shadow\":null}},\"G2ZJbk6u-pyS\":{\"Class\":\"DefaultSquareBlock\",\"Properties\":{\"BG\":0,\"BoundingBox\":{\"x\":580,\"y\":200,\"w\":240,\"h\":60},\"FillColor\":\"#ffffff00\",\"FlipX\":false,\"FlipY\":false,\"Font\":\"Helvetica\",\"Hyphenate\":null,\"IgnoreTheme\":{},\"ImageFillProps\":false,\"InsetMargin\":5,\"LineColor\":\"#00000000\",\"LineWidth\":2,\"Link\":null,\"Lock\":0,\"NoteHint\":\"\",\"Opacity\":100,\"Restrictions\":{},\"Rotation\":0,\"StrokeStyle\":\"solid\",\"TextAlign\":\"center\",\"TextLinks\":{},\"TextVAlign\":\"middle\",\"TRotation\":0,\"ZOrder\":34,\"GutterPadding\":5,\"Text\":{\"t\":\"\",\"m\":[],\"s\":{\"f\":\"Liberation Sans\",\"fc\":\"\",\"b\":false,\"i\":false,\"u\":false,\"k\":false,\"rw\":0,\"rc\":\"\",\"hl\":\"\",\"lk\":null,\"cmt\":\"\",\"sup\":false,\"sub\":false,\"tt\":1,\"tss\":1,\"o\":false,\"s\":18,\"c\":\"000000ff\",\"undefined\":\"\",\"is\":\"\",\"ac\":false,\"sc\":false}},\"TextWrap\":\"fit\",\"Shadow\":null}},\"URZJ3Gtt4_wH\":{\"Class\":\"UMLUseCaseBlock\",\"Properties\":{\"BG\":0,\"BoundingBox\":{\"x\":460,\"y\":1440,\"w\":160,\"h\":120},\"FillColor\":\"#FFFFFF\",\"FlipX\":false,\"FlipY\":false,\"Font\":\"Helvetica\",\"Hyphenate\":null,\"IgnoreTheme\":{},\"ImageFillProps\":false,\"InsetMargin\":5,\"LineColor\":\"#000000\",\"LineWidth\":2,\"Link\":null,\"Lock\":0,\"NoteHint\":\"\",\"Opacity\":100,\"Restrictions\":{},\"Rotation\":0,\"StrokeStyle\":\"solid\",\"TextAlign\":\"center\",\"TextLinks\":{},\"TextVAlign\":\"middle\",\"TRotation\":0,\"ZOrder\":13,\"GutterPadding\":5,\"HasExtensionPoints\":0,\"Text\":{\"t\":\"Get Location by Coordinates\",\"m\":[]},\"TextWrap\":\"fit\",\"ExtensionPoints\":{\"t\":\"Point 1\",\"m\":[]},\"ExtensionPointLabel\":{\"t\":\"Extension Points\",\"m\":[{\"s\":0,\"n\":\"b\",\"v\":true,\"e\":16}]},\"Shadow\":null}},\"1IZJFAjMfIx7\":{\"Class\":\"UMLUseCaseBlock\",\"Properties\":{\"BG\":0,\"BoundingBox\":{\"x\":460,\"y\":230,\"w\":160,\"h\":120},\"FillColor\":\"#FFFFFF\",\"FlipX\":false,\"FlipY\":false,\"Font\":\"Helvetica\",\"Hyphenate\":null,\"IgnoreTheme\":{},\"ImageFillProps\":false,\"InsetMargin\":5,\"LineColor\":\"#000000\",\"LineWidth\":2,\"Link\":null,\"Lock\":0,\"NoteHint\":\"\",\"Opacity\":100,\"Restrictions\":{},\"Rotation\":0,\"StrokeStyle\":\"solid\",\"TextAlign\":\"center\",\"TextLinks\":{},\"TextVAlign\":\"middle\",\"TRotation\":0,\"ZOrder\":4,\"GutterPadding\":5,\"HasExtensionPoints\":0,\"Text\":{\"t\":\"Create Location\",\"m\":[]},\"TextWrap\":\"fit\",\"ExtensionPoints\":{\"t\":\"Point 1\",\"m\":[]},\"ExtensionPointLabel\":{\"t\":\"Extension Points\",\"m\":[{\"s\":0,\"n\":\"b\",\"v\":true,\"e\":16}]},\"Shadow\":null}},\"KYZJM8gBm_tB\":{\"Class\":\"UMLUseCaseBlock\",\"Properties\":{\"BG\":0,\"BoundingBox\":{\"x\":820,\"y\":230,\"w\":160,\"h\":120},\"FillColor\":\"#FFFFFF\",\"FlipX\":false,\"FlipY\":false,\"Font\":\"Helvetica\",\"Hyphenate\":null,\"IgnoreTheme\":{},\"ImageFillProps\":false,\"InsetMargin\":5,\"LineColor\":\"#000000\",\"LineWidth\":2,\"Link\":null,\"Lock\":0,\"NoteHint\":\"\",\"Opacity\":100,\"Restrictions\":{},\"Rotation\":0,\"StrokeStyle\":\"solid\",\"TextAlign\":\"center\",\"TextLinks\":{},\"TextVAlign\":\"middle\",\"TRotation\":0,\"ZOrder\":30,\"GutterPadding\":5,\"HasExtensionPoints\":0,\"Text\":{\"t\":\"Validate Admin Status\",\"m\":[]},\"TextWrap\":\"fit\",\"ExtensionPoints\":{\"t\":\"Point 1\",\"m\":[]},\"ExtensionPointLabel\":{\"t\":\"Extension Points\",\"m\":[{\"s\":0,\"n\":\"b\",\"v\":true,\"e\":16}]},\"Shadow\":null}},\".5ZJrHIPoqTE\":{\"Class\":\"UMLUseCaseBlock\",\"Properties\":{\"BG\":0,\"BoundingBox\":{\"x\":1180,\"y\":230,\"w\":160,\"h\":120},\"FillColor\":\"#FFFFFF\",\"FlipX\":false,\"FlipY\":false,\"Font\":\"Helvetica\",\"Hyphenate\":null,\"IgnoreTheme\":{},\"ImageFillProps\":false,\"InsetMargin\":5,\"LineColor\":\"#000000\",\"LineWidth\":2,\"Link\":null,\"Lock\":0,\"NoteHint\":\"\",\"Opacity\":100,\"Restrictions\":{},\"Rotation\":0,\"StrokeStyle\":\"solid\",\"TextAlign\":\"center\",\"TextLinks\":{},\"TextVAlign\":\"middle\",\"TRotation\":0,\"ZOrder\":35,\"GutterPadding\":5,\"HasExtensionPoints\":0,\"Text\":{\"t\":\"Perform neccessary update\",\"m\":[]},\"TextWrap\":\"fit\",\"ExtensionPoints\":{\"t\":\"Point 1\",\"m\":[]},\"ExtensionPointLabel\":{\"t\":\"Extension Points\",\"m\":[{\"s\":0,\"n\":\"b\",\"v\":true,\"e\":16}]},\"Shadow\":null}},\"f~ZJc1H9-Qk4\":{\"Class\":\"UMLActorBlock\",\"Properties\":{\"BG\":0,\"BoundingBox\":{\"x\":1680,\"y\":1210,\"w\":80,\"h\":180},\"FillColor\":\"#FFFFFF\",\"FlipX\":false,\"FlipY\":false,\"Font\":\"Helvetica\",\"Hyphenate\":null,\"IgnoreTheme\":{},\"ImageFillProps\":false,\"InsetMargin\":0,\"LineColor\":\"#000000\",\"LineWidth\":2,\"Link\":null,\"Lock\":0,\"NoteHint\":\"\",\"Opacity\":100,\"Restrictions\":{},\"Rotation\":0,\"StrokeStyle\":\"solid\",\"TextAlign\":\"center\",\"TextLinks\":{},\"TextVAlign\":\"middle\",\"TRotation\":0,\"ZOrder\":45,\"GutterPadding\":5,\"Text\":{\"t\":\"GIS Subsystem\",\"m\":[{\"s\":0,\"n\":\"c\",\"v\":\"000000ff\",\"e\":13}]},\"Shadow\":null}},\"U8ZJuBEZ64GC\":{\"Class\":\"UMLActorBlock\",\"Properties\":{\"BG\":0,\"BoundingBox\":{\"x\":1640,\"y\":390,\"w\":80,\"h\":180},\"FillColor\":\"#FFFFFF\",\"FlipX\":false,\"FlipY\":false,\"Font\":\"Helvetica\",\"Hyphenate\":null,\"IgnoreTheme\":{},\"ImageFillProps\":false,\"InsetMargin\":0,\"LineColor\":\"#000000\",\"LineWidth\":2,\"Link\":null,\"Lock\":0,\"NoteHint\":\"\",\"Opacity\":100,\"Restrictions\":{},\"Rotation\":0,\"StrokeStyle\":\"solid\",\"TextAlign\":\"center\",\"TextLinks\":{},\"TextVAlign\":\"middle\",\"TRotation\":0,\"ZOrder\":39,\"GutterPadding\":5,\"Text\":{\"t\":\"User Subsystem\",\"m\":[{\"s\":0,\"n\":\"c\",\"v\":\"000000ff\",\"e\":14}]},\"Shadow\":null}},\"RPZJEgghEHRz\":{\"Class\":\"UMLUseCaseBlock\",\"Properties\":{\"BG\":0,\"BoundingBox\":{\"x\":460,\"y\":640,\"w\":160,\"h\":120},\"FillColor\":\"#FFFFFF\",\"FlipX\":false,\"FlipY\":false,\"Font\":\"Helvetica\",\"Hyphenate\":null,\"IgnoreTheme\":{},\"ImageFillProps\":false,\"InsetMargin\":5,\"LineColor\":\"#000000\",\"LineWidth\":2,\"Link\":null,\"Lock\":0,\"NoteHint\":\"\",\"Opacity\":100,\"Restrictions\":{},\"Rotation\":0,\"StrokeStyle\":\"solid\",\"TextAlign\":\"center\",\"TextLinks\":{},\"TextVAlign\":\"middle\",\"TRotation\":0,\"ZOrder\":9,\"GutterPadding\":5,\"HasExtensionPoints\":0,\"Text\":{\"t\":\"Update Location\",\"m\":[]},\"TextWrap\":\"fit\",\"ExtensionPoints\":{\"t\":\"Point 1\",\"m\":[]},\"ExtensionPointLabel\":{\"t\":\"Extension Points\",\"m\":[{\"s\":0,\"n\":\"b\",\"v\":true,\"e\":16}]},\"Shadow\":null}},\"31ZJJkFSOnYS\":{\"Class\":\"UMLUseCaseBlock\",\"Properties\":{\"BG\":0,\"BoundingBox\":{\"x\":820,\"y\":1440,\"w\":160,\"h\":120},\"FillColor\":\"#FFFFFF\",\"FlipX\":false,\"FlipY\":false,\"Font\":\"Helvetica\",\"Hyphenate\":null,\"IgnoreTheme\":{},\"ImageFillProps\":false,\"InsetMargin\":5,\"LineColor\":\"#000000\",\"LineWidth\":2,\"Link\":null,\"Lock\":0,\"NoteHint\":\"\",\"Opacity\":100,\"Restrictions\":{},\"Rotation\":0,\"StrokeStyle\":\"solid\",\"TextAlign\":\"center\",\"TextLinks\":{},\"TextVAlign\":\"middle\",\"TRotation\":0,\"ZOrder\":33,\"GutterPadding\":5,\"HasExtensionPoints\":0,\"Text\":{\"t\":\"Return Location name and ID\",\"m\":[]},\"TextWrap\":\"fit\",\"ExtensionPoints\":{\"t\":\"Point 1\",\"m\":[]},\"ExtensionPointLabel\":{\"t\":\"Extension Points\",\"m\":[{\"s\":0,\"n\":\"b\",\"v\":true,\"e\":16}]},\"Shadow\":null}},\"SHZJtr3C~yo-\":{\"Class\":\"UMLRectangleContainerBlock\",\"Properties\":{\"BG\":0,\"BoundingBox\":{\"x\":310,\"y\":140,\"w\":1190,\"h\":2260},\"FillColor\":\"#FFFFFF\",\"FlipX\":false,\"FlipY\":false,\"Font\":\"Helvetica\",\"Hyphenate\":null,\"IgnoreTheme\":{},\"ImageFillProps\":false,\"InsetMargin\":0,\"LineColor\":\"#000000\",\"LineWidth\":2,\"Link\":null,\"Lock\":0,\"NoteHint\":\"\",\"Opacity\":100,\"Restrictions\":{},\"Rotation\":0,\"StrokeStyle\":\"solid\",\"TextAlign\":\"center\",\"TextLinks\":{},\"TextVAlign\":\"middle\",\"TRotation\":0,\"ZOrder\":3,\"GutterPadding\":5,\"DisableAutoLink\":true,\"Text\":{\"t\":\"Container\",\"m\":[{\"s\":0,\"n\":\"c\",\"v\":\"000000ff\",\"e\":9}]},\"Magnetize\":false,\"Shadow\":null}},\"kRZJuh1lAecn\":{\"Class\":\"UMLUseCaseBlock\",\"Properties\":{\"BG\":0,\"BoundingBox\":{\"x\":460,\"y\":1040,\"w\":160,\"h\":120},\"FillColor\":\"#FFFFFF\",\"FlipX\":false,\"FlipY\":false,\"Font\":\"Helvetica\",\"Hyphenate\":null,\"IgnoreTheme\":{},\"ImageFillProps\":false,\"InsetMargin\":5,\"LineColor\":\"#000000\",\"LineWidth\":2,\"Link\":null,\"Lock\":0,\"NoteHint\":\"\",\"Opacity\":100,\"Restrictions\":{},\"Rotation\":0,\"StrokeStyle\":\"solid\",\"TextAlign\":\"center\",\"TextLinks\":{},\"TextVAlign\":\"middle\",\"TRotation\":0,\"ZOrder\":11,\"GutterPadding\":5,\"HasExtensionPoints\":0,\"Text\":{\"t\":\"Get Location By Name\",\"m\":[]},\"TextWrap\":\"fit\",\"ExtensionPoints\":{\"t\":\"Point 1\",\"m\":[]},\"ExtensionPointLabel\":{\"t\":\"Extension Points\",\"m\":[{\"s\":0,\"n\":\"b\",\"v\":true,\"e\":16}]},\"Shadow\":null}},\"r8ZJa7hf-WZX\":{\"Class\":\"UMLUseCaseBlock\",\"Properties\":{\"BG\":0,\"BoundingBox\":{\"x\":1000,\"y\":420,\"w\":160,\"h\":120},\"FillColor\":\"#FFFFFF\",\"FlipX\":false,\"FlipY\":false,\"Font\":\"Helvetica\",\"Hyphenate\":null,\"IgnoreTheme\":{},\"ImageFillProps\":false,\"InsetMargin\":5,\"LineColor\":\"#000000\",\"LineWidth\":2,\"Link\":null,\"Lock\":0,\"NoteHint\":\"\",\"Opacity\":100,\"Restrictions\":{},\"Rotation\":0,\"StrokeStyle\":\"solid\",\"TextAlign\":\"center\",\"TextLinks\":{},\"TextVAlign\":\"middle\",\"TRotation\":0,\"ZOrder\":38,\"GutterPadding\":5,\"HasExtensionPoints\":0,\"Text\":{\"t\":\"Return Error Message\",\"m\":[]},\"TextWrap\":\"fit\",\"ExtensionPoints\":{\"t\":\"Point 1\",\"m\":[]},\"ExtensionPointLabel\":{\"t\":\"Extension Points\",\"m\":[{\"s\":0,\"n\":\"b\",\"v\":true,\"e\":16}]},\"Shadow\":null}},\"wQZJb~gJxeJw\":{\"Class\":\"UMLUseCaseBlock\",\"Properties\":{\"BG\":0,\"BoundingBox\":{\"x\":460,\"y\":860,\"w\":160,\"h\":120},\"FillColor\":\"#FFFFFF\",\"FlipX\":false,\"FlipY\":false,\"Font\":\"Helvetica\",\"Hyphenate\":null,\"IgnoreTheme\":{},\"ImageFillProps\":false,\"InsetMargin\":5,\"LineColor\":\"#000000\",\"LineWidth\":2,\"Link\":null,\"Lock\":0,\"NoteHint\":\"\",\"Opacity\":100,\"Restrictions\":{},\"Rotation\":0,\"StrokeStyle\":\"solid\",\"TextAlign\":\"center\",\"TextLinks\":{},\"TextVAlign\":\"middle\",\"TRotation\":0,\"ZOrder\":10,\"GutterPadding\":5,\"HasExtensionPoints\":0,\"Text\":{\"t\":\"Get All Locations\",\"m\":[]},\"TextWrap\":\"fit\",\"ExtensionPoints\":{\"t\":\"Point 1\",\"m\":[]},\"ExtensionPointLabel\":{\"t\":\"Extension Points\",\"m\":[{\"s\":0,\"n\":\"b\",\"v\":true,\"e\":16}]},\"Shadow\":null}}},\"Groups\":{},\"Lines\":{\"y-ZJYb4qiCe6\":{\"BG\":0,\"StrokeStyle\":\"solid\",\"ZOrder\":42,\"LineOffsets\":[0],\"LineWidth\":2,\"LineColor\":\"#000000\",\"BezierJoints\":[],\"Hidden\":0,\"Inset\":0,\"YPlanes\":[],\"Endpoint2\":{\"x\":1640,\"y\":270,\"Style\":\"None\",\"Block\":\"Z9ZJHMFoKnJN\",\"Inside\":false,\"LinkX\":0,\"LinkY\":0.5,\"Line\":null,\"LineP\":null,\"Padding\":null},\"Joints\":[],\"IgnoreTheme\":{},\"DoubleLine\":false,\"Opacity\":100,\"AutoLink\":false,\"Endpoint1\":{\"x\":1541,\"y\":290,\"Style\":\"None\",\"Block\":\"SHZJtr3C~yo-\",\"Inside\":false,\"LinkX\":1.0008130081300812,\"LinkY\":0.06637168141592921,\"Line\":null,\"LineP\":null,\"Padding\":null},\"Shape\":\"elbow\",\"ElbowPoints\":null,\"XPlanes\":[1561],\"ElbowControlPoints\":null,\"Rounding\":0,\"Lock\":0,\"TextAreas\":{\"IsFullPropSettings\":true},\"Font\":\"Helvetica\",\"ControlPoints\":{}},\"4XZJuMyBTlKT\":{\"BG\":0,\"StrokeStyle\":\"dashed\",\"ZOrder\":26,\"LineOffsets\":[0],\"LineWidth\":2,\"LineColor\":\"#000000\",\"BezierJoints\":[],\"Hidden\":0,\"Inset\":0,\"YPlanes\":[],\"Endpoint2\":{\"x\":893.3333333333334,\"y\":700,\"Style\":\"Open Arrow\",\"Block\":null,\"Inside\":null,\"LinkX\":null,\"LinkY\":null,\"Line\":\"YXZJSctWD8MW\",\"LineP\":0.5501683420962423,\"Padding\":null},\"Joints\":[],\"IgnoreTheme\":{},\"DoubleLine\":false,\"Opacity\":100,\"AutoLink\":false,\"Endpoint1\":{\"x\":621.0000088826416,\"y\":920,\"Style\":\"None\",\"Block\":\"wQZJb~gJxeJw\",\"Inside\":false,\"LinkX\":1.0062500555165101,\"LinkY\":0.5,\"Line\":null,\"LineP\":null,\"Padding\":null},\"Shape\":\"elbow\",\"ElbowPoints\":null,\"XPlanes\":[],\"ElbowControlPoints\":null,\"Rounding\":0,\"Lock\":0,\"TextAreas\":{\"IsFullPropSettings\":true,\"t0\":{\"Location\":0.27640258775715326,\"Side\":0,\"Value\":{\"t\":\"<<indludes>>\",\"m\":[{\"s\":0,\"n\":\"c\",\"v\":\"000000ff\",\"e\":12}]}}},\"Font\":\"Helvetica\",\"ControlPoints\":{}},\"eTZJNv9e7b8Y\":{\"BG\":0,\"StrokeStyle\":\"solid\",\"ZOrder\":17,\"LineOffsets\":[0],\"LineWidth\":2,\"LineColor\":\"#000000\",\"BezierJoints\":[],\"Hidden\":0,\"Inset\":0,\"YPlanes\":[],\"Endpoint2\":{\"x\":458.9999911173584,\"y\":1100,\"Style\":\"None\",\"Block\":\"kRZJuh1lAecn\",\"Inside\":false,\"LinkX\":-0.006250055516510145,\"LinkY\":0.5,\"Line\":null,\"LineP\":null,\"Padding\":null},\"Joints\":[],\"IgnoreTheme\":{},\"DoubleLine\":false,\"Opacity\":100,\"AutoLink\":false,\"Endpoint1\":{\"x\":350,\"y\":1100,\"Style\":\"None\",\"Block\":null,\"Inside\":null,\"LinkX\":null,\"LinkY\":null,\"Line\":\"3TZJs7ZbmSuT\",\"LineP\":0.3252032520325203,\"Padding\":null},\"Shape\":\"elbow\",\"ElbowPoints\":null,\"XPlanes\":[],\"ElbowControlPoints\":null,\"Rounding\":0,\"Lock\":0,\"TextAreas\":{\"IsFullPropSettings\":true},\"Font\":\"Helvetica\",\"ControlPoints\":{}},\"e7ZJza_HULRi\":{\"BG\":0,\"StrokeStyle\":\"dashed\",\"ZOrder\":36,\"LineOffsets\":[0],\"LineWidth\":2,\"LineColor\":\"#000000\",\"BezierJoints\":[],\"Hidden\":0,\"Inset\":0,\"YPlanes\":[],\"Endpoint2\":{\"x\":1060,\"y\":290,\"Style\":\"Open Arrow\",\"Block\":\".5ZJrHIPoqTE\",\"Inside\":false,\"LinkX\":0,\"LinkY\":0.5,\"Line\":null,\"LineP\":null,\"Padding\":null},\"Joints\":[],\"IgnoreTheme\":{},\"DoubleLine\":false,\"Opacity\":100,\"Endpoint1\":{\"x\":980,\"y\":290,\"Style\":\"None\",\"Block\":\"KYZJM8gBm_tB\",\"Inside\":false,\"LinkX\":1,\"LinkY\":0.5,\"Line\":null,\"LineP\":null,\"Padding\":null},\"Shape\":\"elbow\",\"ElbowPoints\":null,\"XPlanes\":[],\"ElbowControlPoints\":null,\"Rounding\":0,\"Lock\":0,\"TextAreas\":{\"IsFullPropSettings\":true},\"Font\":\"Helvetica\",\"ControlPoints\":{}},\"H~ZJ-zxD6Glj\":{\"BG\":0,\"StrokeStyle\":\"solid\",\"ZOrder\":47,\"LineOffsets\":[0],\"LineWidth\":2,\"LineColor\":\"#000000\",\"BezierJoints\":[],\"Hidden\":0,\"Inset\":0,\"YPlanes\":[],\"Endpoint2\":{\"x\":1240.500004441321,\"y\":1310,\"Style\":\"None\",\"Block\":null,\"Inside\":null,\"LinkX\":null,\"LinkY\":null,\"Line\":\"D~ZJhcBCkN8K\",\"LineP\":0.6440329235656967,\"Padding\":null},\"Joints\":[],\"IgnoreTheme\":{},\"DoubleLine\":false,\"Opacity\":100,\"AutoLink\":false,\"Endpoint1\":{\"x\":981.000065,\"y\":1300.013543,\"Style\":\"None\",\"Block\":\"J1ZJOFLVwpxY\",\"Inside\":false,\"LinkX\":1.0062504062499997,\"LinkY\":0.5001128583333335,\"Line\":null,\"LineP\":null,\"Padding\":null},\"Shape\":\"elbow\",\"ElbowPoints\":null,\"XPlanes\":[],\"ElbowControlPoints\":null,\"Rounding\":0,\"Lock\":0,\"TextAreas\":{\"IsFullPropSettings\":true},\"Font\":\"Helvetica\",\"ControlPoints\":{}},\"K~ZJONjWAIPe\":{\"BG\":0,\"StrokeStyle\":\"solid\",\"ZOrder\":48,\"LineOffsets\":[0],\"LineWidth\":2,\"LineColor\":\"#000000\",\"BezierJoints\":[],\"Hidden\":0,\"Inset\":0,\"YPlanes\":[],\"Endpoint2\":{\"x\":1240.500004441321,\"y\":1300,\"Style\":\"None\",\"Block\":null,\"Inside\":null,\"LinkX\":null,\"LinkY\":null,\"Line\":\"D~ZJhcBCkN8K\",\"LineP\":0.6390820601327069,\"Padding\":null},\"Joints\":[],\"IgnoreTheme\":{},\"DoubleLine\":false,\"Opacity\":100,\"AutoLink\":false,\"Endpoint1\":{\"x\":980,\"y\":1500,\"Style\":\"None\",\"Block\":\"31ZJJkFSOnYS\",\"Inside\":false,\"LinkX\":1,\"LinkY\":0.5,\"Line\":null,\"LineP\":null,\"Padding\":null},\"Shape\":\"elbow\",\"ElbowPoints\":null,\"XPlanes\":[],\"ElbowControlPoints\":null,\"Rounding\":0,\"Lock\":0,\"TextAreas\":{\"IsFullPropSettings\":true},\"Font\":\"Helvetica\",\"ControlPoints\":{}},\"oNZJOq3E8kpB\":{\"BG\":0,\"StrokeStyle\":\"solid\",\"ZOrder\":7,\"LineOffsets\":[0],\"LineWidth\":2,\"LineColor\":\"#000000\",\"BezierJoints\":[],\"Hidden\":0,\"Inset\":0,\"YPlanes\":[],\"Endpoint2\":{\"x\":398.9999911173584,\"y\":290,\"Style\":\"None\",\"Block\":\"1IZJFAjMfIx7\",\"Inside\":false,\"LinkX\":-0.006250055516510145,\"LinkY\":0.5,\"Line\":null,\"LineP\":null,\"Padding\":null},\"Joints\":[],\"IgnoreTheme\":{},\"DoubleLine\":false,\"Opacity\":100,\"AutoLink\":false,\"Endpoint1\":{\"x\":370,\"y\":290,\"Style\":\"None\",\"Block\":null,\"Inside\":null,\"LinkX\":null,\"LinkY\":null,\"Line\":null,\"LineP\":null,\"Padding\":null},\"Shape\":\"elbow\",\"ElbowPoints\":null,\"XPlanes\":[],\"ElbowControlPoints\":null,\"Rounding\":0,\"Lock\":0,\"TextAreas\":{\"IsFullPropSettings\":true},\"Font\":\"Helvetica\",\"ControlPoints\":{}},\"1SZJyRO3ueb0\":{\"BG\":0,\"StrokeStyle\":\"solid\",\"ZOrder\":14,\"LineOffsets\":[0],\"LineWidth\":2,\"LineColor\":\"#000000\",\"BezierJoints\":[],\"Hidden\":0,\"Inset\":0,\"YPlanes\":[],\"Endpoint2\":{\"x\":458.9999911173584,\"y\":480,\"Style\":\"None\",\"Block\":\"APZJ.0aKtemp\",\"Inside\":false,\"LinkX\":-0.006250055516510145,\"LinkY\":0.5,\"Line\":null,\"LineP\":null,\"Padding\":null},\"Joints\":[],\"IgnoreTheme\":{},\"DoubleLine\":false,\"Opacity\":100,\"AutoLink\":false,\"Endpoint1\":{\"x\":350,\"y\":480,\"Style\":\"None\",\"Block\":null,\"Inside\":null,\"LinkX\":null,\"LinkY\":null,\"Line\":\"3TZJs7ZbmSuT\",\"LineP\":0.8292682926829268,\"Padding\":null},\"Shape\":\"elbow\",\"ElbowPoints\":null,\"XPlanes\":[],\"ElbowControlPoints\":null,\"Rounding\":0,\"Lock\":0,\"TextAreas\":{\"IsFullPropSettings\":true},\"Font\":\"Helvetica\",\"ControlPoints\":{}},\"ETZJVWR.O5he\":{\"BG\":0,\"StrokeStyle\":\"solid\",\"ZOrder\":19,\"LineOffsets\":[0],\"LineWidth\":2,\"LineColor\":\"#000000\",\"BezierJoints\":[],\"Hidden\":0,\"Inset\":0,\"YPlanes\":[],\"Endpoint2\":{\"x\":458.9999911173584,\"y\":1500,\"Style\":\"None\",\"Block\":\"URZJ3Gtt4_wH\",\"Inside\":false,\"LinkX\":-0.006250055516510145,\"LinkY\":0.5,\"Line\":null,\"LineP\":null,\"Padding\":null},\"Joints\":[],\"IgnoreTheme\":{},\"DoubleLine\":false,\"Opacity\":100,\"Endpoint1\":{\"x\":350,\"y\":1500,\"Style\":\"None\",\"Block\":null,\"Inside\":null,\"LinkX\":null,\"LinkY\":null,\"Line\":null,\"LineP\":null,\"Padding\":null},\"Shape\":\"elbow\",\"ElbowPoints\":null,\"XPlanes\":[],\"ElbowControlPoints\":null,\"Rounding\":0,\"Lock\":0,\"TextAreas\":{\"IsFullPropSettings\":true},\"Font\":\"Helvetica\",\"ControlPoints\":{}},\"~XZJk0zAo55X\":{\"BG\":0,\"StrokeStyle\":\"dashed\",\"ZOrder\":28,\"LineOffsets\":[0],\"LineWidth\":2,\"LineColor\":\"#000000\",\"BezierJoints\":[],\"Hidden\":0,\"Inset\":0,\"YPlanes\":[],\"Endpoint2\":{\"x\":818.9999911173584,\"y\":1300,\"Style\":\"Open Arrow\",\"Block\":\"J1ZJOFLVwpxY\",\"Inside\":false,\"LinkX\":-0.006250055516510145,\"LinkY\":0.5,\"Line\":null,\"LineP\":null,\"Padding\":null},\"Joints\":[],\"IgnoreTheme\":{},\"DoubleLine\":false,\"Opacity\":100,\"AutoLink\":false,\"Endpoint1\":{\"x\":621.0000088826416,\"y\":1300,\"Style\":\"None\",\"Block\":\"ERZJPCQHelbN\",\"Inside\":false,\"LinkX\":1.0062500555165101,\"LinkY\":0.5,\"Line\":null,\"LineP\":null,\"Padding\":null},\"Shape\":\"elbow\",\"ElbowPoints\":null,\"XPlanes\":[],\"ElbowControlPoints\":null,\"Rounding\":0,\"Lock\":0,\"TextAreas\":{\"IsFullPropSettings\":true,\"t0\":{\"Location\":0.3787878679122835,\"Side\":0,\"Value\":{\"t\":\"<<includes>>\",\"m\":[{\"s\":0,\"n\":\"c\",\"v\":\"000000ff\",\"e\":12}]}}},\"Font\":\"Helvetica\",\"ControlPoints\":{}},\"ATZJKwltqdG1\":{\"BG\":0,\"StrokeStyle\":\"solid\",\"ZOrder\":18,\"LineOffsets\":[0],\"LineWidth\":2,\"LineColor\":\"#000000\",\"BezierJoints\":[],\"Hidden\":0,\"Inset\":0,\"YPlanes\":[],\"Endpoint2\":{\"x\":458.9999911173584,\"y\":1300,\"Style\":\"None\",\"Block\":\"ERZJPCQHelbN\",\"Inside\":false,\"LinkX\":-0.006250055516510145,\"LinkY\":0.5,\"Line\":null,\"LineP\":null,\"Padding\":null},\"Joints\":[],\"IgnoreTheme\":{},\"DoubleLine\":false,\"Opacity\":100,\"AutoLink\":false,\"Endpoint1\":{\"x\":350,\"y\":1300,\"Style\":\"None\",\"Block\":null,\"Inside\":null,\"LinkX\":null,\"LinkY\":null,\"Line\":\"3TZJs7ZbmSuT\",\"LineP\":0.16260162601626016,\"Padding\":null},\"Shape\":\"elbow\",\"ElbowPoints\":null,\"XPlanes\":[],\"ElbowControlPoints\":null,\"Rounding\":0,\"Lock\":0,\"TextAreas\":{\"IsFullPropSettings\":true},\"Font\":\"Helvetica\",\"ControlPoints\":{}},\"7XZJF6VX.Mc2\":{\"BG\":0,\"StrokeStyle\":\"dashed\",\"ZOrder\":27,\"LineOffsets\":[0],\"LineWidth\":2,\"LineColor\":\"#000000\",\"BezierJoints\":[],\"Hidden\":0,\"Inset\":0,\"YPlanes\":[],\"Endpoint2\":{\"x\":818.9999911173584,\"y\":1100,\"Style\":\"Open Arrow\",\"Block\":\"IZZJTtDH97tY\",\"Inside\":false,\"LinkX\":-0.006250055516510145,\"LinkY\":0.5,\"Line\":null,\"LineP\":null,\"Padding\":null},\"Joints\":[],\"IgnoreTheme\":{},\"DoubleLine\":false,\"Opacity\":100,\"AutoLink\":false,\"Endpoint1\":{\"x\":621.0000088826416,\"y\":1100,\"Style\":\"None\",\"Block\":\"kRZJuh1lAecn\",\"Inside\":false,\"LinkX\":1.0062500555165101,\"LinkY\":0.5,\"Line\":null,\"LineP\":null,\"Padding\":null},\"Shape\":\"elbow\",\"ElbowPoints\":null,\"XPlanes\":[],\"ElbowControlPoints\":null,\"Rounding\":0,\"Lock\":0,\"TextAreas\":{\"IsFullPropSettings\":true,\"t0\":{\"Location\":0.39898988992690293,\"Side\":0,\"Value\":{\"t\":\"<<includes>>\",\"m\":[{\"s\":0,\"n\":\"c\",\"v\":\"000000ff\",\"e\":12}]}}},\"Font\":\"Helvetica\",\"ControlPoints\":{}},\"j-ZJzd2g3J.x\":{\"BG\":0,\"StrokeStyle\":\"solid\",\"ZOrder\":41,\"LineOffsets\":[0],\"LineWidth\":2,\"LineColor\":\"#000000\",\"BezierJoints\":[],\"Hidden\":0,\"Inset\":0,\"YPlanes\":[],\"Endpoint2\":{\"x\":1510,\"y\":290,\"Style\":\"None\",\"Block\":null,\"Inside\":null,\"LinkX\":null,\"LinkY\":null,\"Line\":null,\"LineP\":null,\"Padding\":null},\"Joints\":[],\"IgnoreTheme\":{},\"DoubleLine\":false,\"Opacity\":100,\"AutoLink\":false,\"Endpoint1\":{\"x\":1340,\"y\":290,\"Style\":\"None\",\"Block\":\".5ZJrHIPoqTE\",\"Inside\":false,\"LinkX\":1,\"LinkY\":0.5,\"Line\":null,\"LineP\":null,\"Padding\":null},\"Shape\":\"elbow\",\"ElbowPoints\":null,\"XPlanes\":[],\"ElbowControlPoints\":null,\"Rounding\":0,\"Lock\":0,\"TextAreas\":{\"IsFullPropSettings\":true,\"t0\":null},\"Font\":\"Helvetica\",\"ControlPoints\":{}},\"hd0Jv_l41Fko\":{\"BG\":0,\"StrokeStyle\":\"solid\",\"ZOrder\":49,\"LineOffsets\":[0],\"LineWidth\":2,\"LineColor\":\"#000000\",\"BezierJoints\":[],\"Hidden\":0,\"Inset\":0,\"YPlanes\":[],\"Endpoint2\":{\"x\":1680,\"y\":1300,\"Style\":\"None\",\"Block\":\"f~ZJc1H9-Qk4\",\"Inside\":false,\"LinkX\":0,\"LinkY\":0.5,\"Line\":null,\"LineP\":null,\"Padding\":null},\"Joints\":[],\"IgnoreTheme\":{},\"DoubleLine\":false,\"Opacity\":100,\"AutoLink\":false,\"Endpoint1\":{\"x\":1501,\"y\":1300,\"Style\":\"None\",\"Block\":\"SHZJtr3C~yo-\",\"Inside\":false,\"LinkX\":1.0008403361344538,\"LinkY\":0.5132743362831859,\"Line\":null,\"LineP\":null,\"Padding\":null},\"Shape\":\"elbow\",\"ElbowPoints\":null,\"XPlanes\":[],\"ElbowControlPoints\":null,\"Rounding\":0,\"Lock\":0,\"TextAreas\":{\"IsFullPropSettings\":true},\"Font\":\"Helvetica\",\"ControlPoints\":{}},\"qe0JpjofgE9k\":{\"BG\":0,\"StrokeStyle\":\"solid\",\"ZOrder\":50,\"LineOffsets\":[0],\"LineWidth\":2,\"LineColor\":\"#000000\",\"BezierJoints\":[],\"Hidden\":0,\"Inset\":0,\"YPlanes\":[],\"Endpoint2\":{\"x\":309,\"y\":290.6666666666665,\"Style\":\"None\",\"Block\":\"SHZJtr3C~yo-\",\"Inside\":false,\"LinkX\":-0.0008403361344537816,\"LinkY\":0.0666666666666666,\"Line\":null,\"LineP\":null,\"Padding\":null},\"Joints\":[],\"IgnoreTheme\":{},\"DoubleLine\":false,\"Opacity\":100,\"Endpoint1\":{\"x\":180,\"y\":290,\"Style\":\"None\",\"Block\":\"eMZJ7RXo4G5y\",\"Inside\":false,\"LinkX\":1,\"LinkY\":0.5,\"Line\":null,\"LineP\":null,\"Padding\":null},\"Shape\":\"elbow\",\"ElbowPoints\":null,\"XPlanes\":[],\"ElbowControlPoints\":null,\"Rounding\":0,\"Lock\":0,\"TextAreas\":{\"IsFullPropSettings\":true},\"Font\":\"Helvetica\",\"ControlPoints\":{}},\"_SZJdMBuDuDz\":{\"BG\":0,\"StrokeStyle\":\"solid\",\"ZOrder\":16,\"LineOffsets\":[0],\"LineWidth\":2,\"LineColor\":\"#000000\",\"BezierJoints\":[],\"Hidden\":0,\"Inset\":0,\"YPlanes\":[],\"Endpoint2\":{\"x\":458.9999911173584,\"y\":920,\"Style\":\"None\",\"Block\":\"wQZJb~gJxeJw\",\"Inside\":false,\"LinkX\":-0.006250055516510145,\"LinkY\":0.5,\"Line\":null,\"LineP\":null,\"Padding\":null},\"Joints\":[],\"IgnoreTheme\":{},\"DoubleLine\":false,\"Opacity\":100,\"AutoLink\":false,\"Endpoint1\":{\"x\":350,\"y\":920,\"Style\":\"None\",\"Block\":null,\"Inside\":null,\"LinkX\":null,\"LinkY\":null,\"Line\":\"3TZJs7ZbmSuT\",\"LineP\":0.4715447154471545,\"Padding\":null},\"Shape\":\"elbow\",\"ElbowPoints\":null,\"XPlanes\":[],\"ElbowControlPoints\":null,\"Rounding\":0,\"Lock\":0,\"TextAreas\":{\"IsFullPropSettings\":true},\"Font\":\"Helvetica\",\"ControlPoints\":{}},\"8SZJ-0tjY0BC\":{\"BG\":0,\"StrokeStyle\":\"solid\",\"ZOrder\":15,\"LineOffsets\":[0],\"LineWidth\":2,\"LineColor\":\"#000000\",\"BezierJoints\":[],\"Hidden\":0,\"Inset\":0,\"YPlanes\":[],\"Endpoint2\":{\"x\":458.9999911173584,\"y\":700,\"Style\":\"None\",\"Block\":\"RPZJEgghEHRz\",\"Inside\":false,\"LinkX\":-0.006250055516510145,\"LinkY\":0.5,\"Line\":null,\"LineP\":null,\"Padding\":null},\"Joints\":[],\"IgnoreTheme\":{},\"DoubleLine\":false,\"Opacity\":100,\"AutoLink\":false,\"Endpoint1\":{\"x\":350,\"y\":700,\"Style\":\"None\",\"Block\":null,\"Inside\":null,\"LinkX\":null,\"LinkY\":null,\"Line\":\"3TZJs7ZbmSuT\",\"LineP\":0.6504065040650406,\"Padding\":null},\"Shape\":\"elbow\",\"ElbowPoints\":null,\"XPlanes\":[],\"ElbowControlPoints\":null,\"Rounding\":0,\"Lock\":0,\"TextAreas\":{\"IsFullPropSettings\":true},\"Font\":\"Helvetica\",\"ControlPoints\":{}},\"YXZJSctWD8MW\":{\"BG\":0,\"StrokeStyle\":\"dashed\",\"ZOrder\":25,\"LineOffsets\":[0],\"LineWidth\":2,\"LineColor\":\"#000000\",\"BezierJoints\":[],\"Hidden\":0,\"Inset\":0,\"YPlanes\":[],\"Endpoint2\":{\"x\":898.6666666666666,\"y\":480,\"Style\":\"Open Arrow\",\"Block\":null,\"Inside\":null,\"LinkX\":null,\"LinkY\":null,\"Line\":\"UXZJJsFXG3Iu\",\"LineP\":0.678891598568156,\"Padding\":null},\"Joints\":[],\"IgnoreTheme\":{},\"DoubleLine\":false,\"Opacity\":100,\"AutoLink\":false,\"Endpoint1\":{\"x\":621.0000088826416,\"y\":700,\"Style\":\"None\",\"Block\":\"RPZJEgghEHRz\",\"Inside\":false,\"LinkX\":1.0062500555165101,\"LinkY\":0.5,\"Line\":null,\"LineP\":null,\"Padding\":null},\"Shape\":\"elbow\",\"ElbowPoints\":null,\"XPlanes\":[],\"ElbowControlPoints\":null,\"Rounding\":0,\"Lock\":0,\"TextAreas\":{\"IsFullPropSettings\":true,\"t0\":{\"Location\":0.20656532038963607,\"Side\":0,\"Value\":{\"t\":\"<<includes>>\",\"m\":[{\"s\":0,\"n\":\"c\",\"v\":\"000000ff\",\"e\":12}]}}},\"Font\":\"Helvetica\",\"ControlPoints\":{}},\"AVZJpnCoMYQ6\":{\"BG\":0,\"StrokeStyle\":\"solid\",\"ZOrder\":22,\"LineOffsets\":[0],\"LineWidth\":2,\"LineColor\":\"#000000\",\"BezierJoints\":[],\"Hidden\":0,\"Inset\":0,\"YPlanes\":[],\"Endpoint2\":{\"x\":399.3333333333333,\"y\":290,\"Style\":\"None\",\"Block\":null,\"Inside\":null,\"LinkX\":null,\"LinkY\":null,\"Line\":\"oNZJOq3E8kpB\",\"LineP\":0.3295880478757958,\"Padding\":null},\"Joints\":[],\"IgnoreTheme\":{},\"DoubleLine\":false,\"Opacity\":100,\"AutoLink\":false,\"Endpoint1\":{\"x\":300,\"y\":290,\"Style\":\"None\",\"Block\":null,\"Inside\":null,\"LinkX\":null,\"LinkY\":null,\"Line\":null,\"LineP\":null,\"Padding\":null},\"Shape\":\"elbow\",\"ElbowPoints\":null,\"XPlanes\":[],\"ElbowControlPoints\":null,\"Rounding\":0,\"Lock\":0,\"TextAreas\":{\"IsFullPropSettings\":true},\"Font\":\"Helvetica\",\"ControlPoints\":{}},\"cYZJUT1yt.Qg\":{\"BG\":0,\"StrokeStyle\":\"dashed\",\"ZOrder\":29,\"LineOffsets\":[0],\"LineWidth\":2,\"LineColor\":\"#000000\",\"BezierJoints\":[],\"Hidden\":0,\"Inset\":0,\"YPlanes\":[],\"Endpoint2\":{\"x\":846.6666666666666,\"y\":1501.3333333333333,\"Style\":\"Open Arrow\",\"Block\":\"31ZJJkFSOnYS\",\"Inside\":true,\"LinkX\":0.16666666666666644,\"LinkY\":0.5111111111111105,\"Line\":null,\"LineP\":null,\"Padding\":null},\"Joints\":[],\"IgnoreTheme\":{},\"DoubleLine\":false,\"Opacity\":100,\"AutoLink\":false,\"Endpoint1\":{\"x\":621.0000088826416,\"y\":1500,\"Style\":\"None\",\"Block\":\"URZJ3Gtt4_wH\",\"Inside\":false,\"LinkX\":1.0062500555165101,\"LinkY\":0.5,\"Line\":null,\"LineP\":null,\"Padding\":null},\"Shape\":\"elbow\",\"ElbowPoints\":null,\"XPlanes\":[],\"ElbowControlPoints\":null,\"Rounding\":0,\"Lock\":0,\"TextAreas\":{\"IsFullPropSettings\":true,\"t0\":{\"Location\":0.3715124570515586,\"Side\":0,\"Value\":{\"t\":\"<<includes>>\",\"m\":[{\"s\":0,\"n\":\"c\",\"v\":\"000000ff\",\"e\":12}]}}},\"Font\":\"Helvetica\",\"ControlPoints\":{}},\"D~ZJhcBCkN8K\":{\"BG\":0,\"StrokeStyle\":\"solid\",\"ZOrder\":46,\"LineOffsets\":[0],\"LineWidth\":2,\"LineColor\":\"#000000\",\"BezierJoints\":[],\"Hidden\":0,\"Inset\":0,\"YPlanes\":[],\"Endpoint2\":{\"x\":1500,\"y\":1300,\"Style\":\"None\",\"Block\":null,\"Inside\":null,\"LinkX\":null,\"LinkY\":null,\"Line\":null,\"LineP\":null,\"Padding\":null},\"Joints\":[],\"IgnoreTheme\":{},\"DoubleLine\":false,\"Opacity\":100,\"AutoLink\":false,\"Endpoint1\":{\"x\":981.0000088826416,\"y\":1100,\"Style\":\"None\",\"Block\":\"IZZJTtDH97tY\",\"Inside\":false,\"LinkX\":1.0062500555165101,\"LinkY\":0.5,\"Line\":null,\"LineP\":null,\"Padding\":null},\"Shape\":\"elbow\",\"ElbowPoints\":null,\"XPlanes\":[],\"ElbowControlPoints\":[{\"x\":1240.500004441321,\"y\":1100},{\"x\":1240.500004441321,\"y\":1300}],\"Rounding\":0,\"Lock\":0,\"TextAreas\":{\"IsFullPropSettings\":true},\"Font\":\"Helvetica\",\"ControlPoints\":{}},\"b.ZJ~pz0GLJO\":{\"BG\":0,\"StrokeStyle\":\"solid\",\"ZOrder\":44,\"LineOffsets\":[0],\"LineWidth\":2,\"LineColor\":\"#000000\",\"BezierJoints\":[],\"Hidden\":0,\"Inset\":0,\"YPlanes\":[],\"Endpoint2\":{\"x\":1620,\"y\":480,\"Style\":\"None\",\"Block\":\"U8ZJuBEZ64GC\",\"Inside\":false,\"LinkX\":0,\"LinkY\":0.5,\"Line\":null,\"LineP\":null,\"Padding\":null},\"Joints\":[],\"IgnoreTheme\":{},\"DoubleLine\":false,\"Opacity\":100,\"Endpoint1\":{\"x\":1541,\"y\":480,\"Style\":\"None\",\"Block\":\"SHZJtr3C~yo-\",\"Inside\":false,\"LinkX\":1.0008130081300812,\"LinkY\":0.1504424778761062,\"Line\":null,\"LineP\":null,\"Padding\":null},\"Shape\":\"elbow\",\"ElbowPoints\":null,\"XPlanes\":[],\"ElbowControlPoints\":null,\"Rounding\":0,\"Lock\":0,\"TextAreas\":{\"IsFullPropSettings\":true},\"Font\":\"Helvetica\",\"ControlPoints\":{}},\"3TZJs7ZbmSuT\":{\"BG\":0,\"StrokeStyle\":\"solid\",\"ZOrder\":21,\"LineOffsets\":[0],\"LineWidth\":2,\"LineColor\":\"#000000\",\"BezierJoints\":[],\"Hidden\":0,\"Inset\":0,\"YPlanes\":[],\"Endpoint2\":{\"x\":370,\"y\":290,\"Style\":\"None\",\"Block\":null,\"Inside\":null,\"LinkX\":null,\"LinkY\":null,\"Line\":null,\"LineP\":null,\"Padding\":null},\"Joints\":[],\"IgnoreTheme\":{},\"DoubleLine\":false,\"Opacity\":100,\"AutoLink\":false,\"Endpoint1\":{\"x\":350,\"y\":1500,\"Style\":\"None\",\"Block\":null,\"Inside\":null,\"LinkX\":null,\"LinkY\":null,\"Line\":null,\"LineP\":null,\"Padding\":null},\"Shape\":\"elbow\",\"ElbowPoints\":null,\"XPlanes\":[],\"ElbowControlPoints\":[{\"x\":350,\"y\":290}],\"Rounding\":0,\"Lock\":0,\"TextAreas\":{\"IsFullPropSettings\":true},\"Font\":\"Helvetica\",\"ControlPoints\":{}},\"NXZJwlzzpEZM\":{\"BG\":0,\"StrokeStyle\":\"dashed\",\"ZOrder\":23,\"LineOffsets\":[0],\"LineWidth\":2,\"LineColor\":\"#000000\",\"BezierJoints\":[],\"Hidden\":0,\"Inset\":0,\"YPlanes\":[],\"Endpoint2\":{\"x\":880,\"y\":290,\"Style\":\"Open Arrow\",\"Block\":\"KYZJM8gBm_tB\",\"Inside\":false,\"LinkX\":0,\"LinkY\":0.5,\"Line\":null,\"LineP\":null,\"Padding\":null},\"Joints\":[],\"IgnoreTheme\":{},\"DoubleLine\":false,\"Opacity\":100,\"AutoLink\":false,\"Endpoint1\":{\"x\":621.0000088826416,\"y\":290,\"Style\":\"None\",\"Block\":\"1IZJFAjMfIx7\",\"Inside\":false,\"LinkX\":1.0062500555165101,\"LinkY\":0.5,\"Line\":null,\"LineP\":null,\"Padding\":null},\"Shape\":\"elbow\",\"ElbowPoints\":null,\"XPlanes\":[],\"ElbowControlPoints\":null,\"Rounding\":0,\"Lock\":0,\"TextAreas\":{\"IsFullPropSettings\":true,\"t0\":{\"Location\":0.5,\"Side\":0,\"Value\":{\"t\":\"<<includes>>\",\"m\":[{\"s\":0,\"n\":\"c\",\"v\":\"000000ff\",\"e\":12}]}}},\"Font\":\"Helvetica\",\"ControlPoints\":{}},\"h8ZJ1i.N5GmW\":{\"BG\":0,\"StrokeStyle\":\"dashed\",\"ZOrder\":37,\"LineOffsets\":[0],\"LineWidth\":2,\"LineColor\":\"#000000\",\"BezierJoints\":[],\"Hidden\":0,\"Inset\":0,\"YPlanes\":[],\"Endpoint2\":{\"x\":1020,\"y\":420,\"Style\":\"Open Arrow\",\"Block\":\"r8ZJa7hf-WZX\",\"Inside\":null,\"LinkX\":0.5,\"LinkY\":0,\"Line\":null,\"LineP\":null,\"Padding\":null},\"Joints\":[],\"IgnoreTheme\":{},\"DoubleLine\":false,\"Opacity\":100,\"AutoLink\":false,\"Endpoint1\":{\"x\":1020,\"y\":290,\"Style\":\"None\",\"Block\":null,\"Inside\":null,\"LinkX\":null,\"LinkY\":null,\"Line\":\"e7ZJza_HULRi\",\"LineP\":0.5,\"Padding\":null},\"Shape\":\"elbow\",\"ElbowPoints\":null,\"XPlanes\":[],\"ElbowControlPoints\":null,\"Rounding\":0,\"Lock\":0,\"TextAreas\":{\"IsFullPropSettings\":true},\"Font\":\"Helvetica\",\"ControlPoints\":{}},\"UXZJJsFXG3Iu\":{\"BG\":0,\"StrokeStyle\":\"dashed\",\"ZOrder\":24,\"LineOffsets\":[0],\"LineWidth\":2,\"LineColor\":\"#000000\",\"BezierJoints\":[],\"Hidden\":0,\"Inset\":0,\"YPlanes\":[],\"Endpoint2\":{\"x\":860,\"y\":350,\"Style\":\"Open Arrow\",\"Block\":\"KYZJM8gBm_tB\",\"Inside\":false,\"LinkX\":0.5,\"LinkY\":1,\"Line\":null,\"LineP\":null,\"Padding\":null},\"Joints\":[],\"IgnoreTheme\":{},\"DoubleLine\":false,\"Opacity\":100,\"AutoLink\":false,\"Endpoint1\":{\"x\":621.0000088826416,\"y\":480,\"Style\":\"None\",\"Block\":\"APZJ.0aKtemp\",\"Inside\":false,\"LinkX\":1.0062500555165101,\"LinkY\":0.5,\"Line\":null,\"LineP\":null,\"Padding\":null},\"Shape\":\"elbow\",\"ElbowPoints\":null,\"XPlanes\":[],\"ElbowControlPoints\":null,\"Rounding\":0,\"Lock\":0,\"TextAreas\":{\"IsFullPropSettings\":true,\"t0\":{\"Location\":0.29204613305069743,\"Side\":0,\"Value\":{\"t\":\"<<includes>>\",\"m\":[{\"s\":0,\"n\":\"c\",\"v\":\"000000ff\",\"e\":12}]}}},\"Font\":\"Helvetica\",\"ControlPoints\":{}},\"-_ZJfrRLUHua\":{\"BG\":0,\"StrokeStyle\":\"solid\",\"ZOrder\":43,\"LineOffsets\":[0],\"LineWidth\":2,\"LineColor\":\"#000000\",\"BezierJoints\":[],\"Hidden\":0,\"Inset\":0,\"YPlanes\":[],\"Endpoint2\":{\"x\":1510,\"y\":480,\"Style\":\"None\",\"Block\":null,\"Inside\":null,\"LinkX\":null,\"LinkY\":null,\"Line\":null,\"LineP\":null,\"Padding\":null},\"Joints\":[],\"IgnoreTheme\":{},\"DoubleLine\":false,\"Opacity\":100,\"AutoLink\":false,\"Endpoint1\":{\"x\":1161.0000088826416,\"y\":460,\"Style\":\"None\",\"Block\":\"r8ZJa7hf-WZX\",\"Inside\":false,\"LinkX\":1.0062500555165101,\"LinkY\":0.5,\"Line\":null,\"LineP\":null,\"Padding\":null},\"Shape\":\"elbow\",\"ElbowPoints\":null,\"XPlanes\":[],\"ElbowControlPoints\":null,\"Rounding\":0,\"Lock\":0,\"TextAreas\":{\"IsFullPropSettings\":true},\"Font\":\"Helvetica\",\"ControlPoints\":{}}},\"Panels\":{\"!0_0\":{\"BoundingBox\":{\"w\":1360,\"h\":1760,\"x\":0,\"y\":0},\"MarginLeft\":0,\"FillColor\":null,\"Anchor\":\"Hzn-9_FFk.j2\",\"MarginBottom\":0,\"Restrictions\":{},\"MarginRight\":0,\"MarginTop\":0}}}},\"Blocks\":{},\"Groups\":{},\"Threads\":{},\"Comments\":{},\"complexity\":47}","creator_id":117448661,"pages":1,"thumbSignature":"","templatepages":0,"action_history_length":1623,"id":"f9b77583-db65-405c-883f-320f20633955","saved":"2017-03-23 16:24:09","product_id":0,"panels":1,"saved_by_user_id":117448661,"title":"GIS Subsystem Use Case Diagram","created":"2017-03-23 15:36:39"}};
    doc.Document.state = doc.Document.state || '';
    //CAJA throws exceptions when run on IE11
    var state = doc.Document.state && JSON.parse(doc.Document.state);
    if(/* doc.Document.state.length == 0 || */ state && state.Properties && state.Properties['caja']){
        lucid.caja.enable();
    }

    if (window.profiler) window.profiler.log('initClient');
    userRequestThen(function(userXhr) {
        var user = JSON.parse(userXhr.responseText);
        user = user['noAuth'] ? null : user;
        lucid.caja.init(function() {
            if (window.profiler) window.profiler.log(['initClient', 'lucid.caja.init']);
            var client;
            
                client = lucid.ChartFactory(user, doc.id);
            
            window.client = client; //For debugging

            var plugins = [{"name":"Default","description":"Use these standard shapes to add more detail to your diagram. Text blocks with either a transparent background, solid background, or as note. Plus a hotspot shape for creating interactive diagrams.","public":1,"thumbnail_url":"https://d2slcw3kip6qmk.cloudfront.net/app/chart/plugins/default-352x279.png","url":"/js/plugins/v2/default.js","keywords":"text,note,hotspot,action,interaction,detail","group_name":"Standard","code":"(function(){function p(){return lucid.plugin.getProperty(null,\"Version\")||0}function l(b,a){return b.x+b.w*a}function m(b,a){return b.y+b.h*a}function k(b,a,c){return{Action:\"line\",x:l(b,a),y:m(b,c)}}function n(b,a,c){return{Action:\"move\",x:l(b,a),y:m(b,c)}}function q(){return{Action:\"close\"}}function t(b){return[n(b,0,0),k(b,1,0),k(b,1,1),k(b,0,1),q()]}function u(b){var a=b.BoundingBox,c=a.w>a.h?a.w:a.h,a=a.x<a.y?a.x:a.y,a={x:a,y:a,w:c,h:c};return[{LineColor:\"#000000ff\",FillColor:\"#000000ff\",LineWidth:b.LineWidth,\nActions:[{Action:\"move\",x:a.x,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y+.2*a.h},{Action:\"line\",x:a.x+.9*a.w,y:a.y+.1*a.h},{Action:\"line\",x:a.x+.55*a.w,y:a.y+.1*a.h},{Action:\"line\",x:a.x+.55*a.w,y:a.y+.9*a.h},{Action:\"line\",x:a.x+.65*a.w,y:a.y+a.h},{Action:\"line\",x:a.x+.35*a.w,y:a.y+a.h},{Action:\"line\",x:a.x+.45*a.w,y:a.y+.9*a.h},{Action:\"line\",x:a.x+.45*a.w,y:a.y+.1*a.h},{Action:\"line\",x:a.x+.1*a.w,y:a.y+.1*a.h},{Action:\"line\",x:a.x,y:a.y+.2*a.h},{Action:\"close\"}]}]}var h=\n{global:this,provide:function(b){b=b.split(\".\");h.global[b[0]]=h.global[b[0]]||{};var a=h.global[b[0]];b.slice(1).reduce(function(a,d){a[d]||(a[d]={});return a[d]},a)},require:function(){},inherits:function(b,a){function c(){}c.prototype=a.prototype;b.superClass_=a.prototype;b.prototype=new c;b.prototype.constructor=b;b.base=function(c,b,f){var g=Array.prototype.slice.call(arguments,2);return a.prototype[b].apply(c,g)}},base:function(b,a,c){var d=arguments.callee.caller;if(h.STRICT_MODE_COMPATIBLE||\nh.DEBUG&&!d)throw Error(\"arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C\");if(d.superClass_)return d.superClass_.constructor.apply(b,Array.prototype.slice.call(arguments,1));for(var e=Array.prototype.slice.call(arguments,2),f=!1,g=b.constructor;g;g=g.superClass_&&g.superClass_.constructor)if(g.prototype[a]===d)f=!0;else if(f)return g.prototype[a].apply(b,e);if(b[a]===d)return b.constructor.prototype[a].apply(b,\ne);throw Error(\"goog.base called from a method of one name to a method of a different name\");}};h.provide(\"plugin.common.DocVersionedProps\");plugin.common.DocVersionedProps.getValueForDocVersion=function(b,a){var c=lucid.plugin.getProperty(null,\"Version\")||0,d=lucid.array.findRight(b,function(a){return a.docVersionInstated<=c});return d&&d.value||a};h.provide(\"plugin.common.TextAreaOverflowUtils\");plugin.common.TextAreaOverflowUtils.getOnOverflowCallback=function(b,a,c){return function(d,e,f,g,h){if(\"number\"!==\ntypeof g||\"number\"!==typeof h||(g+6)%3!=(h+6)%3)g=lucid.plugin.getProperty(null,\"Version\")||0,h=Math.abs(lucid.text.getTextAreaRotation(d,e)),e!=(c||\"Text\")||0!==f||5>g||0!==h||plugin.common.TextAreaOverflowUtils.resizeToFitText(d,e,f,b,a)}};plugin.common.TextAreaOverflowUtils.resizeToFitText=function(b,a,c,d,e){var f=lucid.plugin.getProperty(b,\"BoundingBox\"),g=d(f,b);d=lucid.text.getTextAreaVAlignment(b,a);d=\"middle\"==d?{x:.5,y:.5}:\"bottom\"==d?{x:.5,y:1}:{x:.5,y:0};a=lucid.text.getTextAreaSpaceSize(b,\na,c);a=lucid.math.Box.resizeAboutRelativePoint(g,d,a);e=e(a,b);a=e.h>f.h;c=lucid.block.getDefaultSize(b).h;e=lucid.math.Box.resizeAboutRelativePoint(f,d,{w:f.w,h:a?Math.max(e.h,f.h):Math.max(e.h,Math.min(f.h,c))});lucid.plugin.setProperty(b,\"BoundingBox\",e)};h.provide(\"plugin.common.util\");plugin.common.util.getRenderRectangleActionsFromBB=function(b){return[{Action:\"move\",x:b.x,y:b.y},{Action:\"line\",x:b.x+b.w,y:b.y},{Action:\"line\",x:b.x+b.w,y:b.y+b.h},{Action:\"line\",x:b.x,y:b.y+b.h},{Action:\"close\"}]};\nplugin.common.util.getDefaultLinkPoints=function(b){return[{x:.5,y:0},{x:1,y:.5},{x:.5,y:1},{x:0,y:.5}]};h.provide(\"plugin.default\");h.require(\"plugin.common.DocVersionedProps\");h.require(\"plugin.common.TextAreaOverflowUtils\");h.require(\"plugin.common.util\");(function(){var b=function(a,c){var d=lucid.plugin.getProperty(c,\"InsetMargin\")||0;return lucid.math.Box.safePad(a,-d)};lucid.plugin.initBlockClass({className:\"DefaultTextBlockNew\",name:i18n.get(\"plugin-default-text-name\"),defaultSize:{w:240,\nh:60},searchKeywords:\"\",disabledPropertyControls:\"LineWidth FillColor LineColor FillType StrokeStyle Rounding\".split(\" \"),onInit:function(a){lucid.plugin.addBlockTextArea(a,{id:\"Text\",value:i18n.get(\"plugin-default-text-default-content\"),getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(c){return lucid.math.Box.pad({x:c.x,y:c.y,w:c.w,h:c.h},-(lucid.plugin.getProperty(a,\"InsetMargin\")||0))}},{docVersionInstated:5,value:function(c){return b(c,\na)}}]),wantReturn:!0});lucid.plugin.setProperty(a,\"Transparent\",1);lucid.plugin.hookPropertyPostSave(a,\"Text\",function(c,d){if(!(5<=p())){var b=\"y\",f=\"h\",g=lucid.plugin.getProperty(a,\"BoundingBox\"),h=lucid.text.getTextAreaRotation(a,\"Text\"),k=lucid.math.Box.pad({x:g.x,y:g.y,w:g.w,h:g.h},-(lucid.plugin.getProperty(a,\"InsetMargin\")||0));0!==h%Math.PI&&(k=lucid.math.Box.rotate(k,h),b=\"x\",f=\"w\");var h=lucid.plugin.getProperty(a,\"InsetMargin\")||0,l=lucid.plugin.getProperty(a,\"TextVAlign\"),k=lucid.text.getSize(a,\n\"Text\",k);k.h+=2*h;k.h>g[f]&&(\"middle\"==l?g[b]-=(k.h-g[f])/2:\"bottom\"==l&&(g[b]-=k.h-g[f]),g[f]=k.h,lucid.plugin.setProperty(a,\"BoundingBox\",g))}})},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(b,function(a,c){var d=lucid.plugin.getProperty(c,\"InsetMargin\")||0;return lucid.math.Box.safePad(a,d)}),getLinkPoints:function(){return lucid.coreEx.includeCoreExFeatures()?[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]:[]},onCreate:function(a){lucid.help.item.accomplish(\"default.text.add\");\nlucid.plugin.editBlockTextArea(a,\"Text\")},afterEditText:function(a){-1==lucid.text.plainText(lucid.plugin.getProperty(a,\"Text\")).search(/\\S/)&&lucid.plugin.deleteItem(a)},getRenderDataKey:function(a){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(a,c){return\"sample\"===c?u(a):[{Actions:plugin.common.util.getRenderRectangleActionsFromBB(a.BoundingBox)}]}})})();(function(){lucid.plugin.initBlockClass({className:\"MinimalTextBlock\",defaultSize:{w:240,h:60},disabledPropertyControls:\"LineWidth FillColor LineColor FillType StrokeStyle Rounding\".split(\" \"),\nnoLines:!0,onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:\"Text\",value:\"\",getBoundingBox:function(a){return a},wantReturn:!0,afterTextEdit:function(){/\\S/.test(lucid.text.plainText(lucid.plugin.getProperty(b,\"Text\")))||lucid.plugin.deleteItem(b)}})},getRenderData:function(b){return[{Actions:plugin.common.util.getRenderRectangleActionsFromBB(b.BoundingBox)}]}})})();(function(){var b=function(a,c){var d=lucid.plugin.getProperty(c,\"InsetMargin\")||0;return lucid.math.Box.safePad(a,-d)};lucid.plugin.initBlockClass({className:\"DefaultSquareBlock\",\nname:i18n.get(\"plugin-default-block-name\"),defaultSize:{w:160,h:160},searchKeywords:i18n.get(\"plugin-default-block-keywords\"),onInit:function(a){var c=plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){return{x:a.x+20,y:a.y,w:a.w-40,h:a.h}}},{docVersionInstated:2,value:function(c){return{x:c.x,y:c.y,w:c.w,h:c.h,fitShape:lucid.plugin.getProperty(a,\"InsetMargin\")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(c){return b(c,a)}}]);lucid.plugin.addBlockTextArea(a,\n{id:\"Text\",value:i18n.get(\"plugin-default-block-default-content\"),getBoundingBox:c,wantReturn:!0});1<p()&&(lucid.plugin.registerProperty(a,\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(a,\"InsetMargin\",5))},variants:{SquareBlockTransparent:{defaultSize:{w:240,h:60},tooltip:i18n.get(\"plugin-default-squareblock-tooltip\"),searchKeywords:\"\",defaultProperties:function(){return{FillColor:\"#ffffff00\",LineColor:\"#00000000\"}}}},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(b,\nfunction(a,c){var d=lucid.plugin.getProperty(c,\"InsetMargin\")||0;return lucid.math.Box.safePad(a,d)}),getLinkPoints:function(){return lucid.coreEx.includeCoreExFeatures()?[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]:[]},getRenderDataKey:function(a){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(a,c){var d;if(d=\"sample\"==c)if(lucid.string.isString(a.LineColor)&&lucid.string.isString(a.FillColor)){d=a.LineColor.substring(7,9);var b=a.FillColor.substring(7,9);d=\"00\"===d&&\"00\"===\nb}else d=!1;d?d=u(a):(d=a.BoundingBox,d=[{FillColor:a.FillColor,StrokeColor:a.LineColor,LineWidth:a.LineWidth,Actions:[{Action:\"move\",x:d.x,y:d.y},{Action:\"line\",x:d.x+d.w,y:d.y},{Action:\"line\",x:d.x+d.w,y:d.y+d.h},{Action:\"line\",x:d.x,y:d.y+d.h},{Action:\"close\"}]}]);return d}})})();(function(){var b=function(a,c){var d=lucid.plugin.getProperty(c,\"InsetMargin\")||0;return lucid.math.Box.safePad(a,-d)};lucid.plugin.initBlockClass({className:\"DefaultNoteBlock\",name:i18n.get(\"plugin-default-note-name\"),\ndefaultSize:{w:160,h:160},searchKeywords:\"\",unthemed:!0,defaultProperties:function(){return{FillColor:\"#ffffaa\"}},onInit:function(a){lucid.plugin.setProperty(\"TextAlign\",\"left\");lucid.plugin.addBlockTextArea(a,{id:\"Text\",value:\"\",getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){var d=.2*(a.h>a.w?a.w:a.h);return{x:a.x+.5*d,y:a.y+.1*a.h+.1*d,w:a.w-d,h:.8*a.h}}},{docVersionInstated:2,value:function(c){return{x:c.x,y:c.y,w:c.w,h:c.h,fitShape:lucid.plugin.getProperty(a,\n\"InsetMargin\")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(c){return b(c,a)}}]),wantReturn:!0});1<p()&&(lucid.plugin.registerProperty(a,\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(a,\"InsetMargin\",5))},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(b,function(a,c){var d=lucid.plugin.getProperty(c,\"InsetMargin\")||0;return lucid.math.Box.safePad(a,d)}),getLinkPoints:function(){return lucid.coreEx.includeCoreExFeatures()?[{x:.5,y:0},{x:1,y:.5},{x:.5,\ny:1},{x:0,y:.5}]:[]},getRenderDataKey:function(a){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(a,c){var d=a.BoundingBox,b=.2*(d.h>d.w?d.w:d.h),f=lucid.color.darken(a.FillColor,.3);\"sample\"==c&&(b*=2);return[{FillColor:a.FillColor,StrokeColor:a.LineColor,LineWidth:a.LineWidth,Actions:[{Action:\"move\",x:d.x,y:d.y},{Action:\"line\",x:d.x+d.w-b,y:d.y},{Action:\"line\",x:d.x+d.w,y:d.y+b},{Action:\"line\",x:d.x+d.w,y:d.y+d.h},{Action:\"line\",x:d.x,y:d.y+d.h},{Action:\"close\"}]},{FillColor:f,\nStrokeColor:a.LineColor,LineWidth:a.LineWidth,Actions:[{Action:\"move\",x:d.x+d.w-b,y:d.y},{Action:\"line\",x:d.x+d.w,y:d.y+b},{Action:\"line\",x:d.x+d.w-.8*b,y:d.y+.8*b},{Action:\"close\"}]}]}})})();(function(){var b=function(a,c){var b=lucid.plugin.getProperty(c,\"InsetMargin\")||0;return lucid.math.Box.safePad(a,-b)};lucid.plugin.initBlockClass({className:\"DefaultNoteBlockV2\",name:i18n.get(\"plugin-default-note-name\"),defaultSize:{w:160,h:160},searchKeywords:\"\",unthemed:!0,defaultProperties:function(){return{FillColor:\"#ffdf71\"}},\nonInit:function(a){lucid.plugin.setProperty(\"TextAlign\",\"left\");lucid.plugin.addBlockTextArea(a,{id:\"Text\",value:\"\",getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){var b=.2*(a.h>a.w?a.w:a.h);return{x:a.x+.5*b,y:a.y+.1*a.h+.1*b,w:a.w-b,h:.8*a.h}}},{docVersionInstated:2,value:function(c){return{x:c.x,y:c.y,w:c.w,h:c.h,fitShape:lucid.plugin.getProperty(a,\"InsetMargin\")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(c){return b(c,\na)}}]),wantReturn:!0});1<p()&&(lucid.plugin.registerProperty(a,\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(a,\"InsetMargin\",5))},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(b,function(a,c){var b=lucid.plugin.getProperty(c,\"InsetMargin\")||0;return lucid.math.Box.safePad(a,b)}),getLinkPoints:function(){return lucid.coreEx.includeCoreExFeatures()?[{x:.5,y:0},{x:1,y:.5},{x:.5,y:1},{x:0,y:.5}]:[]},getRenderDataKey:function(a){return[\"FillColor\",\"LineWidth\"]},disabledPropertyControls:[\"LineColor\"],\ngetRenderData:function(a,c){var b=a.BoundingBox,e=.2*(b.h>b.w?b.w:b.h),f=lucid.color.darken(a.FillColor,.15);\"sample\"==c&&(e*=2);return[{FillColor:a.FillColor,StrokeColor:f,LineWidth:a.LineWidth,NoRounding:!0,Actions:[{Action:\"move\",x:b.x,y:b.y},{Action:\"line\",x:b.x+b.w-e,y:b.y},{Action:\"line\",x:b.x+b.w,y:b.y+e},{Action:\"line\",x:b.x+b.w,y:b.y+b.h},{Action:\"line\",x:b.x,y:b.y+b.h},{Action:\"close\"}]},{FillColor:f,StrokeColor:f,LineWidth:0,NoRounding:!0,Actions:[{Action:\"move\",x:b.x+b.w-e,y:b.y},{Action:\"line\",\nx:b.x+b.w,y:b.y+e},{Action:\"line\",x:b.x+b.w-e,y:b.y+e},{Action:\"close\"}]}]}})})();lucid.plugin.initBlockClass({className:\"DefaultRedNoteBlock\",name:i18n.get(\"plugin-default-important-note-name\"),defaultSize:{w:160,h:160},searchKeywords:i18n.get(\"plugin-default-important-note-keywords\"),unthemed:!0,onInit:function(b){lucid.plugin.setProperty(\"TextAlign\",\"left\");lucid.plugin.addBlockTextArea(b,{id:\"Text\",value:'<span style=\"color:#ffffff; font-weight:bold;\">'+i18n.get(\"plugin-default-important-note-default-content\")+\n\"</span>\",getBoundingBox:function(a){var b=.2*(a.h>a.w?a.w:a.h);return{x:a.x+.5*b,y:a.y+.1*a.h+.1*b,w:a.w-b,h:.8*a.h}},wantReturn:!0})},getLinkPoints:function(){return lucid.coreEx.includeCoreExFeatures()?[{x:.5,y:0},{x:1,y:.5},{x:.5,y:1},{x:0,y:.5}]:[]},getRenderDataKey:function(b){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(b,a){var c=b.BoundingBox,d=.2*(c.h>c.w?c.w:c.h),e=lucid.color.darken(b.FillColor,.3);\"sample\"==a&&(d*=2);return[{FillColor:b.FillColor,StrokeColor:b.LineColor,\nLineWidth:b.LineWidth,Actions:[{Action:\"move\",x:c.x,y:c.y},{Action:\"line\",x:c.x+c.w-d,y:c.y},{Action:\"line\",x:c.x+c.w,y:c.y+d},{Action:\"line\",x:c.x+c.w,y:c.y+c.h},{Action:\"line\",x:c.x,y:c.y+c.h},{Action:\"close\"}]},{FillColor:e,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:c.x+c.w-d,y:c.y},{Action:\"line\",x:c.x+c.w,y:c.y+d},{Action:\"line\",x:c.x+c.w-.8*d,y:c.y+.8*d},{Action:\"close\"}]}]}});lucid.plugin.initBlockClass({className:\"ImageSearchBlock\",name:i18n.get(\"plugin-default-image-search-name\"),\ndefaultSize:{w:120,h:120},unthemed:!0,disabledPropertyControls:[\"FillType\",\"FillColor\",\"LineColor\",\"LineWidth\"],getRenderData:function(b,a){var c=b.BoundingBox,d=b.URL,e=b.ThumbURL;e&&\"\"!=e||(e=d);if(\"sample\"==a||\"preview\"==a)d=e;return[{Image:d,BoundingBox:c}]},onInit:function(b){lucid.plugin.registerProperty(b,\"URL\",\"\",function(a){\"\"!=a&&null!=a&&lucid.useragent.is_chrome()&&(lucid.useragent.is_win()||lucid.useragent.is_linux())&&(a=lucid.imageProxyUrl(a));return a});lucid.plugin.registerProperty(b,\n\"ThumbURL\",\"\",function(a){\"\"!=a&&-1<a.indexOf(\"::\")&&(a=\"http://\"+a.substr(a.indexOf(\"::\")+2));return a})},isImageBlock:function(){return!0}});lucid.plugin.initBlockClass({className:\"ImageSearchBlock2\",name:i18n.get(\"plugin-default-image-search2-name\"),defaultSize:{w:120,h:120},unthemed:!0,getRenderDataKey:function(b){return[\"FillColor\",\"LineColor\",\"LineWidth\",\"URL\",\"ThumbURL\"]},getRenderData:function(b,a){var c=b.BoundingBox,d=b.URL,e=b.ThumbURL;e&&\"\"!=e||(e=d);return\"sample\"==a||\"preview\"==a?[{Image:e,\nBoundingBox:c}]:[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:c.x,y:c.y},{Action:\"line\",x:c.x+c.w,y:c.y},{Action:\"line\",x:c.x+c.w,y:c.y+c.h},{Action:\"line\",x:c.x,y:c.y+c.h},{Action:\"close\"}]}]},onInit:function(b){lucid.plugin.registerProperty(b,\"ThumbURL\",\"\",function(a){\"\"!=a&&-1<a.indexOf(\"::\")&&(a=\"http://\"+a.substr(a.indexOf(\"::\")+2));return a})},onCreate:function(b){lucid.plugin.replaceWithUserImage(b,{})},isImageBlock:function(){return!0}});lucid.plugin.initBlockClass({className:\"HotspotBlock\",\nname:i18n.get(\"plugin-default-hotspot-name\"),searchKeywords:i18n.get(\"plugin-default-hotspot-keywords\"),defaultSize:{w:120,h:120},hotspot:!0,unthemed:!0,defaultProperties:function(){return{FillColor:\"#00ff9966\"}},getRenderDataKey:function(b){return[\"FillColor\"]},getRenderData:function(b,a){var c=b.BoundingBox;return[{FillColor:b.FillColor,Actions:[{Action:\"move\",x:c.x,y:c.y},{Action:\"line\",x:c.x+c.w,y:c.y},{Action:\"line\",x:c.x+c.w,y:c.y+c.h},{Action:\"line\",x:c.x,y:c.y+c.h},{Action:\"close\"}]}]}});\nvar r={};lucid.plugin.initBlockClass({className:\"PresentationFrameBlock\",name:i18n.get(\"plugin-default-presentation-name\"),defaultSize:{w:460,h:260},isFrame:!0,nwSelectable:{getMoveHandleRenderData:function(b){var a=.3*b.w,c=.15*b.h,d={x:l(b,.35),y:m(b,.1),w:a,h:c},e={x:l(b,.35),y:m(b,.75),w:a,h:c},f={x:l(b,.1),y:m(b,.35),w:c,h:a},a={x:l(b,.75),y:m(b,.35),w:c,h:a},c={x:l(b,.45),y:m(b,.24),w:.1*b.w,h:.52*b.h},g={x:l(b,.24),y:m(b,.45),w:.52*b.w,h:.1*b.h},h=n(b,1,.5);b={Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(l(b,\n0),m(b,0),1*b.w,1*b.h,0*Math.PI,2*Math.PI)};return[{FillColor:\"#f78d1e\",NoRounding:!0,LineWidth:0,Actions:[h,b]},{FillColor:\"#fff\",NoRounding:!0,LineWidth:0,Actions:[n(d,0,1),k(d,1,1),k(d,.5,0),q()]},{FillColor:\"#fff\",NoRounding:!0,LineWidth:0,Actions:[n(e,0,0),k(e,1,0),k(e,.5,1),q()]},{FillColor:\"#fff\",NoRounding:!0,LineWidth:0,Actions:[n(f,1,0),k(f,1,1),k(f,0,.5),q()]},{FillColor:\"#fff\",NoRounding:!0,LineWidth:0,Actions:[n(a,0,0),k(a,0,1),k(a,1,.5),q()]},{FillColor:\"#fff\",NoRounding:!0,LineWidth:0,\nActions:t(c)},{FillColor:\"#fff\",NoRounding:!0,LineWidth:0,Actions:t(g)}]},resizeHandleColor:\"#f78d1e\"},unthemed:!0,noLines:!0,rLock:!0,disabledPropertyControls:\"bold center ClipTextToPage Endpoint1 Endpoint2 FillColor FillType FlipX FlipY font fontFace font Hyphenate InsetMargin italic justified left LineColor lineSpacing LineWidth Link Lock Opacity pageBreak right Rounding Shadow Shape strike StrokeStyle textColor textSize TextVAlign TightWrap underline\".split(\" \"),showResizeHandles:function(){return!0},\nonInit:function(b){r[b]=1;lucid.plugin.addBlockTextArea(b,{id:\"Text\",value:\"\",readOnly:!0,getBoundingBox:function(a){return{x:a.x-15,y:a.y-15+1,w:30,h:30,fitShape:lucid.plugin.getProperty(b,\"InsetMargin\")||0}}})},onDelete:function(b){delete r[b]},getRenderData:function(b,a){var c=b.BoundingBox,d=lucid.plugin.isSelected(b.id),e=c.x-15,f=c.y-15,c=[{FillColor:d?\"#fbc62d20\":\"#00000000\",StrokeColor:\"#f78d1e99\",NoRounding:!0,LineWidth:d?6:2,Actions:[{Action:\"move\",x:c.x,y:c.y},{Action:\"line\",x:c.x+c.w,\ny:c.y},{Action:\"line\",x:c.x+c.w,y:c.y+c.h},{Action:\"line\",x:c.x,y:c.y+c.h},{Action:\"close\"}]},{FillColor:\"#f78d1e\",Actions:[{Action:\"move\",x:e+30,y:f+15},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(e,f,30,30,0,2*Math.PI)}]}];return d?c:lucid.math.dashLine(c,[20,10])}});lucid.plugin.onSelectionChange(function(b){var a=lucid.object.createSet(b);lucid.object.forEach(r,function(b,d){a[d]&&!lucid.plugin.getProperty(d,\"selected\",!0)?(lucid.plugin.setProperty(d,\"selected\",!0,!0),lucid.plugin.refreshBlockView(d)):\n!a[d]&&lucid.plugin.getProperty(d,\"selected\",!0)&&(lucid.plugin.setProperty(d,\"selected\",!1,!0),lucid.plugin.refreshBlockView(d))})});lucid.plugin.onLoad(function(){lucid.help.section.add(i18n.get(\"plugin-default-help-general-title\"),[{id:\"default.block.add\",content:{lucidUrl:\"general/addBlock\"},title:i18n.get(\"plugin-default-help-add-shape\"),keywords:i18n.get(\"plugin-default-help-add-shape-keywords\"),accomplish:function(a){lucid.plugin.onCurrentUserAction(function(b){\"CreateBlock\"==b.Action&&a()})}},\n{id:\"default.block.format\",content:{lucidUrl:\"general/formatBlock\"},title:i18n.get(\"plugin-default-help-format-shape\"),keywords:i18n.get(\"plugin-default-help-format-shape-keywords\"),accomplish:function(a){var b=lucid.object.createSet(\"LineColor\",\"LineWidth\",\"StrokeStyle\",\"FillColor\");lucid.plugin.onCurrentUserAction(function(d){\"SetProperty\"==d.Action&&d.Property in b&&lucid.plugin.isBlock(d.id)&&a()})}},{id:\"default.text.add\",content:{lucidUrl:\"general/addText\"},title:i18n.get(\"plugin-default-help-add-text\"),\nkeywords:i18n.get(\"plugin-default-help-add-text-keywords\")},{id:\"default.line.add\",content:{lucidUrl:\"general/addLine\"},title:i18n.get(\"plugin-default-help-draw-line\"),keywords:i18n.get(\"plugin-default-help-draw-line-keywords\"),accomplish:function(a){lucid.plugin.onCurrentUserAction(function(b){\"CreateLine\"==b.Action&&a()})}},{id:\"default.line.format\",content:{lucidUrl:\"general/formatLine\"},title:i18n.get(\"plugin-default-help-format-line\"),keywords:i18n.get(\"plugin-default-help-format-line-keywords\"),\naccomplish:function(a){var b=lucid.object.createSet(\"LineColor\",\"LineWidth\",\"StrokeStyle\",\"FillColor\"),d=lucid.object.createSet(\"Endpoint1\",\"Endpoint2\");lucid.plugin.onCurrentUserAction(function(e){\"SetProperty\"==e.Action&&(e.Property in b||e.Property in d&&e.Value&&e.OldValue&&(e.Value.Style||\"None\")!=(e.OldValue.Style||\"None\"))&&lucid.plugin.isLine(e.id)&&a()})}},{id:\"default.image\",content:{lucidUrl:\"general/addImage\"},title:i18n.get(\"plugin-default-help-add-image\"),keywords:i18n.get(\"plugin-default-help-add-image-keywords\"),\naccomplish:function(a){lucid.plugin.onCurrentUserAction(function(b){(\"CreateBlock\"==b.Action&&b.Properties&&b.Properties.FillColor&&b.Properties.FillColor.url||\"SetProperty\"==b.Action&&\"FillColor\"==b.Property&&b.Value&&b.Value.url&&lucid.plugin.isBlock(b.id))&&a()})}},{id:\"default.page.settings\",content:{lucidUrl:\"general/pageSettings\"},title:i18n.get(\"plugin-default-help-change-page-settings\"),keywords:i18n.get(\"plugin-default-help-change-page-settings-keywords\"),accomplish:function(a){var b=lucid.object.createSet(\"DPI\",\n\"FillColor\",\"GridSpacing\",\"Margin\",\"Value\");lucid.plugin.onCurrentUserAction(function(d){\"SetProperty\"==d.Action&&d.Property in b&&lucid.plugin.isPage(d.id)&&a()})}},{id:\"default.download\",content:{lucidUrl:\"general/download\"},title:i18n.get(\"plugin-default-help-download\"),keywords:i18n.get(\"plugin-default-help-download-keywords\"),accomplish:function(a){lucid.plugin.onDownloadSuccess(function(b){\"print\"!=b&&a()})}}]);var b=[{id:\"default.share\",content:{lucidUrl:\"general/share\"},title:i18n.get(\"plugin-default-help-share\"),\nkeywords:i18n.get(\"plugin-default-help-share-keywords\"),accomplish:function(a){lucid.plugin.onShare(a)}},{id:\"default.link\",content:{lucidUrl:\"general/link\"},title:i18n.get(\"plugin-default-help-add-link\"),keywords:i18n.get(\"plugin-default-help-add-link-keywords\"),accomplish:function(a){var b=lucid.object.createSet(\"ext\",\"pg\",\"ml\");lucid.plugin.onCurrentUserAction(function(d){\"SetProperty\"==d.Action&&\"Link\"==d.Property&&d.Value instanceof Array&&d.Value.some(function(a){return a.tp in b})&&lucid.plugin.isBlock(d.id)&&\na()})}},{id:\"default.layer\",content:{lucidUrl:\"general/layer\"},title:i18n.get(\"plugin-default-help-layers\"),keywords:[],accomplish:function(a){lucid.plugin.onCurrentUserAction(function(b){\"CrGr\"==b.Action&&b.Properties.IsState&&a()})}},{id:\"default.hotspot\",content:{lucidUrl:\"general/hotspot\"},title:i18n.get(\"plugin-default-help-interaction\"),keywords:i18n.get(\"plugin-default-help-interaction-keywords\"),accomplish:function(a){lucid.plugin.onCurrentUserAction(function(b){(\"CreateBlock\"==b.Action&&\nb.Properties&&b.Properties.Link&&b.Properties.Link.length||\"SetProperty\"==b.Action&&\"Link\"==b.Property&&b.Value&&b.Value.length)&&a()})}},{id:\"default.visio.import\",content:{lucidUrl:\"general/importVisioDiagram\"},title:i18n.get(\"plugin-default-help-visio-import\"),keywords:i18n.get(\"plugin-default-help-visio-import-keywords\")},{id:\"default.visio.export\",content:{lucidUrl:\"general/exportVisioDiagram\"},title:i18n.get(\"plugin-default-help-visio-export\"),keywords:i18n.get(\"plugin-default-help-visio-export-keywords\"),\naccomplish:function(a){lucid.plugin.onDownloadSuccess(function(b){\"visio\"==b&&a()})}}];lucid.config.on_premise&&b.shift();lucid.help.section.add(i18n.get(\"plugin-default-help-advanced-title\"),b)});var v={name:\"Line\",className:\"Group\",toolBoxId:\"defaultLine\",helperImage:lucid.net.cashyURL(\"/app/ng2/chart/shapethumbs/line-shape-28px-@2x.png\"),tooltip:i18n.get(\"plugin-default-line-tooltip\"),defaultSize:{w:100,h:2},defaultProperties:function(){return{Objects:[{id:\"KmiZvl75mHjc\",IsLine:!0,Action:{Action:\"CreateLine\",\nProperties:{Endpoint1:{x:400,y:460},Endpoint2:{x:500,y:460},ZOrder:0}}}],Base:{x:0,y:0},Size:{w:300,h:0},Plugins:[],ApplyTheme:!0}}};lucid.plugin.createToolGroups({Standard:{displayName:i18n.get(\"plugin-default-standard-title\"),items:[{className:\"DefaultSquareBlock\",variant:\"SquareBlockTransparent\",tooltip:i18n.get(\"plugin-default-text-name\"),helperImage:lucid.net.cashyURL(\"/app/ng2/chart/shapethumbs/text-shape-28px-@2x.png\")},\"DefaultSquareBlock\",\"DefaultNoteBlockV2\",\"HotspotBlock\",v]}});lucid.plugin.onDocumentLoaded(function(){5>\np()&&lucid.plugin.createToolGroups({Standard:{displayName:i18n.get(\"plugin-default-standard-title\"),items:[{className:\"DefaultTextBlockNew\",helperImage:lucid.net.cashyURL(\"/app/ng2/chart/shapethumbs/text-shape-28px-@2x.png\")},\"DefaultSquareBlock\",\"DefaultNoteBlockV2\",\"HotspotBlock\",v]}})},!0);lucid.coreEx.includeCoreExFeatures()&&lucid.plugin.createNextBlockGroup([\"DefaultSquareBlock\",\"DefaultTextBlockNew\"]);lucid.plugin.initBlockClass({className:\"DefaultTextBlock\",name:i18n.get(\"plugin-default-text-name\"),\ndefaultSize:{w:240,h:60},noSearch:!0,onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:\"Text\",value:i18n.get(\"plugin-default-text-default-content\"),getBoundingBox:function(a){return{x:a.x+20,y:a.y,w:a.w-40,h:a.h}}})},afterEditText:function(b){-1==lucid.text.plainText(lucid.plugin.getProperty(b,\"Text\")).search(/\\S/)&&lucid.plugin.deleteItem(b)},getRenderData:function(b,a){var c=b.BoundingBox;return[{Actions:[{Action:\"move\",x:c.x,y:c.y},{Action:\"line\",x:c.x+c.w,y:c.y},{Action:\"line\",x:c.x+c.w,\ny:c.y+c.h},{Action:\"line\",x:c.x,y:c.y+c.h},{Action:\"close\"}]}]}})})();\n//# sourceMappingURL=/js/plugins/v2/source-maps/default.js.map"},{"name":"Flowchart Shapes","description":"Build and optimize any process, whether simple or complex, with a variety of flowchart shapes and containers. Try demoing a path for surveys, software flow, and business activities.","public":1,"thumbnail_url":"https://d2slcw3kip6qmk.cloudfront.net/app/chart/plugins/flowchart-352x304.png","url":"/js/plugins/v2/flowchart.js","keywords":"flow,chart,flowchart","group_name":"Standard","code":"(function(){function k(){return lucid.plugin.getProperty(null,\"Version\")||0}function z(d,c,a){return 1<k()?a(d):c(d)}function A(d){lucid.plugin.registerStepperControl(d?\"AdvancedSwimLaneBlockRotated\":\"AdvancedSwimLaneBlock\",\"LaneCount\",function(){return 1},function(){return 1},function(){return 50});lucid.plugin.registerStringSelectControl(d?\"AdvancedSwimLaneBlockRotated\":\"AdvancedSwimLaneBlock\",\"Orientation\",plugin.common.Swimlane.getOrientationOptions);lucid.plugin.registerStringSelectControl(d?\n\"AdvancedSwimLaneBlockRotated\":\"AdvancedSwimLaneBlock\",\"TextOrientation\",plugin.common.Swimlane.getOrientationOptions);return{className:d?\"AdvancedSwimLaneBlockRotated\":\"AdvancedSwimLaneBlock\",name:i18n.get(\"plugin-flowchart-shape-swimlane\"),defaultSize:{w:320,h:820},container:!0,disabledPropertyControls:[\"FlipX\",\"FlipY\"],isTextRotateDisabled:!0,rLock:!0,showResizeHandles:function(){return!1},searchKeywords:i18n.get(\"plugin-flowchart-shape-swimlane-keywords\"),beforeCreate:function(c,a){return plugin.common.Swimlane.beforeCreate.bind(this)(c,\na,[\"AdvancedSwimLaneBlockRotated\",\"AdvancedSwimLaneBlock\"])},getLinkPoints:plugin.common.Swimlane.getLinkPoints,spatialControls:function(c){return plugin.common.Swimlane.spatialControls.bind(this)(c,!1)},onInit:function(c){lucid.plugin.registerProperty(c,\"Vertical\",d?0:1);lucid.plugin.setProperty(c,\"Rotation\",d?-Math.PI/2:0);var a=40,b=null,g=function(d){var h=lucid.plugin.getProperty(c,\"VerticalText\"),g=lucid.plugin.getProperty(c,\"Vertical\"),m=lucid.plugin.getProperty(c,\"BoundingBox\"),e=lucid.plugin.getProperty(c,\n\"titleHeight\",!0),l=m?m.h/3:a+10;a=40;for(var q=0;q<d.length;q++){var n=lucid.text.getSize(c,\"Lane_\"+d[q].tid,{x:0,y:0,w:g==h?l:m.w*d[q].p,h:1E4});a=g==h?Math.min(l,Math.round(Math.max(a,n.w+15))):Math.min(l,Math.round(Math.max(a,n.h+15)));lucid.plugin.updateBlockTextArea(c,\"Lane_\"+d[q].tid,{rotation:h!=!g?Math.PI/2:0})}b=lucid.text.getStyle(c,\"Lane_\"+d[d.length-1].tid);a!=e&&(lucid.plugin.setProperty(c,\"titleHeight\",a,!0),lucid.plugin.refreshBlockView(c))},e=function(d){lucid.plugin.addBlockTextArea(c,\n{id:\"Lane_\"+d,value:lucid.text.restyle(i18n.get(\"plugin-flowchart-shape-swimlane\"),b),getBoundingBox:function(b){return function(d){var m=lucid.plugin.getProperty(c,\"Lanes\");g(m);var e;for(e=0;e<m.length&&m[e].tid!==b;e++);if(e>=m.length)return null;var l=lucid.plugin.getProperty(c,\"Vertical\"),f=0;if(l)for(var n=0;n<e;n++)f+=d.w*m[n].p;else for(n=m.length-1;n>e;n--)f+=d.w*m[n].p;d={x:d.x+f,y:d.y,w:d.w*m[e].p,h:a};m=lucid.plugin.getProperty(c,\"VerticalText\");l==m&&(d=lucid.math.Box.rotate(d,Math.PI/\n2));return d}}(d)})};lucid.plugin.registerProperty(c,\"Lanes\",[{p:1,tid:0}],null,function(a,b){if(a!=b){var d=lucid.plugin.getBlockTextAreas(c),m=d.indexOf(\"MainText\");0<=m&&d.splice(m,1);for(var u=[\"MainText\"],l=0;l<b.length;l++){var q=\"Lane_\"+b[l].tid,m=d.indexOf(q);0>m?e(b[l].tid):d.splice(m,1);u.push(q)}for(l=0;l<d.length;l++)lucid.plugin.deleteBlockTextArea(c,d[l]);lucid.plugin.setBlockTextAreasOrder(c,u);g(b)}});lucid.plugin.registerProperty(c,\"VerticalText\",d?1:0,null,function(a,b){if(a!=b){for(var d=\nlucid.plugin.getProperty(c,\"Lanes\"),e=lucid.plugin.getProperty(c,\"Vertical\"),u=0;u<d.length;u++)lucid.plugin.updateBlockTextArea(c,\"Lane_\"+d[u].tid,{rotation:e&&!b||!e&&b?0:Math.PI/2});g(d)}});lucid.plugin.registerProxyProperty(c,\"LaneCount\",plugin.common.Swimlane.getLaneCountOfSwimLaneBlock.bind(null,c),plugin.common.Swimlane.setLaneCountOfSwimLaneBlock.bind(null,c,!1));lucid.plugin.registerProxyProperty(c,\"Orientation\",plugin.common.Swimlane.getOrientationOfSwimLaneBlock.bind(null,c),plugin.common.Swimlane.setOrientationOfSwimLaneBlock.bind(null,\nc,!0));lucid.plugin.registerProxyProperty(c,\"TextOrientation\",function(){return lucid.plugin.getProperty(c,\"VerticalText\")?plugin.common.Swimlane.ORIENTATIONS.VERTICAL:plugin.common.Swimlane.ORIENTATIONS.HORIZONTAL},function(a){var b=lucid.plugin.getProperty(c,\"VerticalText\");a=a==plugin.common.Swimlane.ORIENTATIONS.VERTICAL?1:0;b!=a&&lucid.plugin.setProperty(c,\"VerticalText\",a)});lucid.plugin.hookPropertyPostSave(c,\"Lanes\",function(){lucid.plugin.proxyPropertyChanged(c,\"LaneCount\")});lucid.plugin.hookPropertyPostSave(c,\n\"Vertical\",function(){lucid.plugin.proxyPropertyChanged(c,\"Orientation\");lucid.plugin.proxyPropertyChanged(c,\"TextOrientation\")});lucid.plugin.hookPropertyPostSave(c,\"VerticalText\",function(){lucid.plugin.proxyPropertyChanged(c,\"TextOrientation\")})},getRenderData:function(c,a){var b=c.Lanes,d=c.Vertical||!1,e=c.BoundingBox,f=c.titleHeight||40;\"sample\"==a&&(f=e.h/5);var h=[{FillColor:c.FillColor,Actions:[{Action:\"move\",x:e.x,y:e.y},{Action:\"line\",x:e.x+e.w,y:e.y},{Action:\"line\",x:e.x+e.w,y:e.y+f},\n{Action:\"line\",x:e.x,y:e.y+f},{Action:\"close\"}]},{FillColor:c.FillColor,NoRounding:!0,Actions:[{Action:\"move\",x:e.x,y:e.y+f/2},{Action:\"line\",x:e.x+e.w,y:e.y+f/2},{Action:\"line\",x:e.x+e.w,y:e.y+f},{Action:\"line\",x:e.x,y:e.y+f},{Action:\"close\"}]},{StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:\"move\",x:e.x,y:e.y+e.h},{Action:\"line\",x:e.x,y:e.y},{Action:\"line\",x:e.x+e.w,y:e.y},{Action:\"line\",x:e.x+e.w,y:e.y+e.h},{Action:\"close\"}]},{StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:\"move\",\nx:e.x,y:e.y+f},{Action:\"line\",x:e.x+e.w,y:e.y+f}]}],f=function(a){h[3].Actions.push({Action:\"move\",x:a.x,y:a.y});h[3].Actions.push({Action:\"line\",x:a.x,y:a.y+a.h})},p=e.w;if(d)for(d=0;d<b.length;d++)e.w=p*b[d].p,0<d&&f(e),e.x+=p*b[d].p;else for(d=b.length-1;0<=d;d--)e.w=p*b[d].p,d<b.length-1&&f(e),e.x+=p*b[d].p;return h}}}var r={global:this,provide:function(d){d=d.split(\".\");r.global[d[0]]=r.global[d[0]]||{};var c=r.global[d[0]];d.slice(1).reduce(function(a,b){a[b]||(a[b]={});return a[b]},c)},require:function(){},\ninherits:function(d,c){function a(){}a.prototype=c.prototype;d.superClass_=c.prototype;d.prototype=new a;d.prototype.constructor=d;d.base=function(a,d,e){var f=Array.prototype.slice.call(arguments,2);return c.prototype[d].apply(a,f)}},base:function(d,c,a){var b=arguments.callee.caller;if(r.STRICT_MODE_COMPATIBLE||r.DEBUG&&!b)throw Error(\"arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C\");if(b.superClass_)return b.superClass_.constructor.apply(d,\nArray.prototype.slice.call(arguments,1));for(var g=Array.prototype.slice.call(arguments,2),e=!1,f=d.constructor;f;f=f.superClass_&&f.superClass_.constructor)if(f.prototype[c]===b)e=!0;else if(e)return f.prototype[c].apply(d,g);if(d[c]===b)return d.constructor.prototype[c].apply(d,g);throw Error(\"goog.base called from a method of one name to a method of a different name\");}};r.provide(\"plugin.common.Swimlane\");plugin.common.Swimlane.ORIENTATIONS={VERTICAL:\"vertical\",HORIZONTAL:\"horizontal\"};plugin.common.Swimlane.getOrientationOptions=\nfunction(){return lucid.object.getValues(plugin.common.Swimlane.ORIENTATIONS)};plugin.common.Swimlane.updateLanes=function(d,c,a,b,g){var e=lucid.plugin.getProperty(c,\"Lanes\"),f=lucid.plugin.getProperty(c,\"BoundingBox\"),h=lucid.plugin.getProperty(c,\"Rotation\")||0,p=[];if(e&&f){if(\"add\"===d){void 0===a&&(a=e.length-1);var m=b?a:a+1;g=f.w*e[a].p;a=f.w+g;var u=[],l=0;for(d=0;d<e.length;d++)d>=m&&(l+=e[d].p),b={p:f.w*e[d].p/a,tid:e[d].tid},p.push(b),u.push(b.tid);for(;lucid.array.contains(u,d);)d++;p.splice(m,\n0,{p:g/a,tid:parseInt(d,10)});e=lucid.plugin.getProperty(c,\"Vertical\");b=f.x+(1-l)*f.w;if(!e)var q=lucid.math.Box.rotate(f,lucid.plugin.getProperty(c,\"Rotation\")).y+(1-l)*f.w;l=lucid.plugin.getContained(c);for(d=0;d<l.length;d++)if(m=lucid.plugin.getProperty(l[d],\"BoundingBox\"))e?m.x+.01>=b&&(m.x+=g):m.y+.01>=q&&(m.y+=g),lucid.plugin.setProperty(l[d],\"BoundingBox\",m)}else{q=e.pop();a=f.w*(1-q.p);for(d=0;d<e.length;d++)b={p:f.w*e[d].p/a,tid:e[d].tid},p.push(b);g&&lucid.plugin.setProperty(c,\"Lane_\"+\nq.tid,\"Lane\")}50>=p.length&&0<p.length&&(lucid.plugin.setProperty(c,\"Lanes\",p),0!==h&&(f.x+=(f.w-a)/2,f.y-=(f.w-a)/2),f.w=a,lucid.plugin.setProperty(c,\"BoundingBox\",f))}};plugin.common.Swimlane.setOrientation=function(d,c,a){var b=function(a,b){var c=lucid.plugin.getProperty(d,\"Rotation\")||0,e=lucid.math.Box.rotate(b,c),c=lucid.plugin.getContained(d),g={x:e.x+e.w/2,y:e.y+e.h/2};lucid.array.forEach(c,function(b){var c=lucid.plugin.getProperty(b,\"BoundingBox\"),d=lucid.math.Point.rotate({x:c.x,y:c.y},\ng,\"v\"===a?Math.PI/2:-Math.PI/2),c={x:\"v\"===a?d.x-2*(d.x-(e.x+e.w/2)):d.x,y:\"h\"===a?d.y-2*(d.y-(e.y+e.h/2)):d.y,w:c.w,h:c.h,data:c.data};c.x-=(e.w-e.h)/2;c.y-=(e.h-e.w)/2;lucid.plugin.setProperty(b,\"BoundingBox\",c);c=lucid.plugin.getIncomingLines(b);b=lucid.plugin.getOutgoingLines(b);for(d=0;d<c.length;d++){var h=lucid.plugin.getProperty(c[d],\"Endpoint2\"),p=h.LinkX;h.LinkX=h.LinkY;h.LinkY=p;lucid.plugin.setProperty(c[d],\"Endpoint2\",h)}for(d=0;d<b.length;d++)h=lucid.plugin.getProperty(b[d],\"Endpoint1\"),\np=h.LinkX,h.LinkX=h.LinkY,h.LinkY=p,lucid.plugin.setProperty(b[d],\"Endpoint1\",h)})},g=lucid.plugin.getProperty(d,\"VerticalText\"),e=lucid.plugin.getProperty(d,\"BoundingBox\");null!=c&&(b(a?\"v\":\"h\",e),(!c&&a||c&&!a)&&lucid.plugin.setProperty(d,\"VerticalText\",g?0:1));lucid.plugin.setProperty(d,\"Rotation\",a?0:-Math.PI/2);e.x+=a?(e.w-e.h)/2:-(e.w-e.h)/2;e.y+=a?(e.h-e.w)/2:-(e.h-e.w)/2;lucid.plugin.setProperty(d,\"BoundingBox\",e)};plugin.common.Swimlane.beforeCreate=function(d,c,a){d=lucid.plugin.getChildren(d,\nfunction(b){return(b=lucid.plugin.getBlockClassName(b))&&0<=a.indexOf(b)});var b=c.BoundingBox;c=c.Rotation||0;for(var g in d){var e=d[g],f=lucid.plugin.getProperty(e,\"BoundingBox\"),h=lucid.plugin.getProperty(e,\"Rotation\")||0;if(!(0===h&&0!==c||0!==h&&0===c)){var p=lucid.math.Box.rotate(b,c),m=lucid.math.Box.rotate(f,h);if(lucid.math.Box.overlap(p,m)){var p=lucid.plugin.getProperty(e,\"Lanes\"),m=f.w*p[p.length-1].p,u=f.w+m,l=[],q=[],n;for(n=0;n<p.length;n++){var x={p:f.w*p[n].p/u,tid:p[n].tid};l.push(x);\nq.push(x.tid)}for(;lucid.array.contains(q,n);)n++;l.push({p:m/u,tid:parseInt(n)});if(50>=l.length&&0<l.length)return lucid.plugin.setProperty(e,\"Lanes\",l),0!==h&&(f.x+=(f.w-u)/2,f.y-=(f.w-u)/2),f.w=u,lucid.plugin.setProperty(e,\"BoundingBox\",f),!1}}}return!0};plugin.common.Swimlane.getLinkPoints=function(d){var c=lucid.plugin.getProperty(d,\"Lanes\"),a=0,b=[];if(lucid.plugin.getProperty(d,\"Vertical\"))for(d=0;d<c.length;d++){var g=a+c[d].p/2;b.push({x:g,y:0});a+=c[d].p}else for(d=c.length-1;0<=d;d--)g=\na+c[d].p/2,b.push({x:g,y:0}),a+=c[d].p;return b};plugin.common.Swimlane.spatialControls=function(d,c){function a(){var a=lucid.plugin.getProperty(d,\"Lanes\"),b=lucid.plugin.getProperty(d,\"Vertical\");return a?b?a:a.reverse():null}function b(a,b){var c=lucid.plugin.getProperty(d,\"Vertical\");b.h&&(c||(a.x-=(a.h-b.h)/2,a.y+=(a.h-b.h)/2),a.h=b.h);b.w&&(c||(a.x+=(a.w-b.w)/2,a.y-=(a.w-b.w)/2),a.w=b.w);lucid.plugin.setProperty(d,\"BoundingBox\",a)}function g(a){var b=0;lucid.plugin.getProperty(d,\"Vertical\")||\na--;for(var c=0;c<=a;c++)b+=f[c].p;return b}function e(c){return{logAction:\"chart.viewport.selection.spatialControls.flowchart.swimlaneWidth\",location:function(){f=a();var b=lucid.plugin.getProperty(d,\"BoundingBox\"),e=lucid.plugin.getProperty(d,\"mainTitleHeight\",!0);return{x:b.x+b.w*g(c)-10,y:b.y+(!!e&&e),w:20,h:b.h-(!!e&&e)}},moved:function(e){f=a();var h=lucid.plugin.getProperty(d,\"BoundingBox\"),p=lucid.plugin.getProperty(d,\"Vertical\"),n=g(c),x=h.x+n*h.w;e=p?e.x-x:x-e.x;if(!p)var k=lucid.math.Box.rotate(h,\nlucid.plugin.getProperty(d,\"Rotation\")).y+(1-n)*h.w;for(var n=h.w+e,t=0;t<f.length;t++)f[t].p=t===c?(f[t].p*h.w+e)/n:f[t].p*h.w/n;for(var v=lucid.plugin.getContained(d),t=0;t<v.length;t++){var w=lucid.plugin.getProperty(v[t],\"BoundingBox\");w&&(p?w.x+.01>=x&&(w.x+=e):w.y+.01>=k&&(w.y+=e),lucid.plugin.setProperty(v[t],\"BoundingBox\",w))}b(h,{w:n});h=f;p=lucid.plugin.getProperty(d,\"Vertical\");lucid.plugin.setProperty(d,\"Lanes\",p?h:h.reverse())},path:function(){f=a();var b=lucid.plugin.getProperty(d,\"BoundingBox\"),\ne=lucid.plugin.getProperty(d,\"Vertical\");return[{x:e?b.x+b.w*g(c-1)+20:b.x+b.w*g(c+1)-20,y:b.y+b.h/2},{x:e?1E8:-1E8,y:b.y+b.h/2}]},cursor:function(){return lucid.plugin.getProperty(d,\"Rotation\")?\"s-resize\":\"e-resize\"},snap:!0,snapToGuides:!0,color:\"none\"}}var f=a(),h=[];if(f){for(var p=0;p<f.length;p++)h.push(e(p));h.push({logAction:\"chart.viewport.selection.spatialControls.\"+c?\"uml\":\"flowchart.swimlaneHeight\",location:function(){var a=lucid.plugin.getProperty(d,\"BoundingBox\");return{x:a.x,y:a.y+\na.h-10,w:a.w,h:20}},moved:function(a){var c=lucid.plugin.getProperty(d,\"BoundingBox\");b(c,{h:c.h-(c.y+c.h-a.y)})},path:function(){f=a();var b=lucid.plugin.getProperty(d,\"BoundingBox\");return[{x:b.x+b.w/2,y:b.y+20+lucid.plugin.getProperty(d,\"titleHeight\",!0)||40},{x:b.x+b.w/2,y:1E8}]},cursor:function(){return lucid.plugin.getProperty(d,\"Vertical\")?\"s-resize\":\"e-resize\"},snap:!0,snapToGuides:!0,color:\"none\"})}return h};plugin.common.Swimlane.getLaneCountOfSwimLaneBlock=function(d){return lucid.plugin.getProperty(d,\n\"Lanes\").length};plugin.common.Swimlane.setLaneCountOfSwimLaneBlock=function(d,c,a){for(var b=lucid.plugin.getProperty(d,\"Lanes\").length,g=Math.abs(a-b),e=0;e<g;e++)plugin.common.Swimlane.updateLanes(b<a?\"add\":\"remove\",d,void 0,void 0,c)};plugin.common.Swimlane.getOrientationOfSwimLaneBlock=function(d){return lucid.plugin.getProperty(d,\"Vertical\")?plugin.common.Swimlane.ORIENTATIONS.VERTICAL:plugin.common.Swimlane.ORIENTATIONS.HORIZONTAL};plugin.common.Swimlane.setOrientationOfSwimLaneBlock=function(d,\nc,a){var b=lucid.plugin.getProperty(d,\"Vertical\");a=a==plugin.common.Swimlane.ORIENTATIONS.VERTICAL?1:0;b!=a&&(lucid.plugin.setProperty(d,\"Vertical\",a),c&&plugin.common.Swimlane.setOrientation(d,b,a))};r.provide(\"plugin.common.DocVersionedProps\");plugin.common.DocVersionedProps.getValueForDocVersion=function(d,c){var a=lucid.plugin.getProperty(null,\"Version\")||0,b=lucid.array.findRight(d,function(b){return b.docVersionInstated<=a});return b&&b.value||c};r.provide(\"plugin.common.TextAreaOverflowUtils\");\nplugin.common.TextAreaOverflowUtils.getOnOverflowCallback=function(d,c,a){return function(b,g,e,f,h){if(\"number\"!==typeof f||\"number\"!==typeof h||(f+6)%3!=(h+6)%3)f=lucid.plugin.getProperty(null,\"Version\")||0,h=Math.abs(lucid.text.getTextAreaRotation(b,g)),g!=(a||\"Text\")||0!==e||5>f||0!==h||plugin.common.TextAreaOverflowUtils.resizeToFitText(b,g,e,d,c)}};plugin.common.TextAreaOverflowUtils.resizeToFitText=function(d,c,a,b,g){var e=lucid.plugin.getProperty(d,\"BoundingBox\"),f=b(e,d);b=lucid.text.getTextAreaVAlignment(d,\nc);b=\"middle\"==b?{x:.5,y:.5}:\"bottom\"==b?{x:.5,y:1}:{x:.5,y:0};c=lucid.text.getTextAreaSpaceSize(d,c,a);c=lucid.math.Box.resizeAboutRelativePoint(f,b,c);g=g(c,d);c=g.h>e.h;a=lucid.block.getDefaultSize(d).h;g=lucid.math.Box.resizeAboutRelativePoint(e,b,{w:e.w,h:c?Math.max(g.h,e.h):Math.max(g.h,Math.min(e.h,a))});lucid.plugin.setProperty(d,\"BoundingBox\",g)};r.provide(\"plugin.flowchart\");r.require(\"plugin.common.DocVersionedProps\");r.require(\"plugin.common.TextAreaOverflowUtils\");r.require(\"plugin.common.Swimlane\");\nlucid.plugin.onDocumentLoaded(function(){function d(a,b,c){function d(a,c){for(var e=b.value?b.value(c[0]):lucid.plugin.getProperty(c[0],a),g=1;g<c.length;g++)if(e!=(b.value?b.value(c[g]):lucid.plugin.getProperty(c[g],a)))return null;return e}function e(a,d){d||(b.change?lucid.array.forEach(b.ids,function(c){b.change(a,d,c)}):(lucid.array.forEach(b.ids,function(c){lucid.plugin.setPropertyIfChanged(c,b.prop,a)}),c()))}function l(a,b){a=parseInt(a||0,10);e(a,b)}b.pairs=b.pairs||[];g&&!b.nospace&&a.spacer();\ng=!0;if(\"spinner\"==b.type)a.addGrid({width:6,content:{text:b.name+\":\",classes:\"crop ralign\"}}),a.openGrid({width:3,suffix:3}),a.addInput({type:\"spinner\",min:1,max:100,step:1,value:d(b.prop,b.ids),defaultVal:\" \",onChange:e}),a.close();else if(\"select\"==b.type){a.addGrid({width:6,content:{text:b.name+\":\",classes:\"crop ralign\"}});var q=[];lucid.object.forEach(b.options,function(a,b){q.push({label:a,value:b})});a.openGrid({width:6});a.addInput({type:\"select\",options:q,onChange:l}).setValue(d(b.prop,b.ids));\na.close()}}function c(f){var h=function(){c(f);e&&e.refresh&&e.refresh()};f=lucid.array.filter(f,function(a){return a.isBlock});if(!lucid.array.every(f,function(a){return-1<a.className.search(\"Swim\")}))return!1;var p=!1,m=lucid.template.builder();g=!1;var u={poolCount:{ids:[],name:i18n.get(\"plugin-flowchart-shape-swimlane-lanes\"),type:\"spinner\",prop:\"Lanes\",value:function(a){return lucid.plugin.getProperty(a,\"Lanes\").length},change:function(a,b,c){b=lucid.plugin.getProperty(c,\"Lanes\").length;if(b<\na)for(;b<a;b++)plugin.common.Swimlane.updateLanes(\"add\",c);else if(b>a)for(;b>a;b--)plugin.common.Swimlane.updateLanes(\"remove\",c)}},poolFlow:{ids:[],name:i18n.get(\"plugin-flowchart-shape-swimlane-orientation\"),type:\"select\",prop:\"Vertical\",options:{0:i18n.get(\"plugin-flowchart-shape-swimlane-orientation-horizontal\"),1:i18n.get(\"plugin-flowchart-shape-swimlane-orientation-vertical\")},change:function(a,b,c){\"\"!==a&&(b=lucid.plugin.getProperty(c,\"Vertical\"),a=parseInt(a,10),a!=b&&(lucid.plugin.setProperty(c,\n\"Vertical\",a),plugin.common.Swimlane.setOrientation(c,b,a)))}},poolTextFlow:{ids:[],name:i18n.get(\"plugin-flowchart-shape-swimlane-label\"),type:\"select\",prop:\"VerticalText\",options:{0:i18n.get(\"plugin-flowchart-shape-swimlane-label-horizontal\"),1:i18n.get(\"plugin-flowchart-shape-swimlane-label-vertical\")}}};lucid.array.forEach(f,function(a){lucid.object.forEach(u,function(b){null!=lucid.plugin.getProperty(a.id,b.prop)&&(b.condition?b.condition(a.id):1)&&b.ids.push(a.id)})});lucid.object.forEach(u,\nfunction(a){0<a.ids.length&&(d(m,a,h),p=!0)});a.getElement(b).setContent(m);return p}var a=lucid.template.builder(),b=a.add({classes:\"ios_inputs\"}),g=!1,e=lucid.plugin.addCustomPanel(\"\",null,[{content:a}],null,{isContextPanel:!0,checkShow:c,refreshProperties:[\"Vertical\",\"VerticalText\",\"Lanes\"]})});(function(){var d=function(c,a){var b=lucid.plugin.getProperty(a,\"InsetMargin\")||0;return lucid.math.Box.safePad(c,-b)};lucid.plugin.initBlockClass({className:\"ProcessBlock\",name:i18n.get(\"plugin-flowchart-shape-process\"),\nsearchKeywords:i18n.get(\"plugin-flowchart-shape-process-keywords\"),allowResizeByTextArea:!0,defaultSize:{w:160,h:120},defaultText:i18n.get(\"plugin-flowchart-shape-process\"),onInit:function(c){lucid.plugin.addBlockTextArea(c,{id:\"Text\",value:i18n.get(\"plugin-flowchart-shape-process\"),getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){return{x:a.x+20,y:a.y,w:a.w-40,h:a.h}}},{docVersionInstated:2,value:function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,\nfitShape:lucid.plugin.getProperty(c,\"InsetMargin\")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(a){return d(a,c)}}])});1<k()&&(lucid.plugin.registerProperty(c,\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(c,\"InsetMargin\",5))},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(d,function(c,a){var b=lucid.plugin.getProperty(a,\"InsetMargin\")||0;return lucid.math.Box.safePad(c,b)}),getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},\ngetRenderDataKey:function(c){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(c,a){var b=c.BoundingBox;return[{FillColor:c.FillColor,StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:\"move\",x:b.x,y:b.y},{Action:\"line\",x:b.x+b.w,y:b.y},{Action:\"line\",x:b.x+b.w,y:b.y+b.h},{Action:\"line\",x:b.x,y:b.y+b.h},{Action:\"close\"}]}]}})})();(function(){var d=function(c,a){var b=lucid.plugin.getProperty(a,\"InsetMargin\")||0;return lucid.math.Box.safePad(c,-b)};lucid.plugin.initBlockClass({className:\"DecisionBlock\",\nname:i18n.get(\"plugin-flowchart-shape-decision\"),searchKeywords:i18n.get(\"plugin-flowchart-shape-decision-keywords\"),defaultSize:{w:160,h:120},defaultText:i18n.get(\"plugin-flowchart-shape-decision\"),onInit:function(c){lucid.plugin.addBlockTextArea(c,{id:\"Text\",value:i18n.get(\"plugin-flowchart-shape-decision\"),getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){return{x:a.x+.25*a.w,y:a.y+.25*a.h,w:.5*a.w,h:.5*a.h}}},{docVersionInstated:2,value:function(a){return{x:a.x,\ny:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(c,\"InsetMargin\")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(a){return d(a,c)}}])});1<k()&&(lucid.plugin.registerProperty(c,\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(c,\"InsetMargin\",5))},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(d,function(c,a){var b=lucid.plugin.getProperty(a,\"InsetMargin\")||0;return lucid.math.Box.safePad(c,b)}),getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},\n{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(c){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(c,a){var b=c.BoundingBox,d=b.x+b.w/2,e=b.y+b.h/2;return[{FillColor:c.FillColor,StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:\"move\",x:d,y:b.y},{Action:\"line\",x:b.x+b.w,y:e},{Action:\"line\",x:d,y:b.y+b.h},{Action:\"line\",x:b.x,y:e},{Action:\"close\"}]}]},lineDrawnProperties:function(c,a){var b=i18n.get(\"plugin-flowchart-shape-decision-option\");1==a&&(b=i18n.get(\"plugin-flowchart-shape-decision-yes\"));\n2==a&&(b=i18n.get(\"plugin-flowchart-shape-decision-no\"));return{TextAreas:{Text:{Value:b,Side:0,Location:.5}}}},lineDrawn:function(c,a,b,d){d&&lucid.plugin.editLineTextArea(a,\"Text\")}})})();(function(){var d=function(c,a){var b=lucid.plugin.getProperty(a,\"InsetMargin\")||0;return lucid.math.Box.safePad(c,-b)};lucid.plugin.initBlockClass({className:\"TerminatorBlock\",name:i18n.get(\"plugin-flowchart-shape-terminator\"),searchKeywords:i18n.get(\"plugin-flowchart-shape-terminator-keywords\"),defaultSize:{w:160,\nh:80},defaultText:i18n.get(\"plugin-flowchart-shape-terminator\"),onInit:function(c){lucid.plugin.addBlockTextArea(c,{id:\"Text\",value:i18n.get(\"plugin-flowchart-shape-terminator\"),getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){return{x:a.x+.1*a.w,y:a.y,w:.8*a.w,h:a.h}}},{docVersionInstated:2,value:function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(c,\"InsetMargin\")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(a){lucid.plugin.getProperty(c,\n\"InsetMargin\");return d(a,c)}}])});1<k()&&(lucid.plugin.registerProperty(c,\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(c,\"InsetMargin\",5))},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(d,function(c,a){var b=lucid.plugin.getProperty(a,\"InsetMargin\")||0;return lucid.math.Box.safePad(c,b)}),getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(c){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(c){var a=\nc.BoundingBox;return[{FillColor:c.FillColor,StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:\"move\",x:a.x+.8*a.w,y:a.y},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x+.6*a.w,a.y,.4*a.w,a.h,-.5*Math.PI,.5*Math.PI)},{Action:\"line\",x:a.x+.2*a.w,y:a.y+a.h},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x,a.y,.4*a.w,a.h,.5*Math.PI,1.5*Math.PI)},{Action:\"close\"}]}]}})})();(function(){var d=function(c,a){var b=lucid.plugin.getProperty(a,\"Side\"),b={x:c.x+c.w*(b+\n.025),y:c.y,w:c.w*(1-2*(b+.025)),h:c.h},d=lucid.plugin.getProperty(a,\"InsetMargin\")||0;return lucid.math.Box.safePad(b,-d,{w:10,h:10})};lucid.plugin.initBlockClass({className:\"PredefinedProcessBlock\",name:i18n.get(\"plugin-flowchart-shape-predefinedprocess\"),searchKeywords:[],defaultSize:{w:160,h:120},defaultText:i18n.get(\"plugin-flowchart-shape-predefinedprocess\"),onInit:function(c){lucid.plugin.registerProperty(c,\"Side\",.1);lucid.plugin.addBlockTextArea(c,{id:\"Text\",value:i18n.get(\"plugin-flowchart-shape-predefinedprocess\"),\ngetBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){var b=lucid.plugin.getProperty(c,\"Side\");return{x:a.x+a.w*(b+.025),y:a.y,w:a.w*(1-2*(b+.025)),h:a.h}}},{docVersionInstated:5,value:function(a){return d(a,c)}}])})},spatialControls:function(c){return[{logAction:\"chart.viewport.selection.spatialControls.flowchart.predefinedProcessSideWidth\",location:function(){var a=lucid.plugin.getProperty(c,\"BoundingBox\"),b=lucid.plugin.getProperty(c,\"Side\");\nreturn{x:a.x+a.w*b-5,y:a.y+a.h-5,w:10,h:10}},moved:function(a){var b=lucid.plugin.getProperty(c,\"BoundingBox\");lucid.plugin.setProperty(c,\"Side\",(a.x-b.x)/b.w)},path:function(){var a=lucid.plugin.getProperty(c,\"BoundingBox\");return[{x:a.x+5,y:a.y},{x:a.x+a.w/3,y:a.y}]},snap:2}]},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(d,function(c,a){var b=lucid.plugin.getProperty(a,\"InsetMargin\")||0;c=lucid.math.Box.safePad(c,b,{w:10,h:10});var b=lucid.plugin.getProperty(a,\n\"Side\"),d=c.w/(1-2*(b+.025));return{x:c.x-d*(b+.025),y:c.y,w:d,h:c.h}}),getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(c){return[\"FillColor\",\"LineColor\",\"LineWidth\",\"Side\"]},getRenderData:function(c,a){var b=c.BoundingBox;return[{FillColor:c.FillColor,StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:\"move\",x:b.x,y:b.y},{Action:\"line\",x:b.x+b.w,y:b.y},{Action:\"line\",x:b.x+b.w,y:b.y+b.h},{Action:\"line\",x:b.x,y:b.y+b.h},{Action:\"close\"}]},\n{StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:\"move\",x:b.x+b.w*c.Side,y:b.y},{Action:\"line\",x:b.x+b.w*c.Side,y:b.y+b.h},{Action:\"move\",x:b.x+b.w*(1-c.Side),y:b.y},{Action:\"line\",x:b.x+b.w*(1-c.Side),y:b.y+b.h}]}]}})})();(function(){var d=function(c,a){var b=lucid.plugin.getProperty(a,\"InsetMargin\")||0,d=lucid.math.Box.getRelativeBox(c,0,0,1,5/6);return d=lucid.math.Box.safePad(d,-b)};lucid.plugin.initBlockClass({className:\"DocumentBlock\",name:i18n.get(\"plugin-flowchart-shape-document\"),\nsearchKeywords:i18n.get(\"plugin-flowchart-shape-document-keywords\"),defaultSize:{w:160,h:120},defaultText:i18n.get(\"plugin-flowchart-shape-document\"),onInit:function(c){lucid.plugin.addBlockTextArea(c,{id:\"Text\",value:i18n.get(\"plugin-flowchart-shape-document\"),getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){return{x:a.x+20,y:a.y,w:a.w-40,h:.9*a.h}}},{docVersionInstated:2,value:function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(c,\n\"InsetMargin\")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(a){return d(a,c)}}])});1<k()&&(lucid.plugin.registerProperty(c,\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(c,\"InsetMargin\",5))},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(d,function(c,a){var b=lucid.plugin.getProperty(a,\"InsetMargin\")||0,b=lucid.math.Box.safePad(c,b);return blockBB=lucid.math.Box.getInverseRelativeBox(b,0,0,1,5/6)}),getLinkPoints:function(){return[{x:.5,y:0},{x:.5,\ny:.915},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(c){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(c,a){var b=c.BoundingBox;return[{FillColor:c.FillColor,StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:\"move\",x:b.x,y:b.y},{Action:\"line\",x:b.x+b.w,y:b.y},{Action:\"line\",x:b.x+b.w,y:b.y+b.h},{Action:\"curve\",Control:[{x1:b.x+b.w-b.w/6,y1:b.y+b.h-b.h/6,x2:b.x+b.w-(b.w/3-b.w/16),y2:b.y+b.h-b.h/6,x3:b.x+b.w-b.w/3,y3:b.y+b.h-b.h/6},{x1:b.x+b.w-(b.w/3+b.w/10),y1:b.y+\nb.h-b.h/6,x2:b.x+b.w-(2*b.w/3-b.w/10),y2:b.y+b.h,x3:b.x+b.w-2*b.w/3,y3:b.y+b.h},{x1:b.x+b.w-(2*b.w/3+b.w/16),y1:b.y+b.h,x2:b.x+b.w-(b.w-b.w/6),y2:b.y+b.h-(b.h/6-b.h/6),x3:b.x+b.w-b.w,y3:b.y+b.h-b.h/6}]},{Action:\"close\"}]}]}})})();(function(){var d=function(c,a){var b=lucid.plugin.getProperty(a,\"InsetMargin\")||0,d=lucid.math.Box.getRelativeBox(c,.1,.15,.9,5/6*.85);return d=lucid.math.Box.safePad(d,-b)};lucid.plugin.initBlockClass({className:\"MultiDocumentBlock\",name:i18n.get(\"plugin-flowchart-shape-multidocument\"),\nsearchKeywords:i18n.get(\"plugin-flowchart-shape-multidocument-keywords\"),defaultSize:{w:160,h:120},defaultText:i18n.get(\"plugin-flowchart-shape-multidocument\"),onInit:function(c){lucid.plugin.addBlockTextArea(c,{id:\"Text\",value:i18n.get(\"plugin-flowchart-shape-multidocument\"),getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){return{x:a.x+.1*a.w+20,y:a.y+.1*a.h,w:.9*a.w-40,h:.8*a.h}}},{docVersionInstated:2,value:function(a){return{x:a.x,y:a.y,\nw:a.w,h:a.h,fitShape:lucid.plugin.getProperty(c,\"InsetMargin\")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(a){return d(a,c)}}])});1<k()&&(lucid.plugin.registerProperty(c,\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(c,\"InsetMargin\",5))},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(d,function(c,a){var b=lucid.plugin.getProperty(a,\"InsetMargin\")||0,b=lucid.math.Box.safePad(c,b);return blockBB=lucid.math.Box.getInverseRelativeBox(b,.1,.15,.9,5/6*\n.85)}),getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:.96},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(c){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(c,a){var b=c.BoundingBox,d=function(a,b,d,g){return{FillColor:c.FillColor,StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:\"move\",x:a,y:b},{Action:\"line\",x:a+d,y:b},{Action:\"line\",x:a+d,y:b+g},{Action:\"curve\",Control:[{x1:a+d-d/6,y1:b+g-g/6,x2:a+d-(d/3-d/16),y2:b+g-g/6,x3:a+d-d/3,y3:b+g-g/6},{x1:a+d-(d/\n3+d/10),y1:b+g-g/6,x2:a+d-(2*d/3-d/10),y2:b+g,x3:a+d-2*d/3,y3:b+g},{x1:a+d-(2*d/3+d/16),y1:b+g,x2:a+d-(d-d/6),y2:b+g-(g/6-g/6),x3:a+d-d,y3:b+g-g/6}]},{Action:\"close\"}]}};return[d(b.x,b.y,.9*b.w,.85*b.h),d(b.x+.05*b.w,b.y+.075*b.h,.9*b.w,.85*b.h),d(b.x+.1*b.w,b.y+.15*b.h,.9*b.w,.85*b.h)]}})})();(function(){var d=function(c,a){var b=lucid.plugin.getProperty(a,\"InsetMargin\")||0,d=lucid.math.Box.getRelativeBox(c,0,1/6,1,5/6);return d=lucid.math.Box.safePad(d,-b)};lucid.plugin.initBlockClass({className:\"ManualInputBlock\",\nname:i18n.get(\"plugin-flowchart-shape-manualinput\"),searchKeywords:i18n.get(\"plugin-flowchart-shape-manualinput-keywords\"),defaultSize:{w:160,h:120},defaultText:i18n.get(\"plugin-flowchart-shape-manualinput\"),onInit:function(c){lucid.plugin.addBlockTextArea(c,{id:\"Text\",value:i18n.get(\"plugin-flowchart-shape-manualinput\"),getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){return{x:a.x+20,y:a.y+.2*a.h,w:a.w-40,h:.8*a.h}}},{docVersionInstated:2,\nvalue:function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(c,\"InsetMargin\")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(a){return d(a,c)}}])});1<k()&&(lucid.plugin.registerProperty(c,\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(c,\"InsetMargin\",5))},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(d,function(c,a){var b=lucid.plugin.getProperty(a,\"InsetMargin\")||0,b=lucid.math.Box.safePad(c,b);return blockBB=lucid.math.Box.getInverseRelativeBox(b,\n0,1/6,1,5/6)}),getLinkPoints:function(){return[{x:.5,y:.1},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(c){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(c,a){var b=c.BoundingBox;return[{FillColor:c.FillColor,StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:\"move\",x:b.x,y:b.y+b.h/6},{Action:\"line\",x:b.x+b.w,y:b.y},{Action:\"line\",x:b.x+b.w,y:b.y+b.h},{Action:\"line\",x:b.x,y:b.y+b.h},{Action:\"close\"}]}]}})})();(function(){var d=function(c,a){var b=lucid.plugin.getProperty(a,\n\"InsetMargin\")||0;return lucid.math.Box.safePad(c,-b)};lucid.plugin.initBlockClass({className:\"PreparationBlock\",name:i18n.get(\"plugin-flowchart-shape-preparation\"),searchKeywords:i18n.get(\"plugin-flowchart-shape-preparation-keywords\"),defaultSize:{w:160,h:120},defaultText:i18n.get(\"plugin-flowchart-shape-preparation\"),onInit:function(c){lucid.plugin.addBlockTextArea(c,{id:\"Text\",value:i18n.get(\"plugin-flowchart-shape-preparation\"),getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,\nvalue:function(a){return{x:a.x+a.w/6,y:a.y+a.h/6,w:2*a.w/3,h:2*a.h/3}}},{docVersionInstated:2,value:function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(c,\"InsetMargin\")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(a){return d(a,c)}}])});1<k()&&(lucid.plugin.registerProperty(c,\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(c,\"InsetMargin\",5))},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(d,function(c,a){var b=lucid.plugin.getProperty(a,\n\"InsetMargin\")||0;return lucid.math.Box.safePad(c,b)}),getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(c){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(c,a){var b=c.BoundingBox,d=b.x+1*b.w/5,e=b.x+4*b.w/5,f=b.y+b.h/2;return[{FillColor:c.FillColor,StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:\"move\",x:d,y:b.y},{Action:\"line\",x:e,y:b.y},{Action:\"line\",x:b.x+b.w,y:f},{Action:\"line\",x:e,y:b.y+b.h},{Action:\"line\",\nx:d,y:b.y+b.h},{Action:\"line\",x:b.x,y:f},{Action:\"close\"}]}]}})})();(function(){var d=function(a,b){var c=lucid.plugin.getProperty(b,\"InsetMargin\")||0;return lucid.math.Box.safePad(a,-c)},c=Math.atan(32/120);lucid.plugin.initBlockClass({className:\"DataBlockNew\",name:i18n.get(\"plugin-flowchart-shape-data\"),searchKeywords:i18n.get(\"plugin-flowchart-shape-data-keywords\"),defaultSize:{w:160,h:120},defaultText:i18n.get(\"plugin-flowchart-shape-data-defaulttext\"),getLinkPoints:function(a){a=lucid.plugin.getProperty(a,\n\"BoundingBox\");a=a.h/a.w*Math.tan(c)/2;return[{x:.5,y:0},{x:.5,y:1},{x:a,y:.5},{x:1-a,y:.5}]},onInit:function(a){lucid.plugin.addBlockTextArea(a,{id:\"Text\",value:i18n.get(\"plugin-flowchart-shape-data-defaulttext\"),getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){return{x:a.x+.25*a.w,y:a.y,w:.5*a.w,h:a.h}}},{docVersionInstated:2,value:function(b){return{x:b.x,y:b.y,w:b.w,h:b.h,fitShape:lucid.plugin.getProperty(a,\"InsetMargin\")||0,hideOverflow:!0}}},\n{docVersionInstated:5,value:function(b){return d(b,a)}}])});1<k()&&(lucid.plugin.registerProperty(a,\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(a,\"InsetMargin\",5))},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(d,function(a,b){var c=lucid.plugin.getProperty(b,\"InsetMargin\")||0;return lucid.math.Box.safePad(a,c)}),getRenderDataKey:function(a){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(a,b){var d=a.BoundingBox,e=d.h*Math.tan(c);return[{FillColor:a.FillColor,\nStrokeColor:a.LineColor,LineWidth:a.LineWidth,Actions:[{Action:\"move\",x:d.x+e,y:d.y},{Action:\"line\",x:d.x+d.w,y:d.y},{Action:\"line\",x:d.x+d.w-e,y:d.y+d.h},{Action:\"line\",x:d.x,y:d.y+d.h},{Action:\"close\"}]}]},getOffsetProperties:function(a,b,d){lucid.plugin.getProperty(a,\"BoundingBox\");b=lucid.plugin.defaultOffsetProperties(a,b,d)[a].BoundingBox;var e=b.h*Math.tan(c)+10;b.w<e&&(e-=b.w,b.w+=e,0<d.x&&(b.x-=e));d={};d[a]={BoundingBox:b};return d}})})();lucid.plugin.initBlockClass({className:\"DataBlock\",\nname:i18n.get(\"plugin-flowchart-shape-data\"),searchKeywords:i18n.get(\"plugin-flowchart-shape-data-keywords\"),defaultSize:{w:160,h:120},defaultText:i18n.get(\"plugin-flowchart-shape-data\"),onInit:function(d){lucid.plugin.addBlockTextArea(d,{id:\"Text\",value:i18n.get(\"plugin-flowchart-shape-data\"),getBoundingBox:function(c){return z(c,function(a){return{x:a.x+.25*a.w,y:a.y,w:.5*a.w,h:a.h}},function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(d,\"InsetMargin\")||0,hideOverflow:!0}})}});\n1<k()&&(lucid.plugin.registerProperty(d,\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(d,\"InsetMargin\",5))},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:.1,y:.5},{x:.9,y:.5}]},getRenderDataKey:function(d){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(d,c){var a=d.BoundingBox;return[{FillColor:d.FillColor,StrokeColor:d.LineColor,LineWidth:d.LineWidth,Actions:[{Action:\"move\",x:a.x+a.w/5,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y},{Action:\"line\",x:a.x+a.w-a.w/5,y:a.y+a.h},\n{Action:\"line\",x:a.x,y:a.y+a.h},{Action:\"close\"}]}]}});(function(){var d=function(c,a){var b=lucid.plugin.getProperty(a,\"InsetMargin\")||0,d=lucid.math.Box.getRelativeBox(c,0,.2,1,.8);return d=lucid.math.Box.safePad(d,-b)};lucid.plugin.initBlockClass({className:\"DatabaseBlock\",name:i18n.get(\"plugin-flowchart-shape-database\"),searchKeywords:i18n.get(\"plugin-flowchart-shape-database-keywords\"),defaultSize:{w:120,h:120},defaultText:i18n.get(\"plugin-flowchart-shape-database\"),onInit:function(c){lucid.plugin.addBlockTextArea(c,\n{id:\"Text\",value:i18n.get(\"plugin-flowchart-shape-database\"),getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){return{x:a.x+10,y:a.y+.2*a.h,w:a.w-20,h:.7*a.h}}},{docVersionInstated:2,value:function(a){return{x:a.x,y:a.y+.2*a.h+(lucid.plugin.getProperty(c,\"InsetMargin\")||0),w:a.w,h:.8*a.h-(lucid.plugin.getProperty(c,\"InsetMargin\")||0),fitShape:lucid.plugin.getProperty(c,\"InsetMargin\")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(a){return d(a,\nc)}}])});1<k()&&(lucid.plugin.registerProperty(c,\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(c,\"InsetMargin\",5))},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(d,function(c,a){var b=lucid.plugin.getProperty(a,\"InsetMargin\")||0,b=lucid.math.Box.safePad(c,b);return blockBB=lucid.math.Box.getInverseRelativeBox(b,0,.2,1,.8)}),getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(c){return[\"FillColor\",\"LineColor\",\n\"LineWidth\"]},getRenderData:function(c,a){var b=c.BoundingBox;return[{FillColor:c.FillColor,StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:\"move\",x:b.x+b.w,y:b.y+.9*b.h},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(b.x,b.y+.8*b.h,b.w,.2*b.h,0,Math.PI)},{Action:\"line\",x:b.x,y:b.y+.1*b.h},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(b.x,b.y,b.w,.2*b.h,Math.PI,2*Math.PI)},{Action:\"close\"}]},{StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:\"move\",\nx:b.x+b.w,y:b.y+.1*b.h},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(b.x,b.y,b.w,.2*b.h,0,Math.PI)}]}]}})})();(function(){var d=function(c,a){var b=lucid.plugin.getProperty(a,\"InsetMargin\")||0,d=lucid.math.Box.getRelativeBox(c,0,0,.8,1);return d=lucid.math.Box.safePad(d,-b)};lucid.plugin.initBlockClass({className:\"DirectAccessStorageBlock\",name:i18n.get(\"plugin-flowchart-shape-directaccessstorage\"),searchKeywords:i18n.get(\"plugin-flowchart-shape-directaccessstorage-keywords\"),defaultSize:{w:160,\nh:120},defaultText:i18n.get(\"plugin-flowchart-shape-directaccessstorage-defaulttext\"),onInit:function(c){lucid.plugin.addBlockTextArea(c,{id:\"Text\",value:i18n.get(\"plugin-flowchart-shape-directaccessstorage-defaulttext\"),getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){return{x:a.x+.1*a.w,y:a.y,w:.6*a.w,h:a.h}}},{docVersionInstated:2,value:function(a){return{x:a.x,y:a.y,w:.8*a.w,h:a.h,fitShape:lucid.plugin.getProperty(c,\"InsetMargin\")||\n0,hideOverflow:!0}}},{docVersionInstated:5,value:function(a){return d(a,c)}}])});1<k()&&(lucid.plugin.registerProperty(c,\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(c,\"InsetMargin\",5))},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(d,function(c,a){var b=lucid.plugin.getProperty(a,\"InsetMargin\")||0,b=lucid.math.Box.safePad(c,b);return blockBB=lucid.math.Box.getInverseRelativeBox(b,0,0,.8,1)}),getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},\n{x:1,y:.5}]},getRenderDataKey:function(c){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(c,a){var b=c.BoundingBox;return[{FillColor:c.FillColor,StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:\"move\",x:b.x+.9*b.w,y:b.y},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(b.x+.8*b.w,b.y,.2*b.w,b.h,-.5*Math.PI,.5*Math.PI)},{Action:\"line\",x:b.x+.1*b.w,y:b.y+b.h},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(b.x,b.y,.2*b.w,b.h,.5*Math.PI,1.5*Math.PI)},\n{Action:\"close\"}]},{StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:\"move\",x:b.x+.9*b.w,y:b.y+b.h},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(b.x+.8*b.w,b.y,.2*b.w,b.h,.5*Math.PI,1.5*Math.PI)}]}]}})})();(function(){var d=function(c,a){var b={x:c.x+.1*c.w,y:c.y+.1*c.w,w:.9*c.w,h:c.h-.1*c.w},d=lucid.plugin.getProperty(a,\"InsetMargin\")||0;return b=lucid.math.Box.safePad(b,-d,{w:10,h:10})};lucid.plugin.initBlockClass({className:\"InternalStorageBlock\",name:i18n.get(\"plugin-flowchart-shape-internalstorage\"),\nsearchKeywords:[],defaultSize:{w:160,h:120},defaultText:i18n.get(\"plugin-flowchart-shape-internalstorage\"),onInit:function(c){lucid.plugin.addBlockTextArea(c,{id:\"Text\",value:i18n.get(\"plugin-flowchart-shape-internalstorage\"),getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){return{x:a.x+.1*a.w+20,y:a.y+.1*a.w,w:.9*a.w-40,h:a.h-.1*a.w}}},{docVersionInstated:2,value:function(a){return{x:a.x+a.w/10,y:a.y+a.w/10,w:a.w-a.w/10,h:a.h-a.w/10,fitShape:lucid.plugin.getProperty(c,\n\"InsetMargin\")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(a){return d(a,c)}}])});1<k()&&(lucid.plugin.registerProperty(c,\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(c,\"InsetMargin\",5))},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(d,function(c,a){var b=lucid.plugin.getProperty(a,\"InsetMargin\")||0;c=lucid.math.Box.safePad(c,b,{w:10,h:10});b=c.w/.9;return{x:c.x-.1*b,y:c.y-.1*b,w:b,h:c.h+.1*b}}),getLinkPoints:function(){return[{x:.5,y:0},{x:.5,\ny:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(c){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(c,a){var b=c.BoundingBox;return[{FillColor:c.FillColor,StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:\"move\",x:b.x,y:b.y},{Action:\"line\",x:b.x+b.w,y:b.y},{Action:\"line\",x:b.x+b.w,y:b.y+b.h},{Action:\"line\",x:b.x,y:b.y+b.h},{Action:\"close\"}]},{StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:\"move\",x:b.x+b.w/10,y:b.y},{Action:\"line\",x:b.x+b.w/10,\ny:b.y+b.h},{Action:\"move\",x:b.x,y:b.y+b.w/10},{Action:\"line\",x:b.x+b.w,y:b.y+b.w/10}]}]}})})();(function(){var d=function(c,a){var b=lucid.plugin.getProperty(a,\"InsetMargin\")||0;return lucid.math.Box.safePad(c,-b)};lucid.plugin.initBlockClass({className:\"PaperTapeBlock\",name:i18n.get(\"plugin-flowchart-shape-papertape\"),searchKeywords:i18n.get(\"plugin-flowchart-shape-papertape-keywords\"),defaultSize:{w:160,h:120},defaultText:i18n.get(\"plugin-flowchart-shape-papertape\"),onInit:function(c){lucid.plugin.addBlockTextArea(c,\n{id:\"Text\",value:i18n.get(\"plugin-flowchart-shape-papertape\"),getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){return{x:a.x+20,y:a.y,w:a.w-40,h:a.h}}},{docVersionInstated:2,value:function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(c,\"InsetMargin\")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(a){return d(a,c)}}])});1<k()&&(lucid.plugin.registerProperty(c,\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(c,\n\"InsetMargin\",5))},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(d,function(c,a){var b=lucid.plugin.getProperty(a,\"InsetMargin\")||0;return lucid.math.Box.safePad(c,b)}),getLinkPoints:function(){return[{x:.5,y:.085},{x:.5,y:.915},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(c){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(c,a){var b=c.BoundingBox;return[{FillColor:c.FillColor,StrokeColor:c.LineColor,LineWidth:c.LineWidth,NoRounding:!0,\nActions:[{Action:\"move\",x:b.x,y:b.y},{Action:\"curve\",Control:[{x1:b.x+b.w/6,y1:b.y+b.h/6,x2:b.x+b.w/3-b.w/16,y2:b.y+b.h/6,x3:b.x+b.w/3,y3:b.y+b.h/6},{x1:b.x+b.w/3+b.w/10,y1:b.y+b.h/6,x2:b.x+2*b.w/3-b.w/10,y2:b.y,x3:b.x+2*b.w/3,y3:b.y},{x1:b.x+2*b.w/3+b.w/16,y1:b.y,x2:b.x+b.w-b.w/6,y2:b.y+b.h/6-b.h/6,x3:b.x+b.w,y3:b.y+b.h/6}]},{Action:\"line\",x:b.x+b.w,y:b.y+b.h},{Action:\"curve\",Control:[{x1:b.x+b.w-b.w/6,y1:b.y+b.h-b.h/6,x2:b.x+b.w-(b.w/3-b.w/16),y2:b.y+b.h-b.h/6,x3:b.x+b.w-b.w/3,y3:b.y+b.h-b.h/6},\n{x1:b.x+b.w-(b.w/3+b.w/10),y1:b.y+b.h-b.h/6,x2:b.x+b.w-(2*b.w/3-b.w/10),y2:b.y+b.h,x3:b.x+b.w-2*b.w/3,y3:b.y+b.h},{x1:b.x+b.w-(2*b.w/3+b.w/16),y1:b.y+b.h,x2:b.x+b.w-(b.w-b.w/6),y2:b.y+b.h-(b.h/6-b.h/6),x3:b.x+b.w-b.w,y3:b.y+b.h-b.h/6}]},{Action:\"close\"}]}]}})})();(function(){var d=Math.atan(32/120),c=function(a,b){var c=lucid.plugin.getProperty(b,\"InsetMargin\")||0;return lucid.math.Box.safePad(a,-c)};lucid.plugin.initBlockClass({className:\"ManualOperationBlockNew\",name:i18n.get(\"plugin-flowchart-shape-manualoperation\"),\nsearchKeywords:i18n.get(\"plugin-flowchart-shape-manualoperation-keywords\"),defaultSize:{w:160,h:120},defaultText:i18n.get(\"plugin-flowchart-shape-manualoperation\"),onInit:function(a){lucid.plugin.addBlockTextArea(a,{id:\"Text\",value:i18n.get(\"plugin-flowchart-shape-manualoperation\"),getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){return{x:a.x+.25*a.w,y:a.y,w:.5*a.w,h:a.h}}},{docVersionInstated:2,value:function(b){return{x:b.x,y:b.y,w:b.w,\nh:b.h,fitShape:lucid.plugin.getProperty(a,\"InsetMargin\")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(b){return c(b,a)}}])});1<k()&&(lucid.plugin.registerProperty(a,\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(a,\"InsetMargin\",5))},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(c,function(a,b){var c=lucid.plugin.getProperty(b,\"InsetMargin\")||0;return lucid.math.Box.safePad(a,c)}),getLinkPoints:function(a){a=lucid.plugin.getProperty(a,\"BoundingBox\");\na=a.h/a.w*Math.tan(d)/2;return[{x:.5,y:0},{x:.5,y:1},{x:a,y:.5},{x:1-a,y:.5}]},getRenderDataKey:function(a){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(a,b){var c=a.BoundingBox,e=c.h*Math.tan(d);return[{FillColor:a.FillColor,StrokeColor:a.LineColor,LineWidth:a.LineWidth,Actions:[{Action:\"move\",x:c.x,y:c.y},{Action:\"line\",x:c.x+c.w,y:c.y},{Action:\"line\",x:c.x+c.w-e,y:c.y+c.h},{Action:\"line\",x:c.x+e,y:c.y+c.h},{Action:\"close\"}]}]},getOffsetProperties:function(a,b,c){lucid.plugin.getProperty(a,\n\"BoundingBox\");b=lucid.plugin.defaultOffsetProperties(a,b,c)[a].BoundingBox;var e=b.h*Math.tan(d);b.w<2*e&&(e=2*e-b.w,b.w+=e,0<c.x&&(b.x-=e));c={};c[a]={BoundingBox:b};return c}})})();lucid.plugin.initBlockClass({className:\"ManualOperationBlock\",name:i18n.get(\"plugin-flowchart-shape-manualoperation\"),searchKeywords:i18n.get(\"plugin-flowchart-shape-manualoperation-keywords\"),defaultSize:{w:160,h:120},onInit:function(d){lucid.plugin.addBlockTextArea(d,{id:\"Text\",value:i18n.get(\"plugin-flowchart-shape-manualoperation\"),\ngetBoundingBox:function(c){return z(c,function(a){return{x:a.x+.25*a.w,y:a.y,w:.5*a.w,h:a.h}},function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(d,\"InsetMargin\")||0,hideOverflow:!0}})}});1<k()&&(lucid.plugin.registerProperty(d,\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(d,\"InsetMargin\",5))},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:.1,y:.5},{x:.9,y:.5}]},getRenderDataKey:function(d){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(d,\nc){var a=d.BoundingBox;return[{FillColor:d.FillColor,StrokeColor:d.LineColor,LineWidth:d.LineWidth,Actions:[{Action:\"move\",x:a.x,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y},{Action:\"line\",x:a.x+.8*a.w,y:a.y+a.h},{Action:\"line\",x:a.x+.2*a.w,y:a.y+a.h},{Action:\"close\"}]}]}});(function(){var d=function(c,a){var b=lucid.plugin.getProperty(a,\"InsetMargin\")||0;return lucid.math.Box.safePad(c,-b)};lucid.plugin.initBlockClass({className:\"DelayBlock\",name:i18n.get(\"plugin-flowchart-shape-delay\"),searchKeywords:i18n.get(\"plugin-flowchart-shape-delay-keywords\"),\ndefaultSize:{w:120,h:120},defaultText:i18n.get(\"plugin-flowchart-shape-delay\"),onInit:function(c){lucid.plugin.addBlockTextArea(c,{id:\"Text\",value:i18n.get(\"plugin-flowchart-shape-delay\"),getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){return{x:a.x+10,y:a.y,w:a.w-.5*(a.h>2*a.w?a.w:.5*a.h),h:a.h}}},{docVersionInstated:2,value:function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(c,\"InsetMargin\")||0,hideOverflow:!0}}},\n{docVersionInstated:5,value:function(a){return d(a,c)}}])});1<k()&&(lucid.plugin.registerProperty(c,\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(c,\"InsetMargin\",5))},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(d,function(c,a){var b=lucid.plugin.getProperty(a,\"InsetMargin\")||0;return lucid.math.Box.safePad(c,b)}),getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(c){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},\ngetRenderData:function(c,a){var b=c.BoundingBox,d=b.h>2*b.w?b.w:.5*b.h;return[{FillColor:c.FillColor,StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:\"move\",x:b.x,y:b.y},{Action:\"line\",x:b.x+b.w-d,y:b.y},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(b.x+b.w-2*d,b.y,2*d,b.h,-.5*Math.PI,.5*Math.PI)},{Action:\"line\",x:b.x,y:b.y+b.h},{Action:\"close\"}]}]}})})();(function(){var d=function(c,a){var b=lucid.plugin.getProperty(a,\"InsetMargin\")||0;return lucid.math.Box.safePad(c,-b)};\nlucid.plugin.initBlockClass({className:\"StoredDataBlock\",name:i18n.get(\"plugin-flowchart-shape-storeddata\"),searchKeywords:[],defaultSize:{w:160,h:120},defaultText:i18n.get(\"plugin-flowchart-shape-storeddata\"),onInit:function(c){lucid.plugin.addBlockTextArea(c,{id:\"Text\",value:i18n.get(\"plugin-flowchart-shape-storeddata\"),getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){return{x:a.x+.1*a.w,y:a.y,w:.7*a.w,h:a.h}}},{docVersionInstated:2,value:function(a){return{x:a.x,\ny:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(c,\"InsetMargin\")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(a){return d(a,c)}}])});1<k()&&(lucid.plugin.registerProperty(c,\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(c,\"InsetMargin\",5))},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(d,function(c,a){var b=lucid.plugin.getProperty(a,\"InsetMargin\")||0;return lucid.math.Box.safePad(c,b)}),getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},\n{x:0,y:.5},{x:.9,y:.5}]},getRenderDataKey:function(c){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(c,a){var b=c.BoundingBox;return[{FillColor:c.FillColor,StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:\"move\",x:b.x+b.w,y:b.y},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(b.x+.9*b.w,b.y,.2*b.w,b.h,1.5*Math.PI,.5*Math.PI)},{Action:\"line\",x:b.x+.1*b.w,y:b.y+b.h},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(b.x,b.y,.2*b.w,b.h,.5*Math.PI,\n1.5*Math.PI)},{Action:\"close\"}]}]}})})();(function(){var d=function(c,a){var b=lucid.plugin.getProperty(a,\"InsetMargin\")||0;return lucid.math.Box.safePad(c,-b)};lucid.plugin.initBlockClass({className:\"MergeBlock\",name:i18n.get(\"plugin-flowchart-shape-merge\"),searchKeywords:i18n.get(\"plugin-flowchart-shape-merge-keywords\"),defaultSize:{w:160,h:120},defaultText:i18n.get(\"plugin-flowchart-shape-merge\"),onInit:function(c){lucid.plugin.addBlockTextArea(c,{id:\"Text\",value:i18n.get(\"plugin-flowchart-shape-merge\"),\ngetBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){return{x:a.x+.2*a.w,y:a.y,w:.6*a.w,h:.6*a.h}}},{docVersionInstated:2,value:function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(c,\"InsetMargin\")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(a){return d(a,c)}}])});1<k()&&(lucid.plugin.registerProperty(c,\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(c,\"InsetMargin\",5))},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(d,\nfunction(c,a){var b=lucid.plugin.getProperty(a,\"InsetMargin\")||0;return lucid.math.Box.safePad(c,b)}),getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:.25,y:.5},{x:.75,y:.5}]},getRenderDataKey:function(c){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(c,a){var b=c.BoundingBox;return[{FillColor:c.FillColor,StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:\"move\",x:b.x,y:b.y},{Action:\"line\",x:b.x+b.w,y:b.y},{Action:\"line\",x:b.x+b.w/2,y:b.y+b.h},{Action:\"close\"}]}]}})})();\n(function(){var d=function(c,a){var b=lucid.plugin.getProperty(a,\"InsetMargin\")||0;return lucid.math.Box.safePad(c,-b)};lucid.plugin.initBlockClass({className:\"ConnectorBlock\",name:i18n.get(\"plugin-flowchart-shape-connector\"),searchKeywords:i18n.get(\"plugin-flowchart-shape-connector-keywords\"),defaultSize:{w:80,h:80},defaultText:i18n.get(\"plugin-flowchart-shape-connector-defaulttext\"),onInit:function(c){lucid.plugin.addBlockTextArea(c,{id:\"Text\",value:i18n.get(\"plugin-flowchart-shape-connector-defaulttext\"),\ngetBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){return{x:a.x+20,y:a.y,w:a.w-40,h:a.h}}},{docVersionInstated:2,value:function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(c,\"InsetMargin\")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(a){return d(a,c)}}])});1<k()&&(lucid.plugin.registerProperty(c,\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(c,\"InsetMargin\",5))},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(d,\nfunction(c,a){var b=lucid.plugin.getProperty(a,\"InsetMargin\")||0;return lucid.math.Box.safePad(c,b)}),getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(c){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(c,a){var b=c.BoundingBox;return[{FillColor:c.FillColor,StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:\"move\",x:b.x+b.w,y:b.y+b.h/2},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(b.x,b.y,b.w,b.h,0,\n2*Math.PI)},{Action:\"close\"}]}]}})})();lucid.plugin.initBlockClass({className:\"OrBlock\",name:i18n.get(\"plugin-flowchart-shape-or\"),searchKeywords:i18n.get(\"plugin-flowchart-shape-or-keywords\"),defaultSize:{w:80,h:80},onInit:function(d){},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(d){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(d,c){var a=d.BoundingBox;return[{FillColor:d.FillColor,StrokeColor:d.LineColor,LineWidth:d.LineWidth,\nActions:[{Action:\"move\",x:a.x+a.w,y:a.y+a.h/2},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x,a.y,a.w,a.h,0,2*Math.PI)},{Action:\"close\"}]},{FillColor:null,StrokeColor:d.LineColor,LineWidth:d.LineWidth,Actions:[{Action:\"move\",x:a.x,y:a.y+a.h/2},{Action:\"line\",x:a.x+a.w,y:a.y+a.h/2},{Action:\"move\",x:a.x+a.w/2,y:a.y},{Action:\"line\",x:a.x+a.w/2,y:a.y+a.h}]}]}});lucid.plugin.initBlockClass({className:\"SummingJunctionBlock\",name:i18n.get(\"plugin-flowchart-shape-summingjunction\"),searchKeywords:i18n.get(\"plugin-flowchart-shape-summingjunction-keywords\"),\ndefaultSize:{w:80,h:80},onInit:function(d){},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(d){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(d,c){var a=d.BoundingBox;return[{FillColor:d.FillColor,StrokeColor:d.LineColor,LineWidth:d.LineWidth,Actions:[{Action:\"move\",x:a.x+a.w,y:a.y+a.h/2},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x,a.y,a.w,a.h,0,2*Math.PI)},{Action:\"close\"}]},{FillColor:null,StrokeColor:d.LineColor,\nLineWidth:d.LineWidth,Actions:[{Action:\"move\",x:a.x+.1464*a.w,y:a.y+.1464*a.h},{Action:\"line\",x:a.x+.8536*a.w,y:a.y+.8536*a.h},{Action:\"move\",x:a.x+.8536*a.w,y:a.y+.1464*a.h},{Action:\"line\",x:a.x+.1464*a.w,y:a.y+.8536*a.h}]}]}});(function(){var d=function(c,a){var b=lucid.plugin.getProperty(a,\"InsetMargin\")||0;return lucid.math.Box.safePad(c,-b)};lucid.plugin.initBlockClass({className:\"DisplayBlock\",name:i18n.get(\"plugin-flowchart-shape-display\"),searchKeywords:i18n.get(\"plugin-flowchart-shape-display-keywords\"),\ndefaultSize:{w:160,h:120},defaultText:i18n.get(\"plugin-flowchart-shape-display\"),onInit:function(c){lucid.plugin.addBlockTextArea(c,{id:\"Text\",value:i18n.get(\"plugin-flowchart-shape-display\"),getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){return{x:a.x+.25*a.w,y:a.y+.25*a.h,w:.6*a.w,h:.5*a.h}}},{docVersionInstated:2,value:function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(c,\"InsetMargin\")||0,hideOverflow:!0}}},\n{docVersionInstated:5,value:function(a){return d(a,c)}}])});1<k()&&(lucid.plugin.registerProperty(c,\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(c,\"InsetMargin\",5))},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(d,function(c,a){var b=lucid.plugin.getProperty(a,\"InsetMargin\")||0;return lucid.math.Box.safePad(c,b)}),getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(c){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},\ngetRenderData:function(c,a){var b=c.BoundingBox,d=b.x+1*b.w/5,e=b.y+b.h/2;return[{FillColor:c.FillColor,StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:\"move\",x:d,y:b.y},{Action:\"line\",x:b.x+.9*b.w,y:b.y},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(b.x+.8*b.w,b.y,.2*b.w,b.h,3*Math.PI/2,5*Math.PI/2)},{Action:\"line\",x:d,y:b.y+b.h},{Action:\"line\",x:b.x,y:e},{Action:\"close\"}]}]}})})();(function(){var d=function(c,a){var b=lucid.plugin.getProperty(a,\"InsetMargin\")||0;return lucid.math.Box.safePad(c,\n-b)};lucid.plugin.initBlockClass({className:\"OffPageLinkBlock\",name:i18n.get(\"plugin-flowchart-shape-offpagelink\"),searchKeywords:i18n.get(\"plugin-flowchart-shape-offpagelink-keywords\"),defaultSize:{w:120,h:120},defaultText:i18n.get(\"plugin-flowchart-shape-offpagelink\"),onInit:function(c){lucid.plugin.addBlockTextArea(c,{id:\"Text\",value:i18n.get(\"plugin-flowchart-shape-offpagelink\"),getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){return{x:a.x+\n10,y:a.y,w:a.w-20,h:.8*a.h}}},{docVersionInstated:2,value:function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(c,\"InsetMargin\")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(a){return d(a,c)}}])});1<k()&&(lucid.plugin.registerProperty(c,\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(c,\"InsetMargin\",5))},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(d,function(c,a){var b=lucid.plugin.getProperty(a,\"InsetMargin\")||0;return lucid.math.Box.safePad(c,\nb)}),getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},onCreate:function(c){lucid.plugin.selectBlockLink(c)},getRenderDataKey:function(c){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(c,a){var b=c.BoundingBox;return[{FillColor:c.FillColor,StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:\"move\",x:b.x,y:b.y},{Action:\"line\",x:b.x+b.w,y:b.y},{Action:\"line\",x:b.x+b.w,y:b.y+.6*b.h},{Action:\"line\",x:b.x+b.w/2,y:b.y+b.h},{Action:\"line\",x:b.x,\ny:b.y+.6*b.h},{Action:\"close\"}]}]}})})();(function(){var d=function(c,a){var b=lucid.plugin.getProperty(a,\"InsetMargin\")||0,d=lucid.math.Box.getRelativeBox(c,.0625,0,.9375,1);return d=lucid.math.Box.safePad(d,-b)};lucid.plugin.initBlockClass({className:\"NoteBlock\",name:i18n.get(\"plugin-flowchart-shape-note\"),searchKeywords:[],defaultSize:{w:160,h:120},onInit:function(c){lucid.plugin.addBlockTextArea(c,{id:\"Text\",value:i18n.get(\"plugin-flowchart-shape-note\"),getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,\nvalue:function(a){return{x:a.x+10,y:a.y,w:a.w-10,h:a.h,fitShape:lucid.plugin.getProperty(c,\"InsetMargin\")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(a){return d(a,c)}}]),wantReturn:!0,align:\"left\"});lucid.plugin.registerProperty(c,\"TextWrap\",\"fit\");lucid.plugin.registerProperty(c,\"InsetMargin\",5)},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(d,function(c,a){var b=lucid.plugin.getProperty(a,\"InsetMargin\")||0,b=lucid.math.Box.safePad(c,b);return blockBB=\nlucid.math.Box.getInverseRelativeBox(b,.0625,0,.9375,1)}),getLinkPoints:function(){return[{x:0,y:.5}]},getRenderDataKey:function(c){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(c,a){var b=c.BoundingBox;return[{FillColor:c.FillColor,Actions:[{Action:\"move\",x:b.x,y:b.y},{Action:\"line\",x:b.x+b.w,y:b.y},{Action:\"line\",x:b.x+b.w,y:b.y+b.h},{Action:\"line\",x:b.x,y:b.y+b.h},{Action:\"close\"}]},{StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:\"move\",x:b.x+b.w/10,y:b.y},\n{Action:\"line\",x:b.x,y:b.y},{Action:\"line\",x:b.x,y:b.y+b.h},{Action:\"line\",x:b.x+b.w/10,y:b.y+b.h}]}]}})})();lucid.plugin.initBlockClass({className:\"TextBlock\",name:i18n.get(\"plugin-flowchart-shape-text\"),searchKeywords:[],defaultSize:{w:160,h:120},onInit:function(d){lucid.plugin.addBlockTextArea(d,{id:\"Text\",value:i18n.get(\"plugin-flowchart-shape-text\"),getBoundingBox:function(c){return{x:c.x+20,y:c.y,w:c.w-40,h:c.h}},wantReturn:!0})},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},\n{x:1,y:.5}]},getRenderDataKey:function(d){return[\"FillColor\"]},getRenderData:function(d,c){var a=d.BoundingBox;return[{FillColor:d.FillColor,Actions:[{Action:\"move\",x:a.x,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y+a.h},{Action:\"line\",x:a.x,y:a.y+a.h},{Action:\"close\"}]}]}});var B=\"ProcessBlock DecisionBlock TerminatorBlock PredefinedProcessBlock DocumentBlock MultiDocumentBlock ManualInputBlock PreparationBlock DataBlockNew DatabaseBlock DirectAccessStorageBlock InternalStorageBlock PaperTapeBlock ManualOperationBlockNew DelayBlock StoredDataBlock MergeBlock ConnectorBlock OrBlock SummingJunctionBlock DisplayBlock OffPageLinkBlock\".split(\" \");\nlucid.plugin.createNextBlockGroup(B);lucid.plugin.createExchangeGroup(B);lucid.plugin.initBlockClass({className:\"SwimLaneBlock\",name:i18n.get(\"plugin-flowchart-shape-swimlane\"),defaultSize:{w:320,h:320},container:!0,onInit:function(d){lucid.plugin.addBlockTextArea(d,{id:\"Text\",value:i18n.get(\"plugin-flowchart-shape-swimlane\"),getBoundingBox:function(c){return{x:c.x+20,y:c.y,w:c.w-40,h:40}}})},getLinkPoints:function(){return[{x:.5,y:0}]},getRenderDataKey:function(d){return[\"FillColor\",\"LineColor\",\n\"LineWidth\"]},getRenderData:function(d,c){var a=d.BoundingBox,b=40;40>a.h&&(b=a.h/3);return[{FillColor:d.FillColor,StrokeColor:d.LineColor,LineWidth:d.LineWidth,Actions:[{Action:\"move\",x:a.x,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y+b},{Action:\"line\",x:a.x,y:a.y+b},{Action:\"close\"}]},{StrokeColor:d.LineColor,LineWidth:d.LineWidth,Actions:[{Action:\"move\",x:a.x,y:a.y+a.h},{Action:\"line\",x:a.x,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y+a.h}]}]}});\nlucid.plugin.initBlockClass(A());lucid.plugin.initBlockClass(A(!0));lucid.plugin.addContextMenuItems(function(){var d=function(a,b,c){if(!a||1!=a.length)return!1;void 0===c&&(c=1);var d=lucid.plugin.getBlockClassName(a[0]),e=lucid.plugin.getProperty(a[0],\"Lanes\");return d&&-1<d.toLowerCase().indexOf(\"swimlaneblock\")&&e&&e.length>=c&&(b?!lucid.plugin.getProperty(a[0],\"Vertical\"):!!lucid.plugin.getProperty(a[0],\"Vertical\"))},c=function(a,b){var c=b.Lanes,d=b.BoundingBox,e=b.Rotation,f=d.w,g=d.x;if(e)for(a=\nlucid.math.Point.rotate(a,lucid.math.Box.center(d),-e),e=c.length-1;0<=e;e--){d=f*c[e].p;if(a.x>g&&a.x<g+d)break;g+=d}else for(e=0;e<c.length;e++){d=f*c[e].p;if(a.x>g&&a.x<g+d)break;g+=d}return e},a=function(a,b,c){for(var d=b.BoundingBox,e={x:d.x,y:d.y,w:d.w*b.Lanes[a].p,h:d.h},f=0;f<a;f++)e.x+=d.w*b.Lanes[f].p;c&&(e.w=d.w-(e.x-d.x));return e},b=function(b,c,d,e){var f=d.Lanes,g=d.BoundingBox,n=[],k=lucid.math.Box.rotate(g,d.Rotation||0),r={x:k.x+k.w/2,y:k.y+k.h/2};if(b>f.length)return n;var t=a(b,\nd,e);d.Vertical||(t.x+=2*(g.x+g.w/2-(t.x+t.w/2)));lucid.array.forEach(c,function(a){var b=lucid.plugin.getProperty(a,\"BoundingBox\");if(b){var c=lucid.plugin.getProperty(a,\"Rotation\")||0,b=lucid.math.Box.rotate(b,c);d.Vertical||(b=lucid.math.Box.rotate(b,Math.PI/2,r));lucid.math.Box.within(b,t)&&n.push(a)}});return n},g=function(a,b,c,d){for(a=0;a<c.length;a++){var e=lucid.plugin.getProperty(c[a],\"BoundingBox\");e&&(d.Vertical?e.x+=b:e.y+=b,lucid.plugin.setProperty(c[a],\"BoundingBox\",e))}},e=function(c,\nd,e,f){var l=f.Lanes;if(d>e){var k=d;d=e;e=k}var n=lucid.plugin.getContained(c),k=b(d,n,f),n=b(e,n,f),r=a(d,f),y=a(e,f);g(c,y.w,k,f);g(c,-r.w,n,f);d<l.length&&e<l.length&&(k=l[d],l[d]=l[e],l[e]=k);lucid.plugin.setProperty(c,\"Lanes\",l)},f=function(a,b,d){if(1==b.length&&b[0]){var f=lucid.plugin.getAllProperties(b[0]),g=f.Lanes.length-1;f.Vertical?(a=c(a,f),\"r\"===d&&a<g?e(b[0],a,a+1,f):\"l\"===d&&0<a&&e(b[0],a,a-1,f)):(a=c(a,f),\"u\"===d&&0<a?e(b[0],a,a-1,f):\"d\"===d&&a<g&&e(b[0],a,a+1,f))}};return[{external:!0,\nlabel:i18n.get(\"plugin-flowchart-shape-swimlane-insertbefore\"),logAction:\"chart.viewport.context.swimlane.insertLaneBefore\",action:function(a,b){if(1==b.length&&b[0]){var d=lucid.plugin.getAllProperties(b[0]);50>d.Lanes.length&&(d=c(a,d),plugin.common.Swimlane.updateLanes(\"add\",b[0],d,!0,!1))}},visible:function(a){return(d(a,!1,1)||d(a,!0,1))&&50>lucid.plugin.getProperty(a[0],\"Lanes\").length}},{external:!0,label:i18n.get(\"plugin-flowchart-shape-swimlane-insertafter\"),logAction:\"chart.viewport.context.swimlane.insertLaneAfter\",\naction:function(a,b){if(1==b.length&&b[0]){var d=lucid.plugin.getAllProperties(b[0]);50>d.Lanes.length&&(d=c(a,d),plugin.common.Swimlane.updateLanes(\"add\",b[0],d,!1,!1))}},visible:function(a){return(d(a,!1,1)||d(a,!0,1))&&50>lucid.plugin.getProperty(a[0],\"Lanes\").length}},{external:!0,label:i18n.get(\"plugin-flowchart-shape-swimlane-moveleft\"),logAction:\"chart.viewport.context.swimlane.moveLaneLeft\",action:function(a,b){f(a,b,\"l\")},visible:function(a){return d(a,!1,2)}},{external:!0,label:i18n.get(\"plugin-flowchart-shape-swimlane-moveright\"),\nlogAction:\"chart.viewport.context.swimlane.moveLaneRight\",action:function(a,b){f(a,b,\"r\")},visible:function(a){return d(a,!1,2)}},{external:!0,label:i18n.get(\"plugin-flowchart-shape-swimlane-moveup\"),logAction:\"chart.viewport.context.swimlane.moveLaneUp\",action:function(a,b){f(a,b,\"u\")},visible:function(a){return d(a,!0,2)}},{external:!0,label:i18n.get(\"plugin-flowchart-shape-swimlane-movedown\"),logAction:\"chart.viewport.context.swimlane.moveLaneDown\",action:function(a,b){f(a,b,\"d\")},visible:function(a){return d(a,\n!0,2)}},{external:!0,label:i18n.get(\"plugin-flowchart-shape-swimlane-remove\"),logAction:\"chart.viewport.context.swimlane.removeLane\",action:function(d,e){if(1==e.length&&e[0]){var f=lucid.plugin.getAllProperties(e[0]);if(1<f.Lanes.length){for(var k=c(d,f),l=f.Lanes,q=a(k,f),n=[],r=f.BoundingBox.w*(1-l[k].p),y=lucid.plugin.getContained(e[0]),t=b(k,y,f),v=0;v<t.length;v++)lucid.plugin.deleteItem(t[v]);k+1<l.length&&(y=b(k+1,y,f,!0),g(e[0],-q.w,y,f));for(v=0;v<l.length;v++)v!=k&&(l[v].p=f.BoundingBox.w*\nl[v].p/r,n.push(l[v]));lucid.plugin.setProperty(e[0],\"Lanes\",n);f.Vertical||(f.BoundingBox.x+=(f.BoundingBox.w-r)/2,f.BoundingBox.y-=(f.BoundingBox.w-r)/2);f.BoundingBox.w=r;lucid.plugin.setProperty(e[0],\"Lane_\"+l[k].tid,i18n.get(\"plugin-flowchart-shape-swimlane\"));lucid.plugin.setProperty(e[0],\"BoundingBox\",f.BoundingBox)}}},visible:function(a){if(1!=a.length||!a[0])return!1;var b=lucid.plugin.getBlockClassName(a[0]);a=lucid.plugin.getProperty(a[0],\"Lanes\");return b&&-1<b.toLowerCase().indexOf(\"swimlaneblock\")&&\na&&1<a.length}}]}());lucid.plugin.initBlockClass({className:\"RectangleContainerBlock\",name:i18n.get(\"plugin-flowchart-shape-rectcontainer\"),defaultSize:{w:320,h:240},container:!0,disabledPropertyControls:[\"FlipX\",\"FlipY\"],rLock:!0,onInit:function(d){},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},searchKeywords:[],getRenderDataKey:function(d){return[\"Fill\",\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(d,c){var a=d.BoundingBox;return[{FillColor:d.Fill?\nd.FillColor:null,StrokeColor:d.LineColor,LineWidth:d.LineWidth,Actions:[{Action:\"move\",x:a.x,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y+a.h},{Action:\"line\",x:a.x,y:a.y+a.h},{Action:\"close\"}]}]}});lucid.plugin.initBlockClass({className:\"DiamondContainerBlock\",name:i18n.get(\"plugin-flowchart-shape-diamondcontainer\"),defaultSize:{w:320,h:240},container:!0,disabledPropertyControls:[\"FlipX\",\"FlipY\"],rLock:!0,onInit:function(d){},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,\ny:1},{x:0,y:.5},{x:1,y:.5}]},searchKeywords:[],getRenderDataKey:function(d){return[\"Fill\",\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(d,c){var a=d.BoundingBox,b=a.x+a.w/2,g=a.y+a.h/2;return[{FillColor:d.Fill?d.FillColor:null,StrokeColor:d.LineColor,LineWidth:d.LineWidth,Actions:[{Action:\"move\",x:b,y:a.y},{Action:\"line\",x:a.x+a.w,y:g},{Action:\"line\",x:b,y:a.y+a.h},{Action:\"line\",x:a.x,y:g},{Action:\"close\"}]}]}});lucid.plugin.initBlockClass({className:\"RoundedRectangleContainerBlock\",\nname:i18n.get(\"plugin-flowchart-shape-roundedrectcontainer\"),container:!0,disabledPropertyControls:[\"FlipX\",\"FlipY\"],rLock:!0,defaultSize:{w:320,h:240},onInit:function(d){lucid.plugin.registerProperty(d,\"RoundCorners\",30)},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},searchKeywords:[],getRenderDataKey:function(d){return[\"Fill\",\"FillColor\",\"LineColor\",\"LineWidth\",\"RoundCorners\"]},getRenderData:function(d,c){var a=d.BoundingBox,b=\"sample\"==c?a.h/4:d.RoundCorners,b=Math.min(b,\na.w/2,a.h/2);return[{FillColor:d.Fill?d.FillColor:null,StrokeColor:d.LineColor,LineWidth:d.LineWidth,Actions:[{Action:\"move\",x:a.x+a.w-b,y:a.y},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x+a.w-2*b,a.y,2*b,2*b,-Math.PI/2,0)},{Action:\"line\",x:a.x+a.w,y:a.y+a.h-b},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x+a.w-2*b,a.y+a.h-2*b,2*b,2*b,0,Math.PI/2)},{Action:\"line\",x:a.x+b,y:a.y+a.h},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x,a.y+a.h-2*b,2*b,2*b,\nMath.PI/2,Math.PI)},{Action:\"line\",x:a.x,y:a.y+b},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x,a.y,2*b,2*b,Math.PI,3*Math.PI/2)},{Action:\"close\"}]}]}});lucid.plugin.initBlockClass({className:\"CircleContainerBlock\",name:i18n.get(\"plugin-flowchart-shape-circlecontainer\"),container:!0,disabledPropertyControls:[\"FlipX\",\"FlipY\"],rLock:!0,defaultSize:{w:320,h:240},onInit:function(d){},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},searchKeywords:[],getRenderDataKey:function(d){return[\"Fill\",\n\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(d,c){var a=d.BoundingBox;return[{FillColor:d.Fill?d.FillColor:null,StrokeColor:d.LineColor,LineWidth:d.LineWidth,Actions:[{Action:\"move\",x:a.x+a.w,y:a.y+a.h/2},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x,a.y,a.w,a.h,0,2*Math.PI)},{Action:\"close\"}]}]}});lucid.plugin.initBlockClass({className:\"PillContainerBlock\",name:i18n.get(\"plugin-flowchart-shape-pillcontainer\"),container:!0,disabledPropertyControls:[\"FlipX\",\"FlipY\"],\nrLock:!0,defaultSize:{w:320,h:240},onInit:function(d){},searchKeywords:i18n.get(\"plugin-flowchart-shape-pillcontainer-keywords\"),getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(d){return[\"Fill\",\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(d,c){var a=d.BoundingBox;return[{FillColor:d.Fill?d.FillColor:null,StrokeColor:d.LineColor,LineWidth:d.LineWidth,Actions:[{Action:\"move\",x:a.x+.8*a.w,y:a.y},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x+\n.6*a.w,a.y,.4*a.w,a.h,-.5*Math.PI,.5*Math.PI)},{Action:\"line\",x:a.x+.2*a.w,y:a.y+a.h},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x,a.y,.4*a.w,a.h,.5*Math.PI,1.5*Math.PI)},{Action:\"close\"}]}]}});lucid.plugin.initBlockClass({className:\"BraceBlock\",name:i18n.get(\"plugin-flowchart-shape-doublebrace\"),defaultSize:{w:320,h:320},container:!0,disabledPropertyControls:[\"FlipX\",\"FlipY\"],rLock:!1,onInit:function(d){lucid.plugin.registerProperty(d,\"Spread\",.0625)},variants:{BraceBlockRotated:{defaultProperties:function(){return{Rotation:-Math.PI/\n2}}}},searchKeywords:i18n.get(\"plugin-flowchart-shape-doublebrace-keywords\"),getLinkPoints:function(){return[{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(d){return[\"FillColor\",\"LineColor\",\"LineWidth\",\"Spread\"]},getRenderData:function(d,c){var a=d.BoundingBox,b=d.Spread*(a.h>a.w?a.w:a.h);return[{StrokeColor:d.LineColor,LineWidth:d.LineWidth,Actions:[{Action:\"move\",x:a.x+2*b,y:a.y},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x+b,a.y,2*b,2*b,1.5*Math.PI,Math.PI)},{Action:\"line\",\nx:a.x+b,y:a.y+a.h/2-b},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x-b,a.y+a.h/2-2*b,2*b,2*b,0,.5*Math.PI)},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x-b,a.y+a.h/2,2*b,2*b,1.5*Math.PI,2*Math.PI)},{Action:\"line\",x:a.x+b,y:a.y+a.h-b},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x+b,a.y+a.h-2*b,2*b,2*b,Math.PI,.5*Math.PI)},{Action:\"move\",x:a.x+a.w-2*b,y:a.y+a.h},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x+a.w-3*b,a.y+a.h-2*b,2*b,\n2*b,.5*Math.PI,0)},{Action:\"line\",x:a.x+a.w-b,y:a.y+a.h/2+b},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x+a.w-b,a.y+a.h/2,2*b,2*b,Math.PI,1.5*Math.PI)},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x+a.w-b,a.y+a.h/2-2*b,2*b,2*b,.5*Math.PI,Math.PI)},{Action:\"line\",x:a.x+a.w-b,y:a.y+b},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x+a.w-3*b,a.y,2*b,2*b,2*Math.PI,1.5*Math.PI)}]}]}});lucid.plugin.initBlockClass({className:\"BraceBlockRotated\",name:i18n.get(\"plugin-flowchart-shape-doublebrace\"),\ndefaultSize:{w:320,h:320},container:!0,disabledPropertyControls:[\"FlipX\",\"FlipY\"],rLock:!0,onInit:function(d){lucid.plugin.registerProperty(d,\"Spread\",.0625)},searchKeywords:i18n.get(\"plugin-flowchart-shape-doublebrace-keywords\"),getLinkPoints:function(){return[{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(d){return[\"FillColor\",\"LineColor\",\"LineWidth\",\"Spread\"]},getRenderData:function(d,c){var a=d.BoundingBox,b=d.Spread*(a.h>a.w?a.w:a.h);return[{StrokeColor:d.LineColor,LineWidth:d.LineWidth,Actions:[{Action:\"move\",\nx:a.x,y:a.y+2*b},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x,a.y+b,2*b,2*b,1*Math.PI,1.5*Math.PI)},{Action:\"line\",x:a.x+a.w/2-b,y:a.y+b},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x+a.w/2-2*b,a.y-b,2*b,2*b,.5*Math.PI,0*Math.PI)},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x+a.w/2,a.y-b,2*b,2*b,1*Math.PI,.5*Math.PI)},{Action:\"line\",x:a.x+a.w-b,y:a.y+b},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x+a.w-2*b,a.y+b,2*b,2*b,1.5*Math.PI,\n2*Math.PI)},{Action:\"move\",x:a.x+a.w,y:a.y+a.h-2*b},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x+a.w-2*b,a.y+a.h-3*b,2*b,2*b,0*Math.PI,.5*Math.PI)},{Action:\"line\",x:a.x+a.w/2+b,y:a.y+a.h-b},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x+a.w/2,a.y+a.h-b,2*b,2*b,1.5*Math.PI,1*Math.PI)},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x+a.w/2-2*b,a.y+a.h-b,2*b,2*b,2*Math.PI,1.5*Math.PI)},{Action:\"line\",x:a.x+b,y:a.y+a.h-b},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x,\na.y+a.h-3*b,2*b,2*b,.5*Math.PI,1*Math.PI)}]}]}});lucid.plugin.initBlockClass({className:\"BracketBlock\",name:i18n.get(\"plugin-flowchart-shape-doublebracket\"),defaultSize:{w:320,h:320},container:!0,disabledPropertyControls:[\"FlipX\",\"FlipY\"],rLock:!0,onInit:function(d){lucid.plugin.registerProperty(d,\"Spread\",.125)},searchKeywords:i18n.get(\"plugin-flowchart-shape-doublebracket-keywords\"),getLinkPoints:function(){return[{x:0,y:.5},{x:1,y:.5}]},variants:{BracketBlockRotated:{defaultProperties:function(){return{Rotation:-Math.PI/\n2}}}},getRenderDataKey:function(d){return[\"FillColor\",\"LineColor\",\"LineWidth\",\"Spread\"]},getRenderData:function(d,c){var a=d.BoundingBox,b=d.Spread*(a.h>a.w?a.w:a.h);return[{StrokeColor:d.LineColor,LineWidth:d.LineWidth,Actions:[{Action:\"move\",x:a.x+b,y:a.y},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x,a.y,2*b,2*b,1.5*Math.PI,Math.PI)},{Action:\"line\",x:a.x,y:a.y+a.h-b},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x,a.y+a.h-2*b,2*b,2*b,Math.PI,.5*Math.PI)},{Action:\"move\",\nx:a.x+a.w-b,y:a.y+a.h},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x+a.w-2*b,a.y+a.h-2*b,2*b,2*b,.5*Math.PI,0)},{Action:\"line\",x:a.x+a.w,y:a.y+b},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x+a.w-2*b,a.y,2*b,2*b,2*Math.PI,1.5*Math.PI)}]}]}});lucid.plugin.initBlockClass({className:\"BracketBlockRotated\",name:i18n.get(\"plugin-flowchart-shape-doublebracket\"),defaultSize:{w:320,h:320},container:!0,disabledPropertyControls:[\"FlipX\",\"FlipY\"],rLock:!0,onInit:function(d){lucid.plugin.registerProperty(d,\n\"Spread\",.125)},searchKeywords:i18n.get(\"plugin-flowchart-shape-doublebracket-keywords\"),getLinkPoints:function(){return[{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(d){return[\"FillColor\",\"LineColor\",\"LineWidth\",\"Spread\"]},getRenderData:function(d,c){var a=d.BoundingBox,b=d.Spread*(a.h>a.w?a.w:a.h);return[{StrokeColor:d.LineColor,LineWidth:d.LineWidth,Actions:[{Action:\"move\",x:a.x,y:a.y+b},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x,a.y,2*b,2*b,1*Math.PI,1.5*Math.PI)},{Action:\"line\",\nx:a.x+a.w-b,y:a.y},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x+a.w-2*b,a.y,2*b,2*b,1.5*Math.PI,2*Math.PI)},{Action:\"move\",x:a.x+a.w,y:a.y+a.h-b},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x+a.w-2*b,a.y+a.h-2*b,2*b,2*b,0*Math.PI,.5*Math.PI)},{Action:\"line\",x:a.x+b,y:a.y+a.h},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x,a.y+a.h-2*b,2*b,2*b,.5*Math.PI,1*Math.PI)}]}]}});(function(){lucid.plugin.initBlockClass({className:\"BraceNoteBlock\",name:i18n.get(\"plugin-flowchart-shape-bracenote\"),\nsearchKeywords:i18n.get(\"plugin-flowchart-shape-bracenote-keywords\"),defaultSize:{w:80,h:160},variants:{Right:{defaultProperties:function(){return{BraceDirection:\"Right\"}}}},onInit:function(d){lucid.plugin.addBlockTextArea(d,{id:\"Note\",value:i18n.get(\"plugin-flowchart-shape-bracenote-defaulttext\"),getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(c){var a=.0625*c.h,b=\"Right\"===lucid.plugin.getProperty(d,\"BraceDirection\");return{x:c.x+(b?0:3)*\na,y:c.y,w:c.w-3*a,h:c.h,fitShape:lucid.plugin.getProperty(d,\"InsetMargin\")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(c){var a=.0625*c.h,b=\"Right\"===lucid.plugin.getProperty(d,\"BraceDirection\"),g=lucid.plugin.getProperty(d,\"InsetMargin\")||0;c={x:c.x+(b?0:3)*a,y:c.y,w:c.w-3*a,h:c.h};return c=lucid.math.Box.safePad(c,-g,{w:10,h:10})}}])});lucid.plugin.registerProperty(d,\"TextWrap\",\"fit\");lucid.plugin.registerProperty(d,\"InsetMargin\",5)},onCreate:function(d){var c=\"Right\"===lucid.plugin.getProperty(d,\n\"BraceDirection\")?\"right\":\"left\";lucid.plugin.updateBlockTextArea(d,\"Note\",{align:c})},getRenderDataKey:function(d){return[\"FillColor\",\"LineColor\",\"LineWidth\",\"BraceDirection\"]},getRenderData:function(d,c){var a=d.BoundingBox,b=.0625*a.h,g=d.LineWidth;\"sample\"==c&&(b*=2,a={x:a.y,y:a.y,w:a.h,h:a.h});var e=\"Right\"===d.BraceDirection,f=e?-1:1,h=a.w/2,h=a.x+(h-h*f),k=h+b*f,g=[{Actions:[{Action:\"move\",x:a.x,y:a.y},{Action:\"line\",x:a.x,y:a.y+a.h},{Action:\"line\",x:a.x+a.w,y:a.y+a.h},{Action:\"line\",x:a.x+\na.w,y:a.y},{Action:\"close\"}]},{StrokeColor:d.LineColor,LineWidth:g,Actions:[{Action:\"move\",x:h,y:a.y+a.h},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(h-b,a.y+a.h-2*b,2*b,2*b,.5*Math.PI,Math.PI*(.5-.5*f))},{Action:\"line\",x:k,y:a.y+a.h/2+b},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(k-(b-b*f),a.y+a.h/2,2*b,2*b,Math.PI*(1+(.5-.5*f)),1.5*Math.PI)},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(k-(b-b*f),a.y+a.h/2-2*b,2*b,2*b,.5*Math.PI,Math.PI*(1-(.5-.5*f)))},\n{Action:\"line\",x:k,y:a.y+b},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(h-b,a.y,2*b,2*b,Math.PI*(2-(.5-.5*f)),1.5*Math.PI)}]}],e=e?0:3*b,b=3*b-e;\"sample\"==c&&g.push({FillColor:lucid.color.darken(d.FillColor,.5),Actions:[{Action:\"move\",x:a.x+e,y:a.y+.3*a.h},{Action:\"line\",x:a.x+.8*a.w-b,y:a.y+.3*a.h},{Action:\"line\",x:a.x+.8*a.w-b,y:a.y+.4*a.h},{Action:\"line\",x:a.x+e,y:a.y+.4*a.h},{Action:\"close\"},{Action:\"move\",x:a.x+e,y:a.y+.45*a.h},{Action:\"line\",x:a.x+.9*a.w-b,y:a.y+.45*a.h},{Action:\"line\",\nx:a.x+.9*a.w-b,y:a.y+.55*a.h},{Action:\"line\",x:a.x+e,y:a.y+.55*a.h},{Action:\"close\"},{Action:\"move\",x:a.x+e,y:a.y+.6*a.h},{Action:\"line\",x:a.x+.7*a.w-b,y:a.y+.6*a.h},{Action:\"line\",x:a.x+.7*a.w-b,y:a.y+.7*a.h},{Action:\"line\",x:a.x+e,y:a.y+.7*a.h},{Action:\"close\"}]});return g}})})();lucid.plugin.initBlockClass({className:\"LoopLimitBlock\",name:\"Loop Limit\",searchKeywords:[\"flowchart\",\"loop\",\"limit\"],defaultSize:{w:160,h:120},onInit:function(d){lucid.plugin.addBlockTextArea(d,{id:\"Text\",value:\"Loop Limit\",\ngetBoundingBox:function(c){return z(c,function(a){return{x:a.x+20,y:a.y,w:a.w-40,h:a.h}},function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(d,\"InsetMargin\")||0,hideOverflow:!0}})}});1<k()&&(lucid.plugin.registerProperty(d,\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(d,\"InsetMargin\",5))},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(d){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(d,c){var a=\nd.BoundingBox;return[{FillColor:d.FillColor,StrokeColor:d.LineColor,LineWidth:d.LineWidth,Actions:[{Action:\"move\",x:a.x,y:a.y+.2*a.h},{Action:\"line\",x:a.x+.2*a.w,y:a.y},{Action:\"line\",x:a.x+.8*a.w,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y+.2*a.h},{Action:\"line\",x:a.x+a.w,y:a.y+a.h},{Action:\"line\",x:a.x,y:a.y+a.h},{Action:\"close\"}]}]}});lucid.plugin.initBlockClass({className:\"CardBlock\",name:\"Card\",searchKeywords:[\"flowchart\",\"card\",\"square\",\"rectangle\"],defaultSize:{w:160,h:120},onInit:function(d){lucid.plugin.addBlockTextArea(d,\n{id:\"Text\",value:\"Card\",getBoundingBox:function(c){return z(c,function(a){return{x:a.x+20,y:a.y,w:a.w-40,h:a.h}},function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(d,\"InsetMargin\")||0,hideOverflow:!0}})}});1<k()&&(lucid.plugin.registerProperty(d,\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(d,\"InsetMargin\",5))},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(d){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(d,\nc){var a=d.BoundingBox;return[{FillColor:d.FillColor,StrokeColor:d.LineColor,LineWidth:d.LineWidth,Actions:[{Action:\"move\",x:a.x,y:a.y+.2*a.h},{Action:\"line\",x:a.x+.2*a.w,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y+a.h},{Action:\"line\",x:a.x,y:a.y+a.h},{Action:\"close\"}]}]}});lucid.plugin.initBlockClass({className:\"TapeDataBlock\",name:\"Tape Data\",searchKeywords:[\"flowchart\",\"tape\",\"data\",\"circle\"],defaultSize:{w:100,h:100},onInit:function(d){lucid.plugin.addBlockTextArea(d,\n{id:\"Text\",value:\"Tape Data\",getBoundingBox:function(c){return z(c,function(a){return{x:a.x+20,y:a.y,w:a.w-40,h:a.h}},function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(d,\"InsetMargin\")||0,hideOverflow:!0}})}});1<k()&&(lucid.plugin.registerProperty(d,\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(d,\"InsetMargin\",5))},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(d){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(d,\nc){var a=d.BoundingBox;return[{FillColor:d.FillColor,StrokeColor:d.LineColor,LineWidth:d.LineWidth,Actions:[{Action:\"move\",x:a.x+a.w,y:a.y+a.h/2},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x,a.y,a.w,a.h,0,2*Math.PI)},{Action:\"close\"},{Action:\"move\",x:a.x+a.w/2,y:a.y+a.h},{Action:\"line\",x:a.x+a.w,y:a.y+a.h}]}]}});lucid.plugin.createToolGroups({Flowchart:{displayName:i18n.get(\"plugin-flowchart-group-flowchart\"),items:[\"ProcessBlock\",\"DecisionBlock\",\"TerminatorBlock\",\"PredefinedProcessBlock\",\n\"DocumentBlock\",\"MultiDocumentBlock\",\"ManualInputBlock\",\"PreparationBlock\",\"DataBlockNew\",\"DatabaseBlock\",\"DirectAccessStorageBlock\",\"InternalStorageBlock\",\"PaperTapeBlock\",\"ManualOperationBlockNew\",\"DelayBlock\",\"StoredDataBlock\",\"MergeBlock\",\"ConnectorBlock\",\"OrBlock\",\"SummingJunctionBlock\",\"DisplayBlock\",\"OffPageLinkBlock\",{className:\"BraceNoteBlock\"},{className:\"BraceNoteBlock\",variant:\"Right\"},\"NoteBlock\"]},Containers:{displayName:i18n.get(\"plugin-flowchart-group-containers\"),items:\"AdvancedSwimLaneBlock AdvancedSwimLaneBlockRotated RectangleContainerBlock DiamondContainerBlock RoundedRectangleContainerBlock CircleContainerBlock PillContainerBlock BraceBlock BracketBlock BraceBlockRotated BracketBlockRotated\".split(\" \")}})})();\n//# sourceMappingURL=/js/plugins/v2/source-maps/flowchart.js.map"},{"name":"Geometric Shapes","description":"Use clouds, hearts, plus signs, callouts, and other geometric shapes to give your diagram a lighthearted, hand-drawn feel.","public":1,"thumbnail_url":"https://d2slcw3kip6qmk.cloudfront.net/app/chart/plugins/geometric-352x282.png","url":"/js/plugins/v2/shapes.js","keywords":"cloud,heart,plus,callout,pentagon,hexagon","group_name":"Standard","code":"(function(){function q(){return lucid.plugin.getProperty(null,\"Version\")||0}function x(c,b,a){return 1<q()?a(c):b(c)}var t={global:this,provide:function(c){c=c.split(\".\");t.global[c[0]]=t.global[c[0]]||{};var b=t.global[c[0]];c.slice(1).reduce(function(a,b){a[b]||(a[b]={});return a[b]},b)},require:function(){},inherits:function(c,b){function a(){}a.prototype=b.prototype;c.superClass_=b.prototype;c.prototype=new a;c.prototype.constructor=c;c.base=function(a,c,l){var g=Array.prototype.slice.call(arguments,\n2);return b.prototype[c].apply(a,g)}},base:function(c,b,a){var e=arguments.callee.caller;if(t.STRICT_MODE_COMPATIBLE||t.DEBUG&&!e)throw Error(\"arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C\");if(e.superClass_)return e.superClass_.constructor.apply(c,Array.prototype.slice.call(arguments,1));for(var d=Array.prototype.slice.call(arguments,2),l=!1,g=c.constructor;g;g=g.superClass_&&g.superClass_.constructor)if(g.prototype[b]===\ne)l=!0;else if(l)return g.prototype[b].apply(c,d);if(c[b]===e)return c.constructor.prototype[b].apply(c,d);throw Error(\"goog.base called from a method of one name to a method of a different name\");}};t.provide(\"plugin.common.DocVersionedProps\");plugin.common.DocVersionedProps.getValueForDocVersion=function(c,b){var a=lucid.plugin.getProperty(null,\"Version\")||0,e=lucid.array.findRight(c,function(b){return b.docVersionInstated<=a});return e&&e.value||b};t.provide(\"plugin.common.TextAreaOverflowUtils\");\nplugin.common.TextAreaOverflowUtils.getOnOverflowCallback=function(c,b,a){return function(e,d,l,g,v){if(\"number\"!==typeof g||\"number\"!==typeof v||(g+6)%3!=(v+6)%3)g=lucid.plugin.getProperty(null,\"Version\")||0,v=Math.abs(lucid.text.getTextAreaRotation(e,d)),d!=(a||\"Text\")||0!==l||5>g||0!==v||plugin.common.TextAreaOverflowUtils.resizeToFitText(e,d,l,c,b)}};plugin.common.TextAreaOverflowUtils.resizeToFitText=function(c,b,a,e,d){var l=lucid.plugin.getProperty(c,\"BoundingBox\"),g=e(l,c);e=lucid.text.getTextAreaVAlignment(c,\nb);e=\"middle\"==e?{x:.5,y:.5}:\"bottom\"==e?{x:.5,y:1}:{x:.5,y:0};b=lucid.text.getTextAreaSpaceSize(c,b,a);b=lucid.math.Box.resizeAboutRelativePoint(g,e,b);d=d(b,c);b=d.h>l.h;a=lucid.block.getDefaultSize(c).h;d=lucid.math.Box.resizeAboutRelativePoint(l,e,{w:l.w,h:b?Math.max(d.h,l.h):Math.max(d.h,Math.min(l.h,a))});lucid.plugin.setProperty(c,\"BoundingBox\",d)};t.provide(\"plugin.common.Callout\");t.require(\"plugin.common.DocVersionedProps\");t.require(\"plugin.common.TextAreaOverflowUtils\");plugin.common.Callout.createBlock=\nfunction(c,b,a){function e(a,b,c,h){b||(b=lucid.plugin.getProperty(a,\"Side\"));c||(c=lucid.plugin.getProperty(a,\"Position\"));h||(h=lucid.plugin.getProperty(a,\"BoundingBox\"));var e,d;switch(b){case 0:e=h.w*c;d=0;break;case 1:e=h.w;d=h.h*c;break;case 2:e=h.w*c;d=h.h;break;case 3:e=0,d=h.h*c}return{x:h.x+e,y:h.y+d}}var d=function(a,b){return{x:a.x+5,y:a.y+5,w:a.w-10,h:a.h-10}};lucid.plugin.initBlockClass({className:c,name:b,searchKeywords:i18n.get(\"plugin-callout-block-keywords\"),defaultSize:{w:120,h:40},\nminWidth:120,minHeight:40,onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:\"Tip\",value:a,getBoundingBox:d});lucid.plugin.getProperty(b,\"BoundingBox\");lucid.plugin.registerProperty(b,\"MinLayerPadding\",25);lucid.plugin.registerProperty(b,\"TailAngle\",30);lucid.plugin.registerProperty(b,\"TailRadius\",25);lucid.plugin.registerProperty(b,\"TailWidth\",15);lucid.plugin.registerProperty(b,\"Side\",0);lucid.plugin.registerProperty(b,\"Position\",.6);lucid.plugin.registerProperty(b,\"RoundCorners\",5)},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(d,\nfunction(a,b){return{x:a.x-5,y:a.y-5,w:a.w+10,h:a.h+10}},\"Tip\"),getOffsetProperties:function(a,b,c){b=lucid.plugin.defaultOffsetProperties(a,b,c);b[a].MinLayerPadding=lucid.plugin.getProperty(a,\"TailRadius\");return b},spatialControls:function(a){function b(c,h,d,g,m){var u=Array.prototype.splice.call(arguments);u.unshift(a);return e.apply(null,u)}if(lucid.plugin.getProperty(a,\"BoundingBox\"))return[{logAction:\"chart.viewport.selection.spatialControls.shapes.calloutTail\",location:function(){var a=b();\nreturn{x:a.x-5,y:a.y-5,w:10,h:10}},moved:function(b){var c=lucid.plugin.getProperty(a,\"BoundingBox\"),e=lucid.plugin.getProperty(a,\"RoundCorners\"),d=lucid.plugin.getProperty(a,\"TailWidth\"),g=Math.abs(d),u=lucid.plugin.getProperty(a,\"Side\");b.y<=c.y&&2*e<c.w?u=0:b.x>=c.x+c.w&&2*e<c.h?u=1:b.y>=c.y+c.h&&2*e<c.w?u=2:b.x<=c.x&&2*e<c.h&&(u=3);var k=.5,f=Math.abs(d);switch(u){case 0:case 2:g+2*e>c.w?(k=.5,f=(c.w-2*e)/2):k=Math.min(Math.max(b.x-c.x,e+g),c.w-e-g)/c.w;break;case 1:case 3:g+2*e>c.h?(k=.5,f=(c.h-\n2*e)/2):k=Math.min(Math.max(b.y-c.y,e+g),c.h-e-g)/c.h}.45<k&&.55>k&&(k=.5);lucid.plugin.setPropertyIfChanged(a,\"TailWidth\",0>d?-f:f);lucid.plugin.setPropertyIfChanged(a,\"Side\",u);lucid.plugin.setPropertyIfChanged(a,\"Position\",k)},path:function(){var b=lucid.plugin.getProperty(a,\"BoundingBox\");return[{x:b.x,y:b.y},{x:b.x+b.w,y:b.y},{x:b.x+b.w,y:b.y+b.h},{x:b.x,y:b.y+b.h},{x:b.x,y:b.y}]}},{location:function(){var c,h;lucid.plugin.getProperty(a,\"BoundingBox\");var e=lucid.plugin.getProperty(a,\"TailWidth\"),\nd=lucid.plugin.getProperty(a,\"Side\"),m=b();switch(d){case 0:case 2:c=m.x-e;h=m.y;break;case 1:case 3:c=m.x,h=m.y-e}return{x:c-5,y:h-5,w:10,h:10}},moved:function(c){var h=lucid.plugin.getProperty(a,\"BoundingBox\"),e=lucid.plugin.getProperty(a,\"Position\"),d=lucid.plugin.getProperty(a,\"Side\"),m=lucid.plugin.getProperty(a,\"RoundCorners\"),f=b(),k;switch(d){case 0:case 2:k=f.x-c.x;c=(Math.abs(e-.5)-.5)*h.w+m;h=(.5-Math.abs(e-.5))*h.w-m;k=k<c?c:k>h?h:k;lucid.plugin.getProperty(a,\"RoundCorners\");break;case 1:case 3:k=\nf.y-c.y,c=(Math.abs(e-.5)-.5)*h.h+m,h=(.5-Math.abs(e-.5))*h.h-m,k=k<c?c:k>h?h:k}lucid.plugin.setPropertyIfChanged(a,\"TailWidth\",k)},path:function(){var b=lucid.plugin.getProperty(a,\"BoundingBox\"),c=lucid.plugin.getProperty(a,\"Side\");return[{x:b.x,y:b.y},{x:b.x+b.w,y:b.y},{x:b.x+b.w,y:b.y+b.h},{x:b.x,y:b.y+b.h},{x:b.x,y:b.y}].splice(c,2)}},{location:function(){var b;b=lucid.plugin.getProperty(a,\"Side\");var c=lucid.plugin.getProperty(a,\"Position\"),d=lucid.plugin.getProperty(a,\"BoundingBox\"),g=lucid.plugin.getProperty(a,\n\"TailRadius\"),m=lucid.plugin.getProperty(a,\"TailAngle\"),f,k;switch(b){case 0:f=d.w*c;k=0-g;break;case 1:f=d.w+g;k=d.h*c;break;case 2:f=d.w*c;k=d.h+g;break;case 3:f=0-g,k=d.h*c}b=lucid.math.Point.rotate({x:d.x+f,y:d.y+k},e(a,b,c,d),Math.PI/180*m);return{x:b.x-5,y:b.y-5,w:10,h:10}},moved:function(c){var e=b();lucid.plugin.getProperty(a,\"BoundingBox\");var d=0;switch(lucid.plugin.getProperty(a,\"Side\")){case 0:d=-1*Math.atan2(e.x-c.x,e.y-c.y);break;case 1:d=Math.atan2(c.y-e.y,c.x-e.x);break;case 2:d=-1*\nMath.atan2(c.x-e.x,c.y-e.y);break;case 3:d=Math.atan2(e.y-c.y,e.x-c.x)}d=180*d/Math.PI;90<d?d=90:-90>d?d=-90:-5<d&&5>d&&(d=0);c=lucid.math.Point.distance(c,e);lucid.plugin.setPropertyIfChanged(a,\"MinLayerPadding\",c);lucid.plugin.setPropertyIfChanged(a,\"TailRadius\",c);lucid.plugin.setPropertyIfChanged(a,\"TailAngle\",d)}},{location:function(){var b=lucid.plugin.getProperty(a,\"BoundingBox\"),c=lucid.plugin.getProperty(a,\"Side\"),e=lucid.plugin.getProperty(a,\"Position\"),d=lucid.plugin.getProperty(a,\"RoundCorners\"),\ng=lucid.plugin.getProperty(a,\"TailWidth\");switch(c){case 0:case 2:d=Math.min(d,b.w/2,b.h/2,b.w*(.5-Math.abs(e-.5))-Math.abs(g));break;case 1:case 3:d=Math.min(d,b.w/2,b.h/2,b.h*(.5-Math.abs(e-.5))-Math.abs(g))}return{x:b.x+b.w-d-5,y:b.y-5,w:10,h:10}},moved:function(b){var c=lucid.plugin.getProperty(a,\"BoundingBox\");lucid.plugin.setProperty(a,\"RoundCorners\",c.x+c.w-b.x)},path:function(){var b=lucid.plugin.getProperty(a,\"BoundingBox\"),c=lucid.plugin.getProperty(a,\"Side\"),d=lucid.plugin.getProperty(a,\n\"Position\"),e=lucid.plugin.getProperty(a,\"TailWidth\"),g;switch(c){case 0:case 2:g=Math.min(b.w*(.5-Math.abs(d-.5))-Math.abs(e),b.h/2);break;case 1:case 3:g=Math.min(b.h*(.5-Math.abs(d-.5))-Math.abs(e),b.w/2)}return[{x:b.x+b.w-g,y:b.y},{x:b.x+b.w,y:b.y}]}}]},getRenderData:function(a,b){function c(b,g,k,f,v){var n=e(a.id,a.Side,m,d);if(0>p){var r=k;k=v;v=r}f=lucid.math.Point.rotate(f,{x:n.x,y:n.y},Math.PI/180*u);k.Action=\"line\";f.Action=\"line\";v.Action=\"line\";q.splice(b,g,k,f,v)}var d=a.BoundingBox,\nf=a.TailRadius,p=a.TailWidth,m=a.Position,u=a.TailAngle,k=a.RoundCorners;\"sample\"==b?(k=3,f=6,p=3):\"preview\"==b&&(d.y+=4,d.h-=6,f=10,p=8);switch(a.Side){case 0:case 2:k=Math.min(k,d.w/2,d.h/2,d.w*(.5-Math.abs(m-.5)-Math.abs(p/d.w)));break;case 1:case 3:k=Math.min(k,d.w/2,d.h/2,d.h*(.5-Math.abs(m-.5)-Math.abs(p/d.h)))}var q=[{Action:\"move\",x:d.x,y:d.y+k},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(d.x,d.y,2*k,2*k,Math.PI,3*Math.PI/2)},{Action:\"line\",x:d.x+d.w-k,y:d.y},{Action:\"curve\",\nControl:lucid.math.ellipseArcControlPoints(d.x+d.w-2*k,d.y,2*k,2*k,-Math.PI/2,0)},{Action:\"line\",x:d.x+d.w,y:d.y+d.h-k},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(d.x+d.w-2*k,d.y+d.h-2*k,2*k,2*k,0,Math.PI/2)},{Action:\"line\",x:d.x+k,y:d.y+d.h},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(d.x,d.y+d.h-2*k,2*k,2*k,Math.PI/2,Math.PI)},{Action:\"close\"}];switch(a.Side){case 0:c(2,0,{x:d.x+d.w*m-p,y:d.y},{x:d.x+d.w*m,y:d.y-f},{x:d.x+d.w*m+p,y:d.y});break;case 1:c(4,0,{x:d.x+\nd.w,y:d.y+d.h*m-p},{x:d.x+d.w+f,y:d.y+d.h*m},{x:d.x+d.w,y:d.y+d.h*m+p});break;case 2:c(6,0,{x:d.x+d.w*m+p,y:d.y+d.h},{x:d.x+d.w*m,y:d.y+d.h+f},{x:d.x+d.w*m-p,y:d.y+d.h});break;case 3:c(8,0,{x:d.x,y:d.y+d.h*m+p},{x:d.x-f,y:d.y+d.h*m},{x:d.x,y:d.y+d.h*m-p})}return[{NoRounding:!0,FillColor:a.FillColor,StrokeColor:a.LineColor,LineWidth:a.LineWidth,Actions:q}]}})};t.provide(\"plugin.shapes\");t.require(\"plugin.common.Callout\");t.require(\"plugin.common.TextAreaOverflowUtils\");t.require(\"plugin.common.DocVersionedProps\");\nvar f=function(c,b){var a=lucid.plugin.getProperty(b,\"InsetMargin\")||0;return lucid.math.Box.safePad(c,-a)},r=function(c,b){var a=lucid.plugin.getProperty(b,\"InsetMargin\")||0;return lucid.math.Box.safePad(c,a)};lucid.plugin.initBlockClass({className:\"RectangleBlock\",name:i18n.get(\"plugin-geometricshapes-shape-rectangle\"),searchKeywords:[],defaultSize:{w:160,h:120},onInit:function(c){lucid.plugin.addBlockTextArea(c,{id:\"Text\",value:\"\",getBoundingBox:function(b){return f(b,c)}});lucid.plugin.registerProperty(c,\n\"TextWrap\",\"fit\");lucid.plugin.registerProperty(c,\"InsetMargin\",5)},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(f,r),getLinkPoints:function(c){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderData:function(c,b){var a=c.BoundingBox;return[{FillColor:c.FillColor,StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:\"move\",x:a.x,y:a.y+a.h},{Action:\"line\",x:a.x+a.w,y:a.y+a.h},{Action:\"line\",x:a.x+a.w,y:a.y},{Action:\"line\",x:a.x,y:a.y},{Action:\"close\"}]}]}});\nlucid.plugin.initBlockClass({className:\"IsoscelesTriangleBlock\",name:i18n.get(\"plugin-geometricshapes-shape-isoscelestriangle\"),searchKeywords:[],defaultSize:{w:160,h:120},onInit:function(c){lucid.plugin.addBlockTextArea(c,{id:\"Text\",value:\"\",getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(b){return{x:b.x+.2*b.w,y:b.y+.4*b.h,w:.6*b.w,h:.6*b.h}}},{docVersionInstated:2,value:function(b){return{x:b.x,y:b.y,w:b.w,h:b.h,fitShape:lucid.plugin.getProperty(c,\n\"InsetMargin\")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(b){return f(b,c)}}])});1<q()&&(lucid.plugin.registerProperty(c,\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(c,\"InsetMargin\",5))},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(f,r),getLinkPoints:function(c){return[{x:.5,y:0},{x:.25,y:.5},{x:.5,y:1},{x:.75,y:.5}]},getRenderData:function(c,b){var a=c.BoundingBox;return[{FillColor:c.FillColor,StrokeColor:c.LineColor,LineWidth:c.LineWidth,\nActions:[{Action:\"move\",x:a.x,y:a.y+a.h},{Action:\"line\",x:a.x+a.w,y:a.y+a.h},{Action:\"line\",x:a.x+a.w/2,y:a.y},{Action:\"close\"}]}]}});lucid.plugin.initBlockClass({className:\"RightTriangleBlock\",name:i18n.get(\"plugin-geometricshapes-shape-righttriangle\"),searchKeywords:[],defaultSize:{w:160,h:120},onInit:function(c){lucid.plugin.addBlockTextArea(c,{id:\"Text\",value:\"\",getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(b){return{x:b.x,y:b.y+.4*\nb.h,w:.6*b.w,h:.6*b.h}}},{docVersionInstated:2,value:function(b){return{x:b.x,y:b.y,w:b.w,h:b.h,fitShape:lucid.plugin.getProperty(c,\"InsetMargin\")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(b){return f(b,c)}}])});1<q()&&(lucid.plugin.registerProperty(c,\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(c,\"InsetMargin\",5))},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(f,r),getLinkPoints:function(c){return[{x:.501,y:.499},{x:.5,y:1},{x:0,y:.5}]},getRenderData:function(c,\nb){var a=c.BoundingBox;return[{FillColor:c.FillColor,StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:\"move\",x:a.x,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y+a.h},{Action:\"line\",x:a.x,y:a.y+a.h},{Action:\"close\"}]}]}});lucid.plugin.initBlockClass({className:\"PentagonBlock\",name:i18n.get(\"plugin-geometricshapes-shape-pentagon\"),searchKeywords:i18n.get(\"plugin-geometricshapes-shape-pentagon-keywords\"),defaultSize:{w:160,h:152},onInit:function(c){lucid.plugin.addBlockTextArea(c,{id:\"Text\",value:\"\",\ngetBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(b){return{x:b.x+.1*b.w,y:b.y+.2*b.h,w:.8*b.w,h:.8*b.h}}},{docVersionInstated:2,value:function(b){return{x:b.x,y:b.y,w:b.w,h:b.h,fitShape:lucid.plugin.getProperty(c,\"InsetMargin\")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(b){return f(b,c)}}])});1<q()&&(lucid.plugin.registerProperty(c,\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(c,\"InsetMargin\",5))},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(f,\nr),getLinkPoints:function(c){return[{x:0,y:.382},{x:.25,y:.191},{x:.5,y:0},{x:.75,y:.191},{x:1,y:.382},{x:.9045,y:.691},{x:.809,y:1},{x:.5,y:1},{x:.191,y:1},{x:.0955,y:.691}]},getRenderData:function(c,b){var a=c.BoundingBox;return[{FillColor:c.FillColor,StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:\"move\",x:a.x,y:a.y+.382*a.h},{Action:\"line\",x:a.x+a.w/2,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y+.382*a.h},{Action:\"line\",x:a.x+.809*a.w,y:a.y+a.h},{Action:\"line\",x:a.x+.191*a.w,y:a.y+a.h},\n{Action:\"close\"}]}]}});lucid.plugin.initBlockClass({className:\"HexagonBlock\",name:i18n.get(\"plugin-geometricshapes-shape-hexagon\"),searchKeywords:i18n.get(\"plugin-geometricshapes-shape-hexagon-keywords\"),defaultSize:{w:160,h:138},onInit:function(c){lucid.plugin.addBlockTextArea(c,{id:\"Text\",value:\"\",getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(b){return{x:b.x+.1*b.w,y:b.y,w:.8*b.w,h:b.h}}},{docVersionInstated:2,value:function(b){return{x:b.x,\ny:b.y,w:b.w,h:b.h,fitShape:lucid.plugin.getProperty(c,\"InsetMargin\")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(b){return f(b,c)}}])});1<q()&&(lucid.plugin.registerProperty(c,\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(c,\"InsetMargin\",5))},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(f,r),getLinkPoints:function(c){return[{x:0,y:.5},{x:.125,y:.25},{x:.25,y:0},{x:.5,y:0},{x:.75,y:0},{x:.875,y:.25},{x:1,y:.5},{x:.875,y:.75},{x:.75,y:1},{x:.5,\ny:1},{x:.25,y:1},{x:.125,y:.75}]},getRenderData:function(c,b){var a=c.BoundingBox;return[{FillColor:c.FillColor,StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:\"move\",x:a.x,y:a.y+a.h/2},{Action:\"line\",x:a.x+.25*a.w,y:a.y},{Action:\"line\",x:a.x+.75*a.w,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y+a.h/2},{Action:\"line\",x:a.x+.75*a.w,y:a.y+a.h},{Action:\"line\",x:a.x+.25*a.w,y:a.y+a.h},{Action:\"close\"}]}]}});lucid.plugin.initBlockClass({className:\"OctagonBlock\",name:i18n.get(\"plugin-geometricshapes-shape-octagon\"),\nsearchKeywords:i18n.get(\"plugin-geometricshapes-shape-octagon-keywords\"),defaultSize:{w:160,h:160},onInit:function(c){lucid.plugin.addBlockTextArea(c,{id:\"Text\",value:\"\",getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(b){return{x:b.x+.145*b.w,y:b.y+.145*b.h,w:.71*b.w,h:.71*b.h}}},{docVersionInstated:2,value:function(b){return{x:b.x,y:b.y,w:b.w,h:b.h,fitShape:lucid.plugin.getProperty(c,\"InsetMargin\")||0,hideOverflow:!0}}},{docVersionInstated:5,\nvalue:function(b){return f(b,c)}}])});1<q()&&(lucid.plugin.registerProperty(c,\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(c,\"InsetMargin\",5))},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(f,r),getLinkPoints:function(c){return[{x:.145,y:.145},{x:.5,y:0},{x:.855,y:.145},{x:1,y:.5},{x:.855,y:.855},{x:.5,y:1},{x:.145,y:.855},{x:0,y:.5}]},getRenderData:function(c,b){var a=c.BoundingBox;return[{FillColor:c.FillColor,StrokeColor:c.LineColor,LineWidth:c.LineWidth,\nActions:[{Action:\"move\",x:a.x,y:a.y+.29*a.h},{Action:\"line\",x:a.x+.29*a.w,y:a.y},{Action:\"line\",x:a.x+.71*a.w,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y+.29*a.h},{Action:\"line\",x:a.x+a.w,y:a.y+.71*a.h},{Action:\"line\",x:a.x+.71*a.w,y:a.y+a.h},{Action:\"line\",x:a.x+.29*a.w,y:a.y+a.h},{Action:\"line\",x:a.x,y:a.y+.71*a.h},{Action:\"close\"}]}]}});lucid.plugin.initBlockClass({className:\"CrossBlock\",name:i18n.get(\"plugin-geometricshapes-shape-cross\"),searchKeywords:i18n.get(\"plugin-geometricshapes-shape-cross-keywords\"),\ndefaultSize:{w:160,h:160},onInit:function(c){lucid.plugin.addBlockTextArea(c,{id:\"Text\",value:\"\",getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(b){return{x:b.x+.1*b.w,y:b.y+.25*b.h,w:.8*b.w,h:.5*b.h}}},{docVersionInstated:2,value:function(b){return{x:b.x,y:b.y,w:b.w,h:b.h,fitShape:lucid.plugin.getProperty(c,\"InsetMargin\")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(b){return f(b,c)}}])});1<q()&&(lucid.plugin.registerProperty(c,\n\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(c,\"InsetMargin\",5));lucid.plugin.registerProperty(c,\"Indent\",{x:.25,y:.25})},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(f,r),getLinkPoints:function(){return[{x:0,y:.5},{x:.5,y:0},{x:1,y:.5},{x:.5,y:1}]},getRenderData:function(c,b){var a=c.BoundingBox,e=c.Indent;return[{FillColor:c.FillColor,StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:\"move\",x:a.x,y:a.y+a.h*e.y},{Action:\"line\",x:a.x+a.w*e.x,y:a.y+\na.h*e.y},{Action:\"line\",x:a.x+a.w*e.x,y:a.y},{Action:\"line\",x:a.x+a.w-a.w*e.x,y:a.y},{Action:\"line\",x:a.x+a.w-a.w*e.x,y:a.y+a.h*e.y},{Action:\"line\",x:a.x+a.w,y:a.y+a.h*e.y},{Action:\"line\",x:a.x+a.w,y:a.y+a.h-a.h*e.y},{Action:\"line\",x:a.x+a.w-a.w*e.x,y:a.y+a.h-a.h*e.y},{Action:\"line\",x:a.x+a.w-a.w*e.x,y:a.y+a.h},{Action:\"line\",x:a.x+a.w*e.x,y:a.y+a.h},{Action:\"line\",x:a.x+a.w*e.x,y:a.y+a.h-a.h*e.y},{Action:\"line\",x:a.x,y:a.y+a.h-a.h*e.y},{Action:\"close\"}]}]},spatialControls:function(c){return[{logAction:\"chart.viewport.selection.spatialControls.shapes.crossIndent\",\nlocation:function(){var b=lucid.plugin.getProperty(c,\"BoundingBox\"),a=lucid.plugin.getProperty(c,\"Indent\");return{x:b.x+b.w*a.x-5,y:b.y+b.h*a.y-5,w:10,h:10}},moved:function(b){var a=lucid.plugin.getProperty(c,\"BoundingBox\");lucid.plugin.setProperty(c,\"Indent\",{x:(b.x-a.x)/a.w,y:(b.y-a.y)/a.h})},area:function(){var b=lucid.plugin.getProperty(c,\"BoundingBox\");return{x:b.x,y:b.y,w:b.w/2-5,h:b.h/2-5}},snap:2}]}});lucid.plugin.initBlockClass({className:\"RightArrowBlock\",name:\"Arrow\",searchKeywords:[\"shape\",\n\"arrow\"],defaultSize:{w:160,h:80},variants:{RightArrow:{tooltip:i18n.get(\"plugin-geometricshapes-shape-arrow-right\"),searchKeywords:i18n.get(\"plugin-geometricshapes-shape-arrow-right-keywords\")},DownArrow:{tooltip:i18n.get(\"plugin-geometricshapes-shape-arrow-down\"),searchKeywords:i18n.get(\"plugin-geometricshapes-shape-arrow-down-keywords\"),defaultProperties:function(){return{Rotation:Math.PI/2,TextRotation:-Math.PI/2}}},LeftArrow:{tooltip:i18n.get(\"plugin-geometricshapes-shape-arrow-left\"),searchKeywords:i18n.get(\"plugin-geometricshapes-shape-arrow-left-keywords\"),\ndefaultProperties:function(){return{Rotation:Math.PI,TextRotation:-Math.PI}}},UpArrow:{tooltip:i18n.get(\"plugin-geometricshapes-shape-arrow-up\"),searchKeywords:i18n.get(\"plugin-geometricshapes-shape-arrow-up-keywords\"),defaultProperties:function(){return{Rotation:3*Math.PI/2,TextRotation:3*-Math.PI/2}}}},onInit:function(c){lucid.plugin.addBlockTextArea(c,{id:\"Text\",value:\"\",getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(b){var a=lucid.plugin.getProperty(c,\n\"Notch\"),e=lucid.plugin.getProperty(c,\"Head\")*b.h;return{x:b.x,y:b.y+a,w:b.w-.5*e,h:b.h-2*a}}},{docVersionInstated:2,value:function(b){return{x:b.x,y:b.y,w:b.w,h:b.h,fitShape:lucid.plugin.getProperty(c,\"InsetMargin\")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(b){return f(b,c)}}])});1<q()&&(lucid.plugin.registerProperty(c,\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(c,\"InsetMargin\",5));lucid.plugin.registerProperty(c,\"Notch\",.25);lucid.plugin.registerProperty(c,\"Head\",.5);lucid.plugin.registerProperty(c,\n\"TextRotation\",0,null,function(b,a){lucid.plugin.updateBlockTextArea(c,\"Text\",{rotation:a})})},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(f,r),getLinkPoints:function(){return[]},getAnchorPoints:function(){return[{x:0,y:.5},{x:1,y:.5}]},getRenderData:function(c,b){var a=c.BoundingBox,e=c.Notch*a.h,d=c.Head*a.h;return[{FillColor:c.FillColor,StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:\"move\",x:a.x,y:a.y+e},{Action:\"line\",x:a.x+a.w-d,y:a.y+e},\n{Action:\"line\",x:a.x+a.w-d,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y+a.h/2},{Action:\"line\",x:a.x+a.w-d,y:a.y+a.h},{Action:\"line\",x:a.x+a.w-d,y:a.y+a.h-e},{Action:\"line\",x:a.x,y:a.y+a.h-e},{Action:\"close\"}]}]},spatialControls:function(c){return[{logAction:\"chart.viewport.selection.spatialControls.shapes.arrowHead\",location:function(){var b=lucid.plugin.getProperty(c,\"BoundingBox\"),a=lucid.plugin.getProperty(c,\"Head\")*b.h,e=lucid.plugin.getProperty(c,\"Notch\")*b.h;return{x:b.x+b.w-a-5,y:b.y+e-5,w:10,h:10}},\nmoved:function(b){var a=lucid.plugin.getProperty(c,\"BoundingBox\");lucid.plugin.setProperty(c,\"Head\",(a.x+a.w-b.x)/a.h);lucid.plugin.setProperty(c,\"Notch\",(b.y-a.y)/a.h)},area:function(){var b=lucid.plugin.getProperty(c,\"BoundingBox\");return{x:b.x+10,y:b.y,w:b.w-10,h:b.h/2-5}},snap:4}]}});lucid.plugin.initBlockClass({className:\"DoubleArrowBlock\",name:\"Double Arrow\",searchKeywords:[\"shape\",\"arrow\"],defaultSize:{w:160,h:80},variants:{EWArrow:{tooltip:i18n.get(\"plugin-geometricshapes-shape-doublearrow-ew\"),\nsearchKeywords:i18n.get(\"plugin-geometricshapes-shape-doublearrow-ew-keywords\")},NSArrow:{tooltip:i18n.get(\"plugin-geometricshapes-shape-doublearrow-ns\"),searchKeywords:i18n.get(\"plugin-geometricshapes-shape-doublearrow-ns-keywords\"),defaultProperties:function(){return{Rotation:Math.PI/2,TextRotation:-Math.PI/2}}}},onInit:function(c){lucid.plugin.addBlockTextArea(c,{id:\"Text\",value:\"\",getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(b){var a=\nlucid.plugin.getProperty(c,\"Notch\")*b.h,e=lucid.plugin.getProperty(c,\"Head\")*b.h;return{x:b.x,y:b.y+a,w:b.w-.5*e,h:b.h-2*a}}},{docVersionInstated:2,value:function(b){return{x:b.x,y:b.y,w:b.w,h:b.h,fitShape:lucid.plugin.getProperty(c,\"InsetMargin\")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(b){return f(b,c)}}])});1<q()&&(lucid.plugin.registerProperty(c,\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(c,\"InsetMargin\",5));lucid.plugin.registerProperty(c,\"Notch\",.25);lucid.plugin.registerProperty(c,\n\"Head\",.5);lucid.plugin.registerProperty(c,\"TextRotation\",0,null,function(b,a){lucid.plugin.updateBlockTextArea(c,\"Text\",{rotation:a})})},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(f,r),getLinkPoints:function(){return[]},getAnchorPoints:function(){return[{x:0,y:.5},{x:1,y:.5}]},getRenderData:function(c,b){var a=c.BoundingBox,e=c.Notch*a.h,d=c.Head*a.h;return[{FillColor:c.FillColor,StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:\"move\",x:a.x,y:a.y+\na.h/2},{Action:\"line\",x:a.x+d,y:a.y},{Action:\"line\",x:a.x+d,y:a.y+e},{Action:\"line\",x:a.x+a.w-d,y:a.y+e},{Action:\"line\",x:a.x+a.w-d,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y+a.h/2},{Action:\"line\",x:a.x+a.w-d,y:a.y+a.h},{Action:\"line\",x:a.x+a.w-d,y:a.y+a.h-e},{Action:\"line\",x:a.x+d,y:a.y+a.h-e},{Action:\"line\",x:a.x+d,y:a.y+a.h},{Action:\"close\"}]}]},spatialControls:function(c){return[{logAction:\"chart.viewport.selection.spatialControls.shapes.arrowHead\",location:function(){var b=lucid.plugin.getProperty(c,\n\"BoundingBox\"),a=lucid.plugin.getProperty(c,\"Head\")*b.h,e=lucid.plugin.getProperty(c,\"Notch\")*b.h;return{x:b.x+b.w-a-5,y:b.y+e-5,w:10,h:10}},moved:function(b){var a=lucid.plugin.getProperty(c,\"BoundingBox\");lucid.plugin.setProperty(c,\"Head\",(a.x+a.w-b.x)/a.h);lucid.plugin.setProperty(c,\"Notch\",(b.y-a.y)/a.h)},area:function(){var b=lucid.plugin.getProperty(c,\"BoundingBox\");return{x:b.x+b.w/2+10,y:b.y,w:b.w/2-15,h:b.h/2-5}},snap:4}]}});lucid.plugin.initBlockClass({className:\"CloudBlock\",name:i18n.get(\"plugin-geometricshapes-shape-cloud\"),\nsearchKeywords:[],defaultSize:{w:160,h:120},onInit:function(c){lucid.plugin.addBlockTextArea(c,{id:\"Text\",value:\"\",getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(b){return{x:b.x+.2*b.w,y:b.y+.1*b.h,w:.6*b.w,h:.8*b.h}}},{docVersionInstated:2,value:function(b){return{x:b.x,y:b.y,w:b.w,h:b.h,fitShape:lucid.plugin.getProperty(c,\"InsetMargin\")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(b){return f(b,c)}}])});1<q()&&(lucid.plugin.registerProperty(c,\n\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(c,\"InsetMargin\",5))},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(f,r),getLinkPoints:function(c){return[{x:0,y:.5},{x:.24,y:.07},{x:.6,y:.01},{x:.97,y:.3},{x:.955,y:.85},{x:.6,y:1},{x:.25,y:.925}]},getRenderData:function(c,b){var a=c.BoundingBox;return[{FillColor:c.FillColor,StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:\"move\",x:a.x+.15*a.w,y:a.y+.7*a.h},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x,\na.y+.3*a.h,.3*a.w,.4*a.h,.5*Math.PI,1.4*Math.PI)},{Action:\"curve\",Control:[{x1:a.x+.1*a.w,y1:a.y+.05*a.h,x2:a.x+.35*a.w,y2:a.y+0*a.h,x3:a.x+.45*a.w,y3:a.y+.1*a.h},{x1:a.x+.5*a.w,y1:a.y+-.05*a.h,x2:a.x+.75*a.w,y2:a.y+0*a.h,x3:a.x+.75*a.w,y3:a.y+.15*a.h},{x1:a.x+.9*a.w,y1:a.y+.1*a.h,x2:a.x+1.05*a.w,y2:a.y+.3*a.h,x3:a.x+.95*a.w,y3:a.y+.55*a.h},{x1:a.x+1.05*a.w,y1:a.y+.75*a.h,x2:a.x+.95*a.w,y2:a.y+1*a.h,x3:a.x+.75*a.w,y3:a.y+.9*a.h},{x1:a.x+.7*a.w,y1:a.y+1.03*a.h,x2:a.x+.5*a.w,y2:a.y+1.03*a.h,x3:a.x+\n.45*a.w,y3:a.y+.9*a.h},{x1:a.x+.35*a.w,y1:a.y+1*a.h,x2:a.x+.15*a.w,y2:a.y+.95*a.h,x3:a.x+.15*a.w,y3:a.y+.7*a.h}]},{Action:\"close\"}]}]}});lucid.plugin.initBlockClass({className:\"HeartBlock\",name:i18n.get(\"plugin-geometricshapes-shape-heart\"),searchKeywords:[],defaultSize:{w:160,h:160},onInit:function(c){lucid.plugin.addBlockTextArea(c,{id:\"Text\",value:\"\",getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(b){return{x:b.x+.1*b.w,y:b.y+.15*b.h,w:.8*\nb.w,h:.55*b.h}}},{docVersionInstated:2,value:function(b){return{x:b.x,y:b.y,w:b.w,h:b.h,fitShape:lucid.plugin.getProperty(c,\"InsetMargin\")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(b){return f(b,c)}}])});1<q()&&(lucid.plugin.registerProperty(c,\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(c,\"InsetMargin\",5))},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(f,r),getLinkPoints:function(c){return[{x:.5,y:.2},{x:1,y:.28},{x:.5,y:1},{x:0,y:.28}]},getRenderData:function(c,\nb){var a=c.BoundingBox;return[{FillColor:c.FillColor,StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:\"move\",x:a.x+.5*a.w,y:a.y+.2*a.h},{Action:\"curve\",Control:[{x1:a.x+.52*a.w,y1:a.y+.1*a.h,x2:a.x+.63*a.w,y2:a.y+0*a.h,x3:a.x+.75*a.w,y3:a.y+0*a.h},{x1:a.x+.9*a.w,y1:a.y+0*a.h,x2:a.x+1*a.w,y2:a.y+.1*a.h,x3:a.x+1*a.w,y3:a.y+.28*a.h},{x1:a.x+1*a.w,y1:a.y+.55*a.h,x2:a.x+.65*a.w,y2:a.y+.67*a.h,x3:a.x+.5*a.w,y3:a.y+1*a.h},{x1:a.x+.35*a.w,y1:a.y+.67*a.h,x2:a.x+0*a.w,y2:a.y+.55*a.h,x3:a.x+0*\na.w,y3:a.y+.28*a.h},{x1:a.x+0*a.w,y1:a.y+.1*a.h,x2:a.x+.1*a.w,y2:a.y+0*a.h,x3:a.x+.25*a.w,y3:a.y+0*a.h},{x1:a.x+.37*a.w,y1:a.y+0*a.h,x2:a.x+.48*a.w,y2:a.y+.1*a.h,x3:a.x+.5*a.w,y3:a.y+.2*a.h}]},{Action:\"close\"}]}]}});lucid.plugin.initBlockClass({className:\"ShapeCircleBlock\",name:i18n.get(\"plugin-geometricshapes-shape-circle\"),searchKeywords:[],defaultSize:{w:160,h:160},onInit:function(c){lucid.plugin.addBlockTextArea(c,{id:\"Text\",value:\"\",getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,\nvalue:function(b){return{x:b.x,y:b.y,w:b.w,h:b.h}}},{docVersionInstated:2,value:function(b){return{x:b.x,y:b.y,w:b.w,h:b.h,fitShape:lucid.plugin.getProperty(c,\"InsetMargin\")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(b){return f(b,c)}}])});1<q()&&(lucid.plugin.registerProperty(c,\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(c,\"InsetMargin\",5))},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(f,r),getLinkPoints:function(){return[{x:.5,y:0},{x:.5,\ny:1},{x:0,y:.5},{x:1,y:.5}]},getRenderData:function(c,b){var a=c.BoundingBox;return[{FillColor:c.FillColor,StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:\"move\",x:a.x+a.w,y:a.y+a.h/2},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x,a.y,a.w,a.h,0,2*Math.PI)},{Action:\"close\"}]}]}});lucid.plugin.initBlockClass({className:\"ShapePolyStarBlock\",name:i18n.get(\"plugin-geometricshapes-shape-polystar\"),searchKeywords:[],defaultSize:{w:160,h:160},onInit:function(c){lucid.plugin.setPropertyIfChanged(c,\n\"InsetMargin\",5);lucid.plugin.registerProperty(c,\"NumberPoints\",5);lucid.plugin.registerProperty(c,\"InnerRadius\",.4);lucid.plugin.registerProperty(c,\"TextWrap\",1);lucid.plugin.addBlockTextArea(c,{id:\"Text\",value:\"\",getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(b){var a=lucid.plugin.getProperty(c,\"ShapePolyStarBlock\");return{x:b.x+b.w/2*(1-a),y:b.y+b.h/2*(1-a),w:b.w*a,h:b.h*a}}},{docVersionInstated:2,value:function(b){return{x:b.x,y:b.y,\nw:b.w,h:b.h,fitShape:lucid.plugin.getProperty(c,\"InsetMargin\")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(b){return f(b,c)}}])});1<q()&&(lucid.plugin.registerProperty(c,\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(c,\"InsetMargin\",5))},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(f,r),spatialControls:function(c){function b(a,b,c,g){var f=c.x+c.w/2,h=c.y+c.h/2;a=1.5*Math.PI+a*Math.PI*2/b;var n=c.w/2;c=c.h/2;null!=g&&(a+=1*Math.PI/b,n*=g,c*=g);\nreturn{x:f+Math.cos(a)*n,y:h+Math.sin(a)*c}}function a(a){for(;0>a;)a+=2*Math.PI;for(;a>2*Math.PI;)a-=2*Math.PI;return Math.min(Math.max(Math.round(1/(a/(2*Math.PI))),3),25)}return[{location:function(){var a=lucid.plugin.getProperty(c,\"BoundingBox\"),d=lucid.plugin.getProperty(c,\"NumberPoints\"),a=b(1,d,a);return{x:a.x-5,y:a.y-5,w:10,h:10}},moved:function(b){lucid.plugin.getProperty(c,\"NumberPoints\");var d=lucid.plugin.getProperty(c,\"BoundingBox\"),d=lucid.math.Box.center(d);lucid.plugin.setProperty(c,\n\"NumberPoints\",a(Math.atan2(b.y-d.y,b.x-d.x)-1.5*Math.PI))},path:function(){for(var a=lucid.plugin.getProperty(c,\"BoundingBox\"),d=lucid.plugin.getProperty(c,\"NumberPoints\"),l=[],g=0;g<d;g++)l.push(b(g,d,a));return l}},{location:function(){var a=lucid.plugin.getProperty(c,\"BoundingBox\"),d=lucid.plugin.getProperty(c,\"NumberPoints\"),l=lucid.plugin.getProperty(c,\"InnerRadius\"),a=b(0,d,a,l);return{x:a.x-5,y:a.y-5,w:10,h:10}},moved:function(a){var d=lucid.plugin.getProperty(c,\"NumberPoints\"),l=lucid.plugin.getProperty(c,\n\"BoundingBox\"),d=b(0,d,l,1),l=lucid.math.Box.center(l),d=lucid.math.Point.distance(l,d);a=lucid.math.Point.distance(l,a);lucid.plugin.setProperty(c,\"InnerRadius\",a/d)},path:function(){var a=lucid.plugin.getProperty(c,\"BoundingBox\"),d=lucid.plugin.getProperty(c,\"NumberPoints\");return[lucid.math.Box.center(a),b(0,d,a,1)]}}]},getRenderData:function(c,b){var a=c.BoundingBox,e=c.NumberPoints,d=c.InnerRadius,l=[],g=a.x+a.w/2,f=a.y+a.h/2,h=Math.PI/e,n=1.5*Math.PI,p,m=a.w/2,u=a.h/2,k=m*d,d=u*d;l.push({Action:\"move\",\nx:g,y:a.y});for(var q=0;q<2*e-1;q++)n-=h,0==q%2?(a=k,p=d):(a=m,p=u),l.push({Action:\"line\",x:g+Math.cos(n)*a,y:f+Math.sin(n)*p});l.push({Action:\"close\"});return[{FillColor:c.FillColor,StrokeLocation:c.StrokeLocation,StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:l}]}});lucid.plugin.initBlockClass({className:\"ShapeDiamondBlock\",name:i18n.get(\"plugin-geometricshapes-shape-diamond\"),searchKeywords:[],defaultSize:{w:160,h:160},onInit:function(c){lucid.plugin.addBlockTextArea(c,{id:\"Text\",value:\"\",\ngetBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(b){return{x:b.x,y:b.y,w:b.w,h:b.h}}},{docVersionInstated:2,value:function(b){return{x:b.x,y:b.y,w:b.w,h:b.h,fitShape:lucid.plugin.getProperty(c,\"InsetMargin\")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(b){return f(b,c)}}])});1<q()&&(lucid.plugin.registerProperty(c,\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(c,\"InsetMargin\",5))},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(f,\nr),getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderData:function(c,b){var a=c.BoundingBox,e=a.x+a.w/2,d=a.y+a.h/2;return[{FillColor:c.FillColor,StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:\"move\",x:e,y:a.y},{Action:\"line\",x:a.x+a.w,y:d},{Action:\"line\",x:e,y:a.y+a.h},{Action:\"line\",x:a.x,y:d},{Action:\"close\"}]}]}});plugin.common.Callout.createBlock(\"CalloutSquareBlock\",i18n.get(\"plugin-geometricshapes-shape-callout\"),\"\");var w=\"RectangleBlock IsoscelesTriangleBlock RightTriangleBlock PentagonBlock HexagonBlock OctagonBlock CrossBlock CloudBlock HeartBlock ShapeCircleBlock ShapePolyStarBlock ShapeDiamondBlock\".split(\" \");\nlucid.coreEx.includeCoreExFeatures()&&lucid.plugin.createNextBlockGroup(w);lucid.plugin.createExchangeGroup(w);lucid.plugin.createToolGroups({Shapes:{displayName:i18n.get(\"plugin-geometricshapes-group-shapes\"),items:[\"RectangleBlock\",\"IsoscelesTriangleBlock\",\"RightTriangleBlock\",\"PentagonBlock\",\"HexagonBlock\",\"OctagonBlock\",\"CrossBlock\",\"CloudBlock\",\"HeartBlock\",{className:\"RightArrowBlock\",variant:\"RightArrow\"},{className:\"RightArrowBlock\",variant:\"DownArrow\"},{className:\"RightArrowBlock\",variant:\"LeftArrow\"},\n{className:\"RightArrowBlock\",variant:\"UpArrow\"},{className:\"DoubleArrowBlock\",variant:\"EWArrow\"},{className:\"DoubleArrowBlock\",variant:\"NSArrow\"},\"CalloutSquareBlock\",\"ShapeCircleBlock\",\"ShapePolyStarBlock\",\"ShapeDiamondBlock\"]}});lucid.plugin.onActivate(function(){lucid.plugin.allowShadowSharing(\"RectangleBlock\",!0);lucid.plugin.allowShadowSharing(\"IsoscelesTriangleBlock\",!0);lucid.plugin.allowShadowSharing(\"RightTriangleBlock\",!0);lucid.plugin.allowShadowSharing(\"PentagonBlock\",!0);lucid.plugin.allowShadowSharing(\"HexagonBlock\",\n!0);lucid.plugin.allowShadowSharing(\"OctagonBlock\",!0);lucid.plugin.allowShadowSharing(\"CloudBlock\",!0);lucid.plugin.allowShadowSharing(\"HeartBlock\",!0)});lucid.plugin.initBlockClass({className:\"StarBlock\",name:\"Star\",searchKeywords:[\"shape\",\"star\",\"polygon\"],defaultSize:{w:160,h:152},onInit:function(c){lucid.plugin.addBlockTextArea(c,{id:\"Text\",value:\"\",getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(b){return{x:b.x+.1*b.w,y:b.y+.2*b.h,w:.8*\nb.w,h:.8*b.h}}},{docVersionInstated:5,value:function(b){return f(b,c)}}])})},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(f,r),getLinkPoints:function(c){return[{x:0,y:.382},{x:.5,y:0},{x:1,y:.382},{x:.809,y:1},{x:.191,y:1}]},getRenderData:function(c,b){var a=c.BoundingBox;return[{FillColor:c.FillColor,StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:\"move\",x:a.x,y:a.y+.382*a.h},{Action:\"line\",x:a.x+.3819*a.w,y:a.y+.382*a.h},{Action:\"line\",x:a.x+\n.5*a.w,y:a.y},{Action:\"line\",x:a.x+.618*a.w,y:a.y+.382*a.h},{Action:\"line\",x:a.x+a.w,y:a.y+.382*a.h},{Action:\"line\",x:a.x+.691*a.w,y:a.y+.6181*a.h},{Action:\"line\",x:a.x+.809*a.w,y:a.y+a.h},{Action:\"line\",x:a.x+.5*a.w,y:a.y+.764*a.h},{Action:\"line\",x:a.x+.191*a.w,y:a.y+a.h},{Action:\"line\",x:a.x+.309*a.w,y:a.y+.618*a.h},{Action:\"close\"}]}]}});lucid.plugin.initBlockClass({className:\"LeftArrowBlock\",name:\"LeftArrow\",defaultSize:{w:160,h:80},noSearch:!0,onInit:function(c){lucid.plugin.addBlockTextArea(c,\n{id:\"Text\",value:\"\",getBoundingBox:function(b){var a=.25*b.h,c=.5*(b.h>b.w?b.w:b.h);return{x:b.x+.5*c,y:b.y+a,w:b.w-.5*c,h:b.h-2*a}}})},getLinkPoints:function(c){return[]},getAnchorPoints:function(){return[{x:1,y:.5},{x:0,y:.5}]},getRenderData:function(c,b){var a=c.BoundingBox,e=.25*a.h,d=.5*(a.h>a.w?a.w:a.h);return[{FillColor:c.FillColor,StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:\"move\",x:a.x,y:a.y+a.h/2},{Action:\"line\",x:a.x+d,y:a.y},{Action:\"line\",x:a.x+d,y:a.y+e},{Action:\"line\",\nx:a.x+a.w,y:a.y+e},{Action:\"line\",x:a.x+a.w,y:a.y+a.h-e},{Action:\"line\",x:a.x+d,y:a.y+a.h-e},{Action:\"line\",x:a.x+d,y:a.y+a.h},{Action:\"close\"}]}]}});lucid.plugin.initBlockClass({className:\"UpArrowBlock\",name:\"Up Arrow\",defaultSize:{w:80,h:160},noSearch:!0,onInit:function(c){lucid.plugin.addBlockTextArea(c,{id:\"Text\",value:\"\",getBoundingBox:function(b){var a=.25*b.w,c=.5*(b.h>b.w?b.w:b.h);return{x:b.x+a,y:b.y+.5*c,w:b.w-2*a,h:b.h-.5*c}}})},getLinkPoints:function(){return[]},getAnchorPoints:function(){return[{x:.5,\ny:1},{x:.5,y:0}]},getRenderData:function(c,b){var a=c.BoundingBox,e=.25*a.w,d=.5*(a.h>a.w?a.w:a.h);return[{FillColor:c.FillColor,StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:\"move\",x:a.x+a.w/2,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y+d},{Action:\"line\",x:a.x+a.w-e,y:a.y+d},{Action:\"line\",x:a.x+a.w-e,y:a.y+a.h},{Action:\"line\",x:a.x+e,y:a.y+a.h},{Action:\"line\",x:a.x+e,y:a.y+d},{Action:\"line\",x:a.x,y:a.y+d},{Action:\"close\"}]}]}});lucid.plugin.initBlockClass({className:\"DownArrowBlock\",\nname:\"DownArrow\",defaultSize:{w:80,h:160},noSearch:!0,onInit:function(c){lucid.plugin.addBlockTextArea(c,{id:\"Text\",value:\"\",getBoundingBox:function(b){var a=.25*b.w;return{x:b.x+a,y:b.y,w:b.w-2*a,h:b.h-.25*(b.h>b.w?b.w:b.h)}}})},getLinkPoints:function(){return[]},getAnchorPoints:function(){return[{x:.5,y:0},{x:.5,y:1}]},getRenderData:function(c,b){var a=c.BoundingBox,e=.25*a.w,d=.5*(a.h>a.w?a.w:a.h);return[{FillColor:c.FillColor,StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:\"move\",\nx:a.x+e,y:a.y},{Action:\"line\",x:a.x+a.w-e,y:a.y},{Action:\"line\",x:a.x+a.w-e,y:a.y+a.h-d},{Action:\"line\",x:a.x+a.w,y:a.y+a.h-d},{Action:\"line\",x:a.x+a.w/2,y:a.y+a.h},{Action:\"line\",x:a.x,y:a.y+a.h-d},{Action:\"line\",x:a.x+e,y:a.y+a.h-d},{Action:\"close\"}]}]}});(function(){function c(a){return.3*1.5*Math.min(a.h,a.w)}function b(a,b,d,l,g,f){b||(b=lucid.plugin.getProperty(a,\"Side\"));d||(d=lucid.plugin.getProperty(a,\"Position\")/100);l||(l=lucid.plugin.getProperty(a,\"BoundingBox\"));g||c(l);f||(f=.2*l.w);\nvar h,n;a=f/2;switch(b){case 0:h=(l.w-f)*d+a;n=0;break;case 1:h=l.w;n=(l.h-f)*d+a;break;case 2:h=(l.w-f)*d+a;n=l.h;break;case 3:h=0,n=(l.h-f)*d+a}return{x:l.x+h,y:l.y+n}}lucid.plugin.initBlockClass({className:\"CalloutBlock\",name:\"Callout\",searchKeywords:\"shape tooltip infotip callout call out tip\".split(\" \"),defaultSize:{w:240,h:80},minWidth:120,minHeight:40,noSearch:!0,onInit:function(a){lucid.plugin.addBlockTextArea(a,{id:\"Tip\",value:\"Callout\",getBoundingBox:function(b){return x(b,function(a){return{x:a.x+\n.1*a.w,y:a.y+.1*a.h,w:.8*a.w,h:.8*a.h}},function(b){return{x:b.x,y:b.y,w:b.w,h:b.h,fitShape:lucid.plugin.getProperty(a,\"InsetMargin\")||0,hideOverflow:!0}})}});1<q()&&(lucid.plugin.registerProperty(a,\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(a,\"InsetMargin\",5));var b=lucid.plugin.getProperty(a,\"BoundingBox\");lucid.plugin.registerProperty(a,\"MinLayerPadding\",c(b));lucid.plugin.registerProperty(a,\"TailAngle\",-40);lucid.plugin.registerProperty(a,\"Side\",0);lucid.plugin.registerProperty(a,\"Position\",\n25)},getOffsetProperties:function(a,b,d){b=lucid.plugin.defaultOffsetProperties(a,b,d);d=c(b[a].BoundingBox);b[a].MinLayerPadding=d;return b},spatialControls:function(a){function e(c,e,g,f,h){var n=Array.prototype.splice.call(arguments);n.unshift(a);return b.apply(null,n)}if(lucid.plugin.getProperty(a,\"BoundingBox\"))return[{logAction:\"chart.viewport.selection.spatialControls.shapes.calloutTail\",location:function(){var a=e();return{x:a.x-5,y:a.y-5,w:10,h:10}},moved:function(b){var c=lucid.plugin.getProperty(a,\n\"BoundingBox\"),e=.2*c.w,f=e/2,h=0;b.x>=c.x+c.w?h=1:b.y>=c.y+c.h?h=2:b.x<=c.x&&(h=3);var n=0;switch(h){case 0:case 2:n=(b.x-c.x-f)/(c.w-e);break;case 1:case 3:n=(b.y-c.y-f)/(c.h-e)}n=Math.round(100*Math.min(1,Math.max(0,n)));45<n&&55>n&&(n=50);lucid.plugin.setPropertyIfChanged(a,\"Side\",h);lucid.plugin.setPropertyIfChanged(a,\"Position\",n)},path:function(){var b=lucid.plugin.getProperty(a,\"BoundingBox\");return[{x:b.x,y:b.y},{x:b.x+b.w,y:b.y},{x:b.x+b.w,y:b.y+b.h},{x:b.x,y:b.y+b.h},{x:b.x,y:b.y}]}},{location:function(){var d;\nd=lucid.plugin.getProperty(a,\"Side\");var e=lucid.plugin.getProperty(a,\"Position\")/100,g=lucid.plugin.getProperty(a,\"BoundingBox\"),f=c(g),h=.2*g.w,n=lucid.plugin.getProperty(a,\"TailAngle\"),p,m,q=h/2;switch(d){case 0:p=(g.w-h)*e+q;m=0-f;break;case 1:p=g.w+f;m=(g.h-h)*e+q;break;case 2:p=(g.w-h)*e+q;m=g.h+f;break;case 3:p=0-f,m=(g.h-h)*e+q}d=lucid.math.Point.rotate({x:g.x+p,y:g.y+m},b(a,d,e,g,f,h),Math.PI/180*n);return{x:d.x-5,y:d.y-5,w:10,h:10}},moved:function(b){var c=e();lucid.plugin.getProperty(a,\n\"BoundingBox\");var g=0;switch(lucid.plugin.getProperty(a,\"Side\")){case 0:g=-1*Math.atan2(c.x-b.x,c.y-b.y);break;case 1:g=Math.atan2(b.y-c.y,b.x-c.x);break;case 2:g=-1*Math.atan2(b.x-c.x,b.y-c.y);break;case 3:g=Math.atan2(c.y-b.y,c.x-b.x)}g=Math.round(180*g/Math.PI);80<g?g=80:-80>g?g=-80:-5<g&&5>g&&(g=0);lucid.plugin.setPropertyIfChanged(a,\"TailAngle\",g)}}]},getRenderData:function(a,e){function d(c,d,e,g,k){var n=b(a.id,a.Side,p,f,q,h);r.splice(c,d,e,lucid.math.Point.rotate(g,{x:n.x-f.x,y:n.y-f.y},\nMath.PI/180*m),k)}var f=a.BoundingBox,g=a.LineWidth,q=c(f),h=.2*f.w,n=h/2,p=a.Position/100,m=a.TailAngle||0,r=[{x:0,y:0},{x:f.w,y:0},{x:f.w,y:f.h},{x:0,y:f.h}];switch(a.Side){case 0:d(1,0,{x:(f.w-h)*p,y:0},{x:(f.w-h)*p+n,y:-q},{x:(f.w-h)*p+h,y:0});break;case 1:d(2,0,{x:f.w,y:(f.h-h)*p},{x:f.w+q,y:(f.h-h)*p+n},{x:f.w,y:(f.h-h)*p+h});break;case 2:d(3,0,{x:(f.w-h)*p+h,y:f.h},{x:(f.w-h)*p+n,y:f.h+q},{x:(f.w-h)*p,y:f.h});break;case 3:d(4,0,{x:0,y:(f.h-h)*p+h},{x:-q,y:(f.h-h)*p+n},{x:0,y:(f.h-h)*p})}var k=\n[];lucid.array.forEach(r,function(a,b){k.push({Action:0==b?\"move\":\"line\",x:f.x+a.x,y:f.y+a.y})});k.push({Action:\"close\"});return[{FillColor:a.FillColor,StrokeColor:a.LineColor,LineWidth:g,Actions:k}]}})})();lucid.plugin.initBlockClass({className:\"DogEarNoteBlock\",name:\"Dog Ear Note\",searchKeywords:[],defaultSize:{w:140,h:140},noSearch:!0,onInit:function(c){lucid.plugin.addBlockTextArea(c,{id:\"Text\",value:\"\",getBoundingBox:function(b){var a=.2*(b.h>b.w?b.w:b.h);return{x:b.x+.5*a,y:b.y,w:b.w-a,h:b.h-\n.5*a}}})},getLinkPoints:function(c){return[{x:.5,y:0},{x:1,y:.5},{x:.5,y:1},{x:0,y:.5}]},getRenderData:function(c,b){var a=c.BoundingBox,e=.2*(a.h>a.w?a.w:a.h),d=lucid.color.darken(c.FillColor,.3);return[{FillColor:c.FillColor,StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:\"move\",x:a.x,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y+a.h-e},{Action:\"line\",x:a.x+a.w-e,y:a.y+a.h},{Action:\"line\",x:a.x,y:a.y+a.h},{Action:\"close\"}]},{FillColor:d,StrokeColor:c.LineColor,\nLineWidth:c.LineWidth,Actions:[{Action:\"move\",x:a.x+a.w,y:a.y+a.h-e},{Action:\"line\",x:a.x+a.w-e,y:a.y+a.h},{Action:\"line\",x:a.x+a.w-.8*e,y:a.y+a.h-.8*e},{Action:\"close\"}]}]}})})();\n//# sourceMappingURL=/js/plugins/v2/source-maps/shapes.js.map"},{"name":"Tech Clipart","description":"Our tech clipart library will enhance network diagrams with a host of electronics shapes, like servers, printers, and monitors. Tech clipart can be added to any diagram type, including floor plans and BPMN diagrams.","public":1,"thumbnail_url":"https://d2slcw3kip6qmk.cloudfront.net/app/chart/plugins/tech-352x256.png","url":"/js/plugins/v2/techclipart.js","keywords":"printer,monitor,calculator,server,rack,copier,scanner,calculator,memory card reader,MP3 player,speaker,headset,LCD","group_name":"Networking","code":"(function(){function a(a,d,l,g,e,h){var c=l.split(\"/\"),c=c[c.length-1],c=c.split(\".\")[0].replace(/-/g,\"_\"),c=\"Image_\"+a.split(\" \")[0].toLowerCase()+\"_\"+c;lucid.plugin.initBlockClass({className:c,name:d,searchKeywords:h,defaultSize:{w:e,h:200},disabledPropertyControls:[\"FillColor\",\"FillType\",\"LineColor\",\"LineWidth\"],onInit:function(a){lucid.plugin.setProperty(a,\"TextAreaShowing\",!1,!0);lucid.plugin.addBlockTextArea(a,{id:\"Title\",value:\"\",getBoundingBox:function(a,b){return b?null:{x:a.x,y:a.y+a.h-\n20,w:a.w,h:20}}});lucid.plugin.hookPropertyPostSave(a,\"BoundingBox\",function(f,b){lucid.plugin.setProperty(a,\"bb\",b,!0)});lucid.plugin.hookPropertyPostSave(a,\"Title\",function(f,b){if(!lucid.plugin.isBlockBeingCreated(a)&&lucid.text.plainText(f)!=lucid.text.plainText(b))if(0==lucid.text.plainText(f).length){var c=lucid.object.copy(lucid.plugin.getProperty(a,\"bb\",!0));lucid.plugin.getProperty(a,\"AspectRatio\")||(c.h+=20);lucid.plugin.setProperty(a,\"BoundingBox\",c)&&lucid.plugin.setProperty(a,\"bb\",c,\n!0)}else 0==lucid.text.plainText(b).length&&(c=lucid.object.copy(lucid.plugin.getProperty(a,\"bb\",!0)),lucid.plugin.getProperty(a,\"AspectRatio\")||(c.h-=20),lucid.plugin.setProperty(a,\"BoundingBox\",c)&&lucid.plugin.setProperty(a,\"bb\",c,!0))})},onDblClick:function(a){lucid.plugin.editBlockTextArea(a,\"Title\")},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderData:function(a,c){var b;b=a.BoundingBox;b=\"sample\"!=c?0==lucid.text.plainText(lucid.plugin.getProperty(a.id,\n\"Title\")).length?b:{x:b.x,y:b.y,w:b.w,h:b.h-20}:b.w<b.h?{x:b.x,y:b.y,w:1*b.h,h:b.h}:{x:b.x,y:b.y,w:b.w,h:1*b.w};return[{FillColor:{url:\"sample\"==c?g:l,pos:\"fit\",bb:b},Actions:[{Action:\"move\",x:b.x,y:b.y},{Action:\"line\",x:b.x+b.w,y:b.y},{Action:\"line\",x:b.x+b.w,y:b.y+b.h},{Action:\"line\",x:b.x,y:b.y+b.h},{Action:\"close\"}]}]}});k[a].items.push(c)}var e={global:this,provide:function(a){a=a.split(\".\");e.global[a[0]]=e.global[a[0]]||{};var d=e.global[a[0]];a.slice(1).reduce(function(a,f){a[f]||(a[f]={});\nreturn a[f]},d)},require:function(){},inherits:function(a,d){function e(){}e.prototype=d.prototype;a.superClass_=d.prototype;a.prototype=new e;a.prototype.constructor=a;a.base=function(a,f,e){var c=Array.prototype.slice.call(arguments,2);return d.prototype[f].apply(a,c)}},base:function(a,d,k){var g=arguments.callee.caller;if(e.STRICT_MODE_COMPATIBLE||e.DEBUG&&!g)throw Error(\"arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C\");\nif(g.superClass_)return g.superClass_.constructor.apply(a,Array.prototype.slice.call(arguments,1));for(var m=Array.prototype.slice.call(arguments,2),h=!1,c=a.constructor;c;c=c.superClass_&&c.superClass_.constructor)if(c.prototype[d]===g)h=!0;else if(h)return c.prototype[d].apply(a,m);if(a[d]===g)return a.constructor.prototype[d].apply(a,m);throw Error(\"goog.base called from a method of one name to a method of a different name\");}};e.provide(\"plugin.techclipart\");var k={},k={Network:{displayName:i18n.get(\"plugin-techclipart-group-network\"),\nitems:[]},Electronics:{displayName:i18n.get(\"plugin-techclipart-group-electronics\"),items:[]},\"Audio Equipment\":{displayName:i18n.get(\"plugin-techclipart-group-audio-equipment\"),items:[]}};a(\"Network\",i18n.get(\"plugin-techclipart-shape-network-file-server\"),lucid.config.assets_base_url+\"/app/webroot/img/blocks/server_file.png\",lucid.config.assets_base_url+\"/app/webroot/img/blocks/server_file_thumb.png\",200);a(\"Network\",i18n.get(\"plugin-techclipart-shape-network-large-copier\"),lucid.config.assets_base_url+\n\"/app/webroot/img/blocks/copier_large.png\",lucid.config.assets_base_url+\"/app/webroot/img/blocks/copier_large_thumb.png\",200);a(\"Network\",i18n.get(\"plugin-techclipart-shape-network-large-format-printer\"),lucid.config.assets_base_url+\"/app/webroot/img/blocks/printer_largeformat.png\",lucid.config.assets_base_url+\"/app/webroot/img/blocks/printer_largeformat_thumb.png\",200);a(\"Network\",i18n.get(\"plugin-techclipart-shape-network-large-printer\"),lucid.config.assets_base_url+\"/app/webroot/img/blocks/printer_large.png\",\nlucid.config.assets_base_url+\"/app/webroot/img/blocks/printer_large_thumb.png\",200);a(\"Network\",i18n.get(\"plugin-techclipart-shape-network-large-raid-device\"),lucid.config.assets_base_url+\"/app/webroot/img/blocks/raid_large.png\",lucid.config.assets_base_url+\"/app/webroot/img/blocks/raid_large_thumb.png\",200);a(\"Network\",i18n.get(\"plugin-techclipart-shape-network-multipurpose-printer\"),lucid.config.assets_base_url+\"/app/webroot/img/blocks/printer_multipurpose.png\",lucid.config.assets_base_url+\"/app/webroot/img/blocks/printer_multipurpose_thumb.png\",\n200);a(\"Network\",i18n.get(\"plugin-techclipart-shape-network-net-server-large\"),lucid.config.assets_base_url+\"/app/webroot/img/blocks/server_net_large.png\",lucid.config.assets_base_url+\"/app/webroot/img/blocks/server_net_large_thumb.png\",200);a(\"Network\",i18n.get(\"plugin-techclipart-shape-network-net-server\"),lucid.config.assets_base_url+\"/app/webroot/img/blocks/server_net.png\",lucid.config.assets_base_url+\"/app/webroot/img/blocks/server_net_thumb.png\",200);a(\"Network\",i18n.get(\"plugin-techclipart-shape-network-raid-device\"),\nlucid.config.assets_base_url+\"/app/webroot/img/blocks/raid.png\",lucid.config.assets_base_url+\"/app/webroot/img/blocks/raid_thumb.png\",200);a(\"Network\",i18n.get(\"plugin-techclipart-shape-network-router\"),lucid.config.assets_base_url+\"/app/webroot/img/blocks/router.png\",lucid.config.assets_base_url+\"/app/webroot/img/blocks/router_thumb.png\",200);a(\"Network\",i18n.get(\"plugin-techclipart-shape-network-server-rack\"),lucid.config.assets_base_url+\"/app/webroot/img/blocks/rack_server.png\",lucid.config.assets_base_url+\n\"/app/webroot/img/blocks/rack_server_thumb.png\",300);a(\"Network\",i18n.get(\"plugin-techclipart-shape-network-server\"),lucid.config.assets_base_url+\"/app/webroot/img/blocks/server.png\",lucid.config.assets_base_url+\"/app/webroot/img/blocks/server_thumb.png\",200);a(\"Network\",i18n.get(\"plugin-techclipart-shape-network-small-copier\"),lucid.config.assets_base_url+\"/app/webroot/img/blocks/copier_small.png\",lucid.config.assets_base_url+\"/app/webroot/img/blocks/copier_small_thumb.png\",200);a(\"Network\",i18n.get(\"plugin-techclipart-shape-network-small-printer\"),\nlucid.config.assets_base_url+\"/app/webroot/img/blocks/printer_small.png\",lucid.config.assets_base_url+\"/app/webroot/img/blocks/printer_small_thumb.png\",200);a(\"Network\",i18n.get(\"plugin-techclipart-shape-network-tape-backup-rack\"),lucid.config.assets_base_url+\"/app/webroot/img/blocks/rack_tape.png\",lucid.config.assets_base_url+\"/app/webroot/img/blocks/rack_tape_thumb.png\",300);a(\"Network\",i18n.get(\"plugin-techclipart-shape-network-ups\"),lucid.config.assets_base_url+\"/app/webroot/img/blocks/ups.png\",\nlucid.config.assets_base_url+\"/app/webroot/img/blocks/ups_thumb.png\",200);a(\"Network\",i18n.get(\"plugin-techclipart-shape-network-wireless-router\"),lucid.config.assets_base_url+\"/app/webroot/img/blocks/router_wireless.png\",lucid.config.assets_base_url+\"/app/webroot/img/blocks/router_wireless_thumb.png\",200);a(\"Electronics\",i18n.get(\"plugin-techclipart-shape-electronics-2-0-speakers\"),lucid.config.assets_base_url+\"/app/webroot/img/blocks/speakers_2.png\",lucid.config.assets_base_url+\"/app/webroot/img/blocks/speakers_2_thumb.png\",\n200);a(\"Electronics\",i18n.get(\"plugin-techclipart-shape-electronics-2-1-speakers\"),lucid.config.assets_base_url+\"/app/webroot/img/blocks/speakers_2-1.png\",lucid.config.assets_base_url+\"/app/webroot/img/blocks/speakers_2-1_thumb.png\",200);a(\"Electronics\",i18n.get(\"plugin-techclipart-shape-electronics-5-1-speakers\"),lucid.config.assets_base_url+\"/app/webroot/img/blocks/speakers_5-1.png\",lucid.config.assets_base_url+\"/app/webroot/img/blocks/speakers_5-1_thumb.png\",200);a(\"Electronics\",i18n.get(\"plugin-techclipart-shape-electronics-calculator\"),\nlucid.config.assets_base_url+\"/app/webroot/img/blocks/calculator_simple.png\",lucid.config.assets_base_url+\"/app/webroot/img/blocks/calculator_simple_thumb.png\",200);a(\"Electronics\",i18n.get(\"plugin-techclipart-shape-electronics-camcorder\"),lucid.config.assets_base_url+\"/app/webroot/img/blocks/camcorder.png\",lucid.config.assets_base_url+\"/app/webroot/img/blocks/camcorder_thumb.png\",200);a(\"Electronics\",i18n.get(\"plugin-techclipart-shape-electronics-external-drive-firewire\"),lucid.config.assets_base_url+\n\"/app/webroot/img/blocks/drive_firewire.png\",lucid.config.assets_base_url+\"/app/webroot/img/blocks/drive_firewire_thumb.png\",200);a(\"Electronics\",i18n.get(\"plugin-techclipart-shape-electronics-external-drive-usb\"),lucid.config.assets_base_url+\"/app/webroot/img/blocks/drive_usb.png\",lucid.config.assets_base_url+\"/app/webroot/img/blocks/drive_usb_thumb.png\",200);a(\"Electronics\",i18n.get(\"plugin-techclipart-shape-electronics-external-modem\"),lucid.config.assets_base_url+\"/app/webroot/img/blocks/modem_external.png\",\nlucid.config.assets_base_url+\"/app/webroot/img/blocks/modem_external_thumb.png\",200);a(\"Electronics\",i18n.get(\"plugin-techclipart-shape-electronics-external-sound-card-box\"),lucid.config.assets_base_url+\"/app/webroot/img/blocks/sound_box.png\",lucid.config.assets_base_url+\"/app/webroot/img/blocks/sound_box_thumb.png\",200);a(\"Electronics\",i18n.get(\"plugin-techclipart-shape-electronics-external-tv-tuner\"),lucid.config.assets_base_url+\"/app/webroot/img/blocks/tv_tuner_external.png\",lucid.config.assets_base_url+\n\"/app/webroot/img/blocks/tv_tuner_external_thumb.png\",200);a(\"Electronics\",i18n.get(\"plugin-techclipart-shape-electronics-flatbed-scanner\"),lucid.config.assets_base_url+\"/app/webroot/img/blocks/scanner_flatbed.png\",lucid.config.assets_base_url+\"/app/webroot/img/blocks/scanner_flatbed_thumb.png\",200);a(\"Electronics\",i18n.get(\"plugin-techclipart-shape-electronics-headset\"),lucid.config.assets_base_url+\"/app/webroot/img/blocks/headset.png\",lucid.config.assets_base_url+\"/app/webroot/img/blocks/headset_thumb.png\",\n200);a(\"Electronics\",i18n.get(\"plugin-techclipart-shape-electronics-lcd-monitor\"),lucid.config.assets_base_url+\"/app/webroot/img/blocks/lcd.png\",lucid.config.assets_base_url+\"/app/webroot/img/blocks/lcd_thumb.png\",200);a(\"Electronics\",i18n.get(\"plugin-techclipart-shape-electronics-memory-card-reader\"),lucid.config.assets_base_url+\"/app/webroot/img/blocks/drive_cardreader.png\",lucid.config.assets_base_url+\"/app/webroot/img/blocks/drive_cardreader_thumb.png\",200);a(\"Electronics\",i18n.get(\"plugin-techclipart-shape-electronics-mp3-player\"),\nlucid.config.assets_base_url+\"/app/webroot/img/blocks/mp3.png\",lucid.config.assets_base_url+\"/app/webroot/img/blocks/mp3_thumb.png\",200);a(\"Electronics\",i18n.get(\"plugin-techclipart-shape-electronics-pda\"),lucid.config.assets_base_url+\"/app/webroot/img/blocks/pda.png\",lucid.config.assets_base_url+\"/app/webroot/img/blocks/pda_thumb.png\",200);a(\"Electronics\",i18n.get(\"plugin-techclipart-shape-electronics-photo-printer\"),lucid.config.assets_base_url+\"/app/webroot/img/blocks/printer_photo.png\",lucid.config.assets_base_url+\n\"/app/webroot/img/blocks/printer_photo_thumb.png\",200);a(\"Electronics\",i18n.get(\"plugin-techclipart-shape-electronics-photo-scanner\"),lucid.config.assets_base_url+\"/app/webroot/img/blocks/scanner_photo.png\",lucid.config.assets_base_url+\"/app/webroot/img/blocks/scanner_photo_thumb.png\",200);a(\"Electronics\",i18n.get(\"plugin-techclipart-shape-electronics-projector\"),lucid.config.assets_base_url+\"/app/webroot/img/blocks/projector.png\",lucid.config.assets_base_url+\"/app/webroot/img/blocks/projector_thumb.png\",\n200);a(\"Electronics\",i18n.get(\"plugin-techclipart-shape-electronics-slide-scanner\"),lucid.config.assets_base_url+\"/app/webroot/img/blocks/scanner_slide.png\",lucid.config.assets_base_url+\"/app/webroot/img/blocks/scanner_slide_thumb.png\",200);a(\"Electronics\",i18n.get(\"plugin-techclipart-shape-electronics-wide-screen-lcd\"),lucid.config.assets_base_url+\"/app/webroot/img/blocks/lcd_wide.png\",lucid.config.assets_base_url+\"/app/webroot/img/blocks/lcd_wide_thumb.png\",200);a(\"Audio Equipment\",i18n.get(\"plugin-techclipart-shape-audioequipment-2-0-speakers\"),\nlucid.config.assets_base_url+\"/app/webroot/img/blocks/speakers_2.png\",lucid.config.assets_base_url+\"/app/webroot/img/blocks/speakers_2_thumb.png\",200);a(\"Audio Equipment\",i18n.get(\"plugin-techclipart-shape-audioequipment-2-1-speakers\"),lucid.config.assets_base_url+\"/app/webroot/img/blocks/speakers_2-1.png\",lucid.config.assets_base_url+\"/app/webroot/img/blocks/speakers_2-1_thumb.png\",200);a(\"Audio Equipment\",i18n.get(\"plugin-techclipart-shape-audioequipment-5-1-speakers\"),lucid.config.assets_base_url+\n\"/app/webroot/img/blocks/speakers_5-1.png\",lucid.config.assets_base_url+\"/app/webroot/img/blocks/speakers_5-1_thumb.png\",200);a(\"Audio Equipment\",i18n.get(\"plugin-techclipart-shape-audioequipment-headset\"),lucid.config.assets_base_url+\"/app/webroot/img/blocks/headset.png\",lucid.config.assets_base_url+\"/app/webroot/img/blocks/headset_thumb.png\",200);a(\"Audio Equipment\",i18n.get(\"plugin-techclipart-shape-audioequipment-record-player\"),lucid.config.assets_base_url+\"/app/webroot/img/blocks/record_player.png\",\nlucid.config.assets_base_url+\"/app/webroot/img/blocks/record_player_thumb.png\",200);lucid.plugin.createToolGroups(k)})();\n//# sourceMappingURL=/js/plugins/v2/source-maps/techclipart.js.map"},{"name":"UML","description":"UML is a standard language for modeling object-based software. Use our Unified Modeling Language shapes and connectors to draw state diagrams, activity diagrams, use case diagrams, and more.","public":1,"thumbnail_url":"https://d2slcw3kip6qmk.cloudfront.net/app/chart/plugins/uml-352x363.png","url":"/js/plugins/v2/uml.js","keywords":"UML,Unified,Modeling,Language,use case,class,activity,component,deployment,ERD","group_name":"Software","code":"(function(){function v(b,c,a){return{Action:\"line\",x:b.x+b.w*c,y:b.y+b.h*a}}function y(b,c){return{Action:\"line\",x:b,y:c}}function r(b,c,a){return{Action:\"move\",x:b.x+b.w*c,y:b.y+b.h*a}}function V(b,c){return{Action:\"move\",x:b,y:c}}function X(b,c,a,d,g,e,m){return{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(b.x+b.w*c,b.y+b.h*a,d*b.w,g*b.h,e*Math.PI,m*Math.PI)}}function H(){return{Action:\"close\"}}function B(){return lucid.plugin.getProperty(null,\"Version\")||0}function F(b,c,a){return 1<\nB()?a(b):c(b)}function tb(b,c){for(var a=lucid.plugin.getProperty(b,\"Rows\"),d=lucid.plugin.getProperty(b,\"BoundingBox\");c!=a.length;)c<a.length?(d.h-=a[a.length-1].height,a=a.slice(0,a.length-1)):c>a.length&&(d.h+=a[a.length-1].height,a.push({id:a.length,height:a[a.length-1].height}));lucid.plugin.setProperty(b,\"Rows\",a);lucid.plugin.setProperty(b,\"BoundingBox\",d)}function Pa(b,c){for(var a=lucid.plugin.getProperty(b,\"Columns\"),d=lucid.plugin.getProperty(b,\"BoundingBox\");c!=a.length;)c<a.length?(d.w-=\na[a.length-1].width,a=a.slice(0,a.length-1)):c>a.length&&(d.w+=a[a.length-1].width,a.push({id:a.length,width:a[a.length-1].width}));lucid.plugin.setProperty(b,\"Columns\",a);lucid.plugin.setProperty(b,\"BoundingBox\",d)}function ub(b){lucid.plugin.registerStepperControl(b?\"UMLMultiLanePoolRotatedBlock\":\"UMLMultiLanePoolBlock\",\"LaneCount\",function(){return 1},function(){return 1},function(){return 50});lucid.plugin.registerStringSelectControl(b?\"UMLMultiLanePoolRotatedBlock\":\"UMLMultiLanePoolBlock\",\"Orientation\",\nplugin.common.Swimlane.getOrientationOptions);return{className:b?\"UMLMultiLanePoolRotatedBlock\":\"UMLMultiLanePoolBlock\",name:i18n.get(\"plugin-uml-multi-swimlane\"),defaultSize:{w:640,h:700},container:!0,disabledPropertyControls:[\"FlipX\",\"FlipY\"],rLock:!0,hLock:!0,vLock:!0,searchKeywords:i18n.get(\"plugin-uml-multi-swimlane-search-keywords\"),beforeCreate:function(b,a){return plugin.common.Swimlane.beforeCreate.bind(this)(b,a,[\"UMLMultiLanePoolBlock\",\"UMLMultiLanePoolRotatedBlock\"])},getLinkPoints:function(b){return plugin.common.Swimlane.getLinkPoints.bind(this)(b)},\nspatialControls:function(b){return plugin.common.Swimlane.spatialControls.bind(this)(b,!0)},onCreate:function(b){Qa||(lucid.plugin.openPanel(\"plugin\"),Qa=!0);lucid.plugin.editBlockTextArea(b,\"MainText\")},onInit:function(c){var a=40,d=null,g=function(a,b){return plugin.common.Swimlane.setOrientation.bind(this)(c,a,b)},e=function(b){lucid.plugin.getProperty(c,\"Vertical\");var e=lucid.plugin.getProperty(c,\"BoundingBox\"),g=lucid.plugin.getProperty(c,\"titleHeight\",!0),m=lucid.plugin.getProperty(c,\"mainTitleHeight\",\n!0),h,A=e.h/3,w=!1;a=40;h={x:0,y:0,w:e.w,h:1E4};h=lucid.text.getSize(c,\"MainText\",h);h=Math.min(A,Math.round(Math.max(a,h.h+15)));h!=m&&(lucid.plugin.setProperty(c,\"mainTitleHeight\",h,!0),w=!0);for(m=0;m<b.length;m++)h={x:0,y:0,w:e.w*b[m].p,h:1E4},h=lucid.text.getSize(c,\"Lane_\"+b[m].tid,h),a=Math.min(A,Math.round(Math.max(a,h.h+15)));d=lucid.text.getStyle(c,\"Lane_\"+b[b.length-1].tid);a!=g&&(lucid.plugin.setProperty(c,\"titleHeight\",a,!0),w=!0);w&&lucid.plugin.refreshBlockView(c)};lucid.plugin.addBlockTextArea(c,\n{id:\"MainText\",value:lucid.text.restyle(i18n.get(\"plugin-uml-multi-swimlane-main-text\"),d),getBoundingBox:function(a,b){var d=lucid.plugin.getProperty(c,\"Lanes\");e(d);lucid.plugin.getProperty(c,\"Vertical\");return{x:a.x,y:a.y,w:a.w,h:lucid.plugin.getProperty(c,\"mainTitleHeight\",!0)}}});var m=function(a){lucid.plugin.getBlockTextAreas(c);lucid.plugin.addBlockTextArea(c,{id:\"Lane_\"+a,value:lucid.text.restyle(i18n.get(\"plugin-uml-multi-swimlane-lane-text\"),d),getBoundingBox:function(a){return function(b){var d=\nlucid.plugin.getProperty(c,\"Lanes\");e(d);var g;for(g=0;g<d.length&&d[g].tid!==a;g++);if(g>=d.length)return null;var l=0;if(lucid.plugin.getProperty(c,\"Vertical\"))for(var m=0;m<g;m++)l+=b.w*d[m].p;else for(m=d.length-1;m>g;m--)l+=b.w*d[m].p;return{x:b.x+l,y:b.y+lucid.plugin.getProperty(c,\"mainTitleHeight\",!0),w:b.w*d[g].p,h:lucid.plugin.getProperty(c,\"titleHeight\",!0)}}}(a)})};lucid.plugin.registerProperty(c,\"Lanes\",[{p:.5,tid:0},{p:.5,tid:1}],null,function(a,b){if(a!=b){var d=lucid.plugin.getBlockTextAreas(c),\ng=d.indexOf(\"MainText\");0<=g&&d.splice(g,1);for(var h=[\"MainText\"],A=0;A<b.length;A++){var w=\"Lane_\"+b[A].tid,g=d.indexOf(w);0>g?m(b[A].tid):d.splice(g,1);h.push(w)}for(A=0;A<d.length;A++)lucid.plugin.deleteBlockTextArea(c,d[A]);lucid.plugin.setBlockTextAreasOrder(c,h);e(b)}});lucid.plugin.registerProperty(c,\"Vertical\",b?0:1,null,function(a,b){a!=b&&g(a,b)});lucid.plugin.registerProxyProperty(c,\"LaneCount\",plugin.common.Swimlane.getLaneCountOfSwimLaneBlock.bind(null,c),plugin.common.Swimlane.setLaneCountOfSwimLaneBlock.bind(null,\nc,!0));lucid.plugin.registerProxyProperty(c,\"Orientation\",plugin.common.Swimlane.getOrientationOfSwimLaneBlock.bind(null,c),plugin.common.Swimlane.setOrientationOfSwimLaneBlock.bind(null,c,!1));lucid.plugin.hookPropertyPostSave(c,\"Lanes\",function(){lucid.plugin.proxyPropertyChanged(c,\"LaneCount\")});lucid.plugin.hookPropertyPostSave(c,\"Vertical\",function(){lucid.plugin.proxyPropertyChanged(c,\"Orientation\")})},getRenderData:function(b,a){var d=b.Lanes,g=b.Vertical||!1,e=b.BoundingBox,m=b.mainTitleHeight||\n40,l=b.titleHeight||40;if(40>e.h||\"sample\"==a)m=e.h/5,l=e.h/5;var n=[{FillColor:b.FillColor,Actions:[r(e,0,0),v(e,1,0),y(e.x+e.w,e.y+m+l),y(e.x,e.y+m+l),H()]},{FillColor:b.FillColor,NoRounding:!0,Actions:[V(e.x,e.y+m),y(e.x+e.w,e.y+m),y(e.x+e.w,e.y+m+l),y(e.x,e.y+m+l),H()]},{StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[V(e.x,e.y+m),y(e.x+e.w,e.y+m),V(e.x,e.y+m+l),y(e.x+e.w,e.y+m+l)]},{StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[r(e,1,0),v(e,1,1),v(e,0,1),v(e,0,0),H()]}],l=function(a){n[2].Actions.push({Action:\"move\",\nx:a.x,y:a.y+m});n[2].Actions.push({Action:\"line\",x:a.x,y:a.y+a.h})},p=e.w;if(g)for(g=0;g<d.length;g++)e.w=p*d[g].p,0<g&&l(e),e.x+=p*d[g].p;else for(g=d.length-1;0<=g;g--)e.w=p*d[g].p,g<d.length-1&&l(e),e.x+=p*d[g].p;return n}}}function ya(b){var c,a=b?lucid.plugin.getProperty(b,\"Markup\").UML_Sequence:vb;lucid.dialog.textAreaPrompt({children:[i18n.get(\"plugin-uml-sequence-markup-dialog-explanation\",{},['<a href=\"https://lucidchart.zendesk.com/hc/en-us/articles/208029986\" target=\"_blank\">{}</a>']),\n{classes:\"spacer\"},{css:{color:\"red\"},create:function(a){c=a}}]},a,function(a){if(a=Ra(b,a))return $(c).text(a.message),!1;$(c).text(\"\");return!0},void 0,void 0,i18n.get(\"plugin-uml-sequence-markup-dialog-title\"));lucid.kissMetrics.record(lucid.kissMetrics.Events.openedUMLSequenceMarkupDialog)}function aa(b){return lucid.plugin.getProperty(b,\"Markup\")}function Ra(b,c){lucid.hubspot.recordEvent(\"uml-markup-used\");lucid.kissMetrics.record(lucid.kissMetrics.Events.umlMarkupUsed);var a;a=c?c:b?aa(b).UML_Sequence:\nvb;for(lucid.kissMetrics.record(lucid.kissMetrics.Events.generatedUMLSequenceMarkupDiagram);-1!==a.indexOf(\"/'\");){var d=a.indexOf(\"/'\"),g=a.indexOf(\"'/\",d+2);a=Fa(a,d,g,\"'/\")}for(;-1!==a.indexOf(\"\\n'\");)d=a.indexOf(\"\\n'\"),g=a.indexOf(\"\\n\",d+2),a=Fa(a,d,g,\"\\n\");\"'\"==a.charAt(0)&&(g=a.indexOf(\"\\n\"),a=Fa(a,0,g,\"\\n\"));c=a;a=plugin.uml.sequence.Parser.parse(c);if(a instanceof plugin.uml.sequence.Parser.ParseSuccess){a=ec(a.diagram);lucid.plugin.setProperty(a,\"Markup\",{UML_Sequence:c});lucid.plugin.deselectAllItems();\nlucid.plugin.selectItem(a);g={x:100,y:100,w:0,h:0};void 0!==b&&(g=lucid.plugin.getGroupBoundingBox(b),lucid.plugin.deleteItem(b));d=lucid.plugin.getGroupBoundingBox(a);g=lucid.math.Box.subtract(g,d);g.w=0;g.h=0;a=lucid.plugin.getOffsetProperties(a,d,g,{top:!1,left:!1,bottom:!1,right:!1},null);for(var e in a){var d=a[e],m;for(m in d)lucid.plugin.setProperty(e,m,d[m])}lucid.config.showsequencemarkup&&lucid.qualaroo.showSurvey(\"sequence_markup\",!1);return null}e=a.getErrorMessage();m=a.getErrorLine();\nreturn{message:e,lineNum:m}}function Sa(b,c){if(lucid.user.getRestrictions(\"UMLMarkup\")){if(b&&1==b.length&&aa(b[0].getId()))return Ra(b[0].getId(),c);if(!b||1!=b.length)return Ra(void 0,c)}else wb()}function Ta(b,c,a){if(b&&!aa(b))return!0;lucid.user.getRestrictions(\"UMLMarkup\")?ya(b,c):wb();return!1}function wb(){lucid.hubspot.recordEvent(\"uml-markup-editor-paywall\");lucid.kissMetrics.record(lucid.kissMetrics.Events.umlMarkupEditorPaywall);lucid.paywall.displayPremiumFeaturePaywall(\"UMLMarkup\")}\nfunction Fa(b,c,a,d){if(-1<a){var g=b.substring(0,c);c=b.substring(c,a+d.length);b=b.substring(a+d.length);return g+c.replace(/[^\\r\\n]/g,\" \")+b}g=b.substring(0,c);c=b.substring(c);return g+c.replace(/[^\\r\\n]/g,\" \")}function ec(b){var c=lucid.plugin.getPageSelection()[0],a=b.getParticipantWidths(function(a){var b=new plugin.uml.sequence.view.Message(a);return a.isSelfMessage()?b.rightPadding:b.textWidth}),a=fc(c,b.participants,a,b.totalDepth);b=Ga(c,b,a);var d=[],g;for(g in a){var e=a[g];d.push(e.topBlockId);\nd.push(e.bottomBlockId);d.push(e.line.id)}g=d.concat(b);return lucid.plugin.addGroup(c,g)}function fc(b,c,a,d){var g=plugin.uml.sequence.model.size,e=g.participantSize,m=g.padding,l={};d=m.y+e.h+m.segmentHeight*(g.verticalSegments+d);for(var n=m.x,p=0;p<c.length;p++){var h=c[p],t=h.name,A=h.displayName,h=Math.max(e.w+m.w,a[t]),w=lucid.plugin.addBlock(b,{className:\"UMLObjectBlock\",BoundingBox:{x:n,y:m.y,w:e.w,h:e.h},Text:A}),A=lucid.plugin.addBlock(b,{className:\"UMLObjectBlock\",BoundingBox:{x:n,y:d,\nw:e.w,h:e.h},Text:A}),w=lucid.plugin.addLine(b,{Endpoint1:{Block:w,LinkX:.5,LinkY:1,Style:\"None\"},Endpoint2:{Block:A,LinkX:.5,LinkY:0,Style:\"None\"},StrokeStyle:\"dashed\",Shape:\"elbow\"});l[t]=new plugin.uml.sequence.view.ParticipantLifeline(t,w,p,p<c.length-1?h:a[t]+g.participantLinePadding);n+=h}return l}function Ga(b,c,a){var d=c.totalDepth+plugin.uml.sequence.model.size.verticalSegments,g;plugin.uml.sequence.view.ParticipantLifeline.addActivationEventsToLifelines(c,a,0,d);g=[];for(var e in a)g=g.concat(a[e].renderLifelineBlocks(b));\nxb(c,a);b=za(b,c,a,0,d,c.participantSet);return g.concat(b)}function xb(b,c){for(var a=plugin.uml.sequence.model.size.participantLinePadding,d=[],g=0;g<b.getActionCount();g++){var e=b.get(g);e instanceof plugin.uml.sequence.model.SubDiagram&&(xb(e,c),d.push(e))}if(b instanceof plugin.uml.sequence.model.SubDiagram){var g=lucid.object.getKeys(b.participantSet),e=plugin.uml.sequence.view.ParticipantLifeline.getParticipantsInOrder(g,c),g=e[0],e=e[e.length-1],m=function(){return function(){return null}};\nif(void 0!==g){var l;g==e?(l=c[g].line,e=lucid.object.copy(l),e.x+=c[g].width):(l=c[g].line,e=c[e].line);var n=l.x-a,p=e.x+a,m=function(){var a=null;return function(e,g){var m=0,h=0;if(void 0!==e&&void 0!==g)var h=b.getTopDepth(e),W=b.getBottomDepth(e),m=l.yTop+(l.yBot-l.yTop)*h/g,h=(l.yBot-l.yTop)*(W-h)/g;if(!a){for(var x=d.map(function(a){return a.getBoundingBox(e,g)}).filter(function(a){return null!==a}),W=x.map(function(a){return a.x-10}),x=x.map(function(a){return a.x+a.w+10}),D=b.getActionCount(),\nv=0;v<D;v++){var r=b.get(v);if(r instanceof plugin.uml.sequence.model.Message){var J=(new plugin.uml.sequence.view.Message(r)).getBoundingBox(c,e,g),r=plugin.uml.sequence.view.Note.horizontalPadding/2;W.push(J.x-r);x.push(J.x+J.w+r)}else if(r instanceof plugin.uml.sequence.model.Note){var J=r,y;J instanceof plugin.uml.sequence.model.LeftBlockNote?y=new plugin.uml.sequence.view.LeftBlockNote(J,c):J instanceof plugin.uml.sequence.model.RightBlockNote?y=new plugin.uml.sequence.view.RightBlockNote(J,\nc):r instanceof plugin.uml.sequence.model.OverNote&&(y=new plugin.uml.sequence.view.OverBlockNote(J,c));r=plugin.uml.sequence.view.Note.horizontalPadding/2;J=y.getBoundingBox(e,g);W.push(J.x-r);x.push(J.x+J.w+r)}}W.unshift(n);x.unshift(p);y=Math.min.apply(null,W);W=Math.max.apply(null,x);a={x:y,w:W-y}}return{x:a.x,y:m,w:a.w,h:h}}}}b.getBoundingBox=m()}}function za(b,c,a,d,g,e){for(var m=[],l=0;l<c.getActionCount();l++){var n=c.get(l);if(n instanceof plugin.uml.sequence.model.Message){var p=(new plugin.uml.sequence.view.Message(n)).render(b,\na,d,g);d+=n.height;m=m.concat(p)}else if(n instanceof plugin.uml.sequence.model.MessageGroup){if(p=n,n=p.getBoundingBox(d,g),null!==n){var h=lucid.plugin.addBlock(b,{className:\"UMLOptionLoopBlock\",BoundingBox:n,Title:p.type,Text:p.label?p.label:\"\"}),n=za(b,p,a,p.getDepthBelowLabel(d),g,e);m.push(h);Array.prototype.push.apply(m,n);d+=p.height}}else if(n instanceof plugin.uml.sequence.model.AltGroup)p=n,n=p.getBoundingBox(d,g),null!==n&&(h=lucid.plugin.addBlock(b,{className:\"UMLAlternativeBlock2\",BoundingBox:n,\nBoundaries:p.boundaries,Condition:p.condition||\"\"}),n=za(b,p,a,p.getDepthBelowLabel(d),g,e),m.push(h),Array.prototype.push.apply(m,n),d+=p.height);else if(n instanceof plugin.uml.sequence.model.ElseGroup)p=n,n=za(b,p,a,p.getDepthBelowLabel(d),g,e),Array.prototype.push.apply(m,n),d+=p.height;else if(n instanceof plugin.uml.sequence.model.ActivationGroup)d+=n.height;else if(n instanceof plugin.uml.sequence.model.Note&&!(n instanceof plugin.uml.sequence.model.InlineNote)){var p=n,t;p instanceof plugin.uml.sequence.model.LeftBlockNote?\nt=new plugin.uml.sequence.view.LeftBlockNote(p,a):p instanceof plugin.uml.sequence.model.RightBlockNote?t=new plugin.uml.sequence.view.RightBlockNote(p,a):n instanceof plugin.uml.sequence.model.OverNote&&(t=new plugin.uml.sequence.view.OverBlockNote(p,a));m.push(t.render(b,d,g));d+=p.height}d+=c.depthBetweenActions}return m}var h={global:this,provide:function(b){b=b.split(\".\");h.global[b[0]]=h.global[b[0]]||{};var c=h.global[b[0]];b.slice(1).reduce(function(a,b){a[b]||(a[b]={});return a[b]},c)},require:function(){},\ninherits:function(b,c){function a(){}a.prototype=c.prototype;b.superClass_=c.prototype;b.prototype=new a;b.prototype.constructor=b;b.base=function(a,b,e){var m=Array.prototype.slice.call(arguments,2);return c.prototype[b].apply(a,m)}},base:function(b,c,a){var d=arguments.callee.caller;if(h.STRICT_MODE_COMPATIBLE||h.DEBUG&&!d)throw Error(\"arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C\");if(d.superClass_)return d.superClass_.constructor.apply(b,\nArray.prototype.slice.call(arguments,1));for(var g=Array.prototype.slice.call(arguments,2),e=!1,m=b.constructor;m;m=m.superClass_&&m.superClass_.constructor)if(m.prototype[c]===d)e=!0;else if(e)return m.prototype[c].apply(b,g);if(b[c]===d)return b.constructor.prototype[c].apply(b,g);throw Error(\"goog.base called from a method of one name to a method of a different name\");}};h.provide(\"plugin.uml.Label\");plugin.uml.Label.processMessageGroupLabel=function(b){return null!==b&&(b=plugin.uml.Label.parseNewlines(b).trim(),\n0<b.length)?b:null};plugin.uml.Label.parseNewlines=function(b){return b.replace(/\\\\n/g,\"\\n\")};h.provide(\"plugin.uml.sequence.model.size\");plugin.uml.sequence.model.size=function(){var b={w:120,h:100};return{participantSize:b,verticalSegments:4,padding:{x:40,y:40,w:b.w,h:40,segmentHeight:10},participantLinePadding:30}}();h.provide(\"plugin.uml.sequence.model.Action\");plugin.uml.sequence.model.Action=function(){};h.provide(\"plugin.uml.sequence.model.BlockNote\");h.provide(\"plugin.uml.sequence.model.InlineNote\");\nh.provide(\"plugin.uml.sequence.model.LeftBlockNote\");h.provide(\"plugin.uml.sequence.model.LeftInlineNote\");h.provide(\"plugin.uml.sequence.model.Note\");h.provide(\"plugin.uml.sequence.model.NoteArrangement\");h.provide(\"plugin.uml.sequence.model.NotePosition\");h.provide(\"plugin.uml.sequence.model.OverNote\");h.provide(\"plugin.uml.sequence.model.RightBlockNote\");h.provide(\"plugin.uml.sequence.model.RightInlineNote\");h.provide(\"plugin.uml.sequence.model.SideNote\");h.require(\"plugin.uml.Label\");h.require(\"plugin.uml.sequence.model.Action\");\nh.require(\"plugin.uml.sequence.model.size\");plugin.uml.sequence.model.NoteArrangement={Inline:0,Block:1};plugin.uml.sequence.model.NotePosition={Left:0,Right:1,Over:2};plugin.uml.sequence.model.Note=function(b,c,a){this.label=plugin.uml.Label.parseNewlines(b).trim();this.arrangement=a;this.height=plugin.uml.sequence.model.Note.paddingAbove+this.label.split(\"\\n\").length*plugin.uml.sequence.model.Note.lineHeight+plugin.uml.sequence.model.Note.innerPadding};plugin.uml.sequence.model.Note.innerPadding=\nplugin.uml.sequence.model.size.verticalSegments;plugin.uml.sequence.model.Note.paddingAbove=.5*plugin.uml.sequence.model.size.verticalSegments;plugin.uml.sequence.model.Note.lineHeight=.5*plugin.uml.sequence.model.size.verticalSegments;plugin.uml.sequence.model.SideNote=function(b,c,a){plugin.uml.sequence.model.Note.call(this,b,c,a)};h.inherits(plugin.uml.sequence.model.SideNote,plugin.uml.sequence.model.Note);plugin.uml.sequence.model.InlineNote=function(b,c){plugin.uml.sequence.model.SideNote.call(this,\nb,c,plugin.uml.sequence.model.NoteArrangement.Inline)};h.inherits(plugin.uml.sequence.model.InlineNote,plugin.uml.sequence.model.SideNote);plugin.uml.sequence.model.LeftInlineNote=function(b){plugin.uml.sequence.model.InlineNote.call(this,b,plugin.uml.sequence.model.NotePosition.Left)};h.inherits(plugin.uml.sequence.model.LeftInlineNote,plugin.uml.sequence.model.InlineNote);plugin.uml.sequence.model.RightInlineNote=function(b){plugin.uml.sequence.model.InlineNote.call(this,b,plugin.uml.sequence.model.NotePosition.Right)};\nh.inherits(plugin.uml.sequence.model.RightInlineNote,plugin.uml.sequence.model.InlineNote);plugin.uml.sequence.model.BlockNote=function(b,c,a){plugin.uml.sequence.model.SideNote.call(this,b,c,plugin.uml.sequence.model.NoteArrangement.Block);this.participant=a};h.inherits(plugin.uml.sequence.model.BlockNote,plugin.uml.sequence.model.SideNote);plugin.uml.sequence.model.LeftBlockNote=function(b,c){plugin.uml.sequence.model.BlockNote.call(this,b,plugin.uml.sequence.model.NotePosition.Left,c)};h.inherits(plugin.uml.sequence.model.LeftBlockNote,\nplugin.uml.sequence.model.BlockNote);plugin.uml.sequence.model.RightBlockNote=function(b,c){plugin.uml.sequence.model.BlockNote.call(this,b,plugin.uml.sequence.model.NotePosition.Right,c)};h.inherits(plugin.uml.sequence.model.RightBlockNote,plugin.uml.sequence.model.BlockNote);plugin.uml.sequence.model.OverNote=function(b,c){plugin.uml.sequence.model.Note.call(this,b,plugin.uml.sequence.model.NotePosition.Over,plugin.uml.sequence.model.NoteArrangement.Block);this.participants=c};h.inherits(plugin.uml.sequence.model.OverNote,\nplugin.uml.sequence.model.Note);h.provide(\"plugin.uml.sequence.model.Deactivate\");plugin.uml.sequence.model.Deactivate=function(b){this.participant=b};h.provide(\"plugin.uml.sequence.model.Autonumber\");h.provide(\"plugin.uml.sequence.model.AutonumberChange\");h.provide(\"plugin.uml.sequence.model.AutonumberResume\");h.provide(\"plugin.uml.sequence.model.AutonumberStart\");h.provide(\"plugin.uml.sequence.model.AutonumberStop\");plugin.uml.sequence.model.AutonumberState={Paused:0,Running:1};plugin.uml.sequence.model.Autonumber=\nfunction(){this.step=this.current=1;this.formatString=\"\";this.state=plugin.uml.sequence.model.AutonumberState.Paused};plugin.uml.sequence.model.Autonumber.prototype.setState=function(b){this.state=b};plugin.uml.sequence.model.Autonumber.prototype.setNextValue=function(b){this.current=b};plugin.uml.sequence.model.Autonumber.prototype.setIncrement=function(b){this.step=b};plugin.uml.sequence.model.Autonumber.prototype.setFormatString=function(b){this.formatString=b};plugin.uml.sequence.model.Autonumber.prototype.format=\nfunction(b){this.state==plugin.uml.sequence.model.AutonumberState.Running&&(b=this.current+\": \"+(b||\"\"),this.current+=this.step);return b};plugin.uml.sequence.model.AutonumberChange=function(){};plugin.uml.sequence.model.AutonumberChange.prototype.updateAutonumber=function(b){};plugin.uml.sequence.model.AutonumberStart=function(b,c,a){this.start=null===b||void 0===b?1:b;this.step=null===c||void 0===b?1:c;this.format=a};h.inherits(plugin.uml.sequence.model.AutonumberStart,plugin.uml.sequence.model.AutonumberChange);\nplugin.uml.sequence.model.AutonumberStart.prototype.updateAutonumber=function(b){b.setState(plugin.uml.sequence.model.AutonumberState.Running);b.setNextValue(this.start);b.setIncrement(this.step);this.format&&b.setFormatString(this.format)};plugin.uml.sequence.model.AutonumberStop=function(){};h.inherits(plugin.uml.sequence.model.AutonumberStop,plugin.uml.sequence.model.AutonumberChange);plugin.uml.sequence.model.AutonumberStop.prototype.updateAutonumber=function(b){b.setState(plugin.uml.sequence.model.AutonumberState.Paused)};\nplugin.uml.sequence.model.AutonumberResume=function(b,c){this.step=b;this.format=c};h.inherits(plugin.uml.sequence.model.AutonumberResume,plugin.uml.sequence.model.AutonumberChange);plugin.uml.sequence.model.AutonumberResume.prototype.updateAutonumber=function(b){b.setState(plugin.uml.sequence.model.AutonumberState.Running);null!==this.step&&void 0!==this.step&&b.setIncrement(this.step);this.format&&b.setFormatString(this.format)};h.provide(\"plugin.uml.sequence.model.Activate\");plugin.uml.sequence.model.Activate=\nfunction(b){this.participant=b};h.provide(\"plugin.uml.sequence.model.ActivationTarget\");h.require(\"plugin.uml.sequence.model.Activate\");h.require(\"plugin.uml.sequence.model.Deactivate\");plugin.uml.sequence.model.ActivationTarget=function(){};plugin.uml.sequence.model.ActivationTarget.prototype.triggerActivation=function(b){};plugin.uml.sequence.model.ActivationTarget.prototype.getActivations=function(){};plugin.uml.sequence.model.ActivationTarget.prototype.getDeactivations=function(){};h.provide(\"plugin.uml.sequence.model.ActivationGroup\");\nh.require(\"plugin.uml.sequence.model.Action\");h.require(\"plugin.uml.sequence.model.ActivationTarget\");h.require(\"plugin.uml.sequence.model.Activate\");h.require(\"plugin.uml.sequence.model.Deactivate\");h.require(\"plugin.uml.sequence.model.size\");plugin.uml.sequence.model.ActivationGroup=function(){this.activations=[];this.deactivations=[];this.height=plugin.uml.sequence.model.size.verticalSegments};plugin.uml.sequence.model.ActivationGroup.prototype.triggerActivation=function(b){b instanceof plugin.uml.sequence.model.Activate?\nthis.activations.push(b):b instanceof plugin.uml.sequence.model.Deactivate&&this.deactivations.push(b)};plugin.uml.sequence.model.ActivationGroup.prototype.getActivations=function(){return this.activations};plugin.uml.sequence.model.ActivationGroup.prototype.getDeactivations=function(){return this.deactivations};h.provide(\"plugin.uml.sequence.model.Participant\");plugin.uml.sequence.model.Participant=function(b,c){this.name=b;this.displayName=c?c:b};h.provide(\"plugin.uml.sequence.model.ArrowType\");\nh.provide(\"plugin.uml.sequence.model.Connector\");h.provide(\"plugin.uml.sequence.model.LineType\");h.provide(\"plugin.uml.sequence.model.Message\");h.require(\"plugin.uml.Label\");h.require(\"plugin.uml.sequence.model.Activate\");h.require(\"plugin.uml.sequence.model.ActivationTarget\");h.require(\"plugin.uml.sequence.model.Deactivate\");h.require(\"plugin.uml.sequence.model.InlineNote\");h.require(\"plugin.uml.sequence.model.Note\");h.require(\"plugin.uml.sequence.model.size\");plugin.uml.sequence.model.ArrowType=\n{none:\"None\",closed:\"Arrow\",open:\"Open Arrow\"};plugin.uml.sequence.model.LineType={solid:\"solid\",dash:\"dashed\"};plugin.uml.sequence.model.Connector=function(b,c,a){this.lineType=b;this.leftArrow=c;this.rightArrow=a};plugin.uml.sequence.model.Connector.prototype.isLeft=function(){return this.leftArrow!=plugin.uml.sequence.model.ArrowType.none&&this.rightArrow==plugin.uml.sequence.model.ArrowType.none};plugin.uml.sequence.model.Connector.prototype.reverse=function(){return new plugin.uml.sequence.model.Connector(this.lineType,\nthis.rightArrow,this.leftArrow)};plugin.uml.sequence.model.Message=function(b,c,a,d){this.activations=[];this.deactivations=[];this.note=null;var g=a.isLeft();this.sender=plugin.uml.Label.parseNewlines(g?c:b);this.recipient=plugin.uml.Label.parseNewlines(g?b:c);this.connector=g?a.reverse():a;this.setLabel(d)};plugin.uml.sequence.model.Message.prototype.setLabel=function(b){this.label=plugin.uml.Label.processMessageGroupLabel(b);this.height=this.calculateHeight()};plugin.uml.sequence.model.Message.messageHeight=\n1;plugin.uml.sequence.model.Message.selfMessageCenterPadding=1;plugin.uml.sequence.model.Message.textLineHeight=.5;plugin.uml.sequence.model.Message.prototype.calculateHeight=function(){var b;this.paddingAboveRecipient=this.paddingBelow=0;this.note&&(this.paddingBelow=(this.note.height-plugin.uml.sequence.model.Note.paddingAbove)/2);var c=plugin.uml.sequence.model.size.verticalSegments,a=plugin.uml.sequence.model.Message;this.isSelfMessage()?(this.paddingAboveRecipient=a.selfMessageCenterPadding*\nc,b=a.messageHeight*c+this.paddingAboveRecipient):(b=a.messageHeight*c,null!==this.label&&(c=a.textLineHeight*c*this.label.split(\"\\n\").length,b+=c));this.arrowHeight=Math.max(b,this.paddingBelow+plugin.uml.sequence.model.Note.paddingAbove);return this.arrowHeight+this.paddingBelow};plugin.uml.sequence.model.Message.prototype.isSelfMessage=function(){return this.sender&&this.recipient&&this.sender==this.recipient};plugin.uml.sequence.model.Message.prototype.triggerActivation=function(b){b instanceof\nplugin.uml.sequence.model.Activate?this.activations.push(b):b instanceof plugin.uml.sequence.model.Deactivate&&this.deactivations.push(b)};plugin.uml.sequence.model.Message.prototype.getActivations=function(){return this.activations};plugin.uml.sequence.model.Message.prototype.getDeactivations=function(){return this.deactivations};plugin.uml.sequence.model.Message.prototype.setNote=function(b){this.note=b;this.height=this.calculateHeight()};h.provide(\"plugin.uml.sequence.model.SequenceDiagram\");h.require(\"plugin.uml.sequence.model.Action\");\nh.require(\"plugin.uml.sequence.model.Activate\");h.require(\"plugin.uml.sequence.model.ActivationGroup\");h.require(\"plugin.uml.sequence.model.ActivationTarget\");h.require(\"plugin.uml.sequence.model.Autonumber\");h.require(\"plugin.uml.sequence.model.AutonumberChange\");h.require(\"plugin.uml.sequence.model.Deactivate\");h.require(\"plugin.uml.sequence.model.InlineNote\");h.require(\"plugin.uml.sequence.model.Message\");h.require(\"plugin.uml.sequence.model.Note\");h.require(\"plugin.uml.sequence.model.Participant\");\nplugin.uml.sequence.model.SequenceDiagram=function(b){this.actions=[];this.totalDepth=0;this.participants=[];this.participantSet={};b instanceof plugin.uml.sequence.model.SequenceDiagram?(this.actions=b.actions,this.participants=b.participants,this.participantSet=b.participantSet):this.loadActions(b);this.depthBetweenActions=0};plugin.uml.sequence.model.SequenceDiagram.prototype.loadActions=function(b){this.lastMessage=this.activationTarget=null;for(var c=0;c<b.length;c++){var a=b[c];if(a instanceof\nplugin.uml.sequence.model.Activate||a instanceof plugin.uml.sequence.model.Deactivate){this.addParticipant(a.participant);if(!this.activationTarget){var d=new plugin.uml.sequence.model.ActivationGroup;this.actions.push(d);this.activationTarget=d}this.activationTarget.triggerActivation(a)}else if(a instanceof plugin.uml.sequence.model.AutonumberChange)this.actions.push(a);else if(a instanceof plugin.uml.sequence.model.Message)this.loadMessage(a);else if(a instanceof plugin.uml.sequence.model.Note)this.loadNote(a);\nelse if(a instanceof plugin.uml.sequence.model.Participant)this.addParticipant(a);else if(a instanceof plugin.uml.sequence.model.SequenceDiagram){this.lastMessage=this.activationTarget=null;for(d=0;d<a.participants.length;d++)this.addParticipant(a.participants[d]);this.actions.push(a)}}};plugin.uml.sequence.model.SequenceDiagram.prototype.loadMessage=function(b){this.lastMessage=this.activationTarget=b;this.addParticipant(b.sender);this.addParticipant(b.recipient);this.actions.push(b)};plugin.uml.sequence.model.SequenceDiagram.prototype.loadNote=\nfunction(b){b instanceof plugin.uml.sequence.model.InlineNote?this.lastMessage&&(this.lastMessage.setNote(b),this.lastMessage=null):(b instanceof plugin.uml.sequence.model.OverNote?b.participants.forEach(this.addParticipant.bind(this)):this.addParticipant(b.participant),this.actions.push(b))};plugin.uml.sequence.model.SequenceDiagram.prototype.addParticipant=function(b){b=\"string\"==typeof b?new plugin.uml.sequence.model.Participant(b):b;void 0===this.participantSet[b.name]&&(this.participantSet[b.name]=\nthis.participants.length,this.participants.push(b))};plugin.uml.sequence.model.SequenceDiagram.prototype.doAutonumbering=function(b){b=b||new plugin.uml.sequence.model.Autonumber;for(var c=0;c<this.actions.length;c++){var a=this.actions[c];a instanceof plugin.uml.sequence.model.Message?a.setLabel(b.format(a.label)):a instanceof plugin.uml.sequence.model.SequenceDiagram?a.doAutonumbering(b):a instanceof plugin.uml.sequence.model.AutonumberChange&&a.updateAutonumber(b)}this.remeasureDepth()};plugin.uml.sequence.model.SequenceDiagram.prototype.remeasureDepth=\nfunction(){for(var b=this.totalDepth=0;b<this.actions.length;b++){var c=this.actions[b];Number.isInteger(c.height)&&(this.totalDepth+=c.height)}};plugin.uml.sequence.model.SequenceDiagram.prototype.get=function(b){return this.actions[b]};plugin.uml.sequence.model.SequenceDiagram.prototype.getActionCount=function(){return this.actions.length};plugin.uml.sequence.model.SequenceDiagram.prototype.getParticipantWidths=function(b,c){for(var a={},d=c||this.participantSet,g=0;g<this.participants.length;g++)a[this.participants[g].name]=\n0;for(g=0;g<this.getActionCount();g++){var e=this.get(g);if(e instanceof plugin.uml.sequence.model.Message){var m=b(e),e=d[e.sender]>d[e.recipient]?e.recipient:e.sender;m>a[e]&&(a[e]=m)}else if(e instanceof plugin.uml.sequence.model.SequenceDiagram){var m=e.getParticipantWidths(b,d),l;for(l in m)if(l in a&&m[l]>a[l]||!(l in a))a[l]=m[l]}}return a};h.provide(\"plugin.uml.sequence.view.Activation\");plugin.uml.sequence.view.Activation=function(b,c,a){this.top=b;this.height=c;this.inner=a;this.blockId=\nnull};plugin.uml.sequence.view.Activation.offsetX=20;plugin.uml.sequence.view.Activation.width=40;plugin.uml.sequence.view.Activation.halfWidth=plugin.uml.sequence.view.Activation.width/2;plugin.uml.sequence.view.Activation.prototype.render=function(b,c,a,d){var g=[];if(0<this.height){var e=a-c;this.blockId=lucid.plugin.addBlock(b,{className:\"UMLActivationBlock\",BoundingBox:{x:d-plugin.uml.sequence.view.Activation.halfWidth,y:e*this.top+c,w:plugin.uml.sequence.view.Activation.width,h:e*this.height}});\ng.push(this.blockId);for(e=0;e<this.inner.length;e++)g=g.concat(this.inner[e].render(b,c,a,d+plugin.uml.sequence.view.Activation.offsetX))}return g};h.provide(\"plugin.uml.sequence.view.ParticipantLifeline\");h.require(\"plugin.uml.sequence.model.ActivationGroup\");h.require(\"plugin.uml.sequence.model.Message\");h.require(\"plugin.uml.sequence.model.Note\");h.require(\"plugin.uml.sequence.model.SequenceDiagram\");h.require(\"plugin.uml.sequence.model.size\");h.require(\"plugin.uml.sequence.view.Activation\");\nplugin.uml.sequence.view.ActivationType={Activation:0,Deactivation:1};plugin.uml.sequence.view.ParticipantLifeline=function(b,c,a,d){this.name=b;this.order=a;this.width=d;b=lucid.plugin.getProperty(c,\"Endpoint1\");a=lucid.plugin.getProperty(c,\"Endpoint2\");this.line={id:c,x:b.x,yTop:b.y,yBot:a.y};this.topBlockId=b.Block;this.bottomBlockId=a.Block;this.activationStack=[];this.activations=[]};plugin.uml.sequence.view.ParticipantLifeline.prototype.addActivation=function(b){this.activationStack.push({distance:b,\ntype:plugin.uml.sequence.view.ActivationType.Activation})};plugin.uml.sequence.view.ParticipantLifeline.prototype.addDeactivation=function(b){this.activationStack.push({distance:b,type:plugin.uml.sequence.view.ActivationType.Deactivation})};plugin.uml.sequence.view.ParticipantLifeline.prototype.renderLifelineBlocks=function(b){this.consumeActivationStack();for(var c=[],a=0;a<this.activations.length;a++)c=c.concat(this.activations[a].render(b,this.line.yTop,this.line.yBot,this.line.x));return c};plugin.uml.sequence.view.ParticipantLifeline.prototype.consumeActivationStack=\nfunction(){var b,c=function(){for(var a=[],d=this.activationStack[b++].distance,g;b<this.activationStack.length;b++){var e=this.activationStack[b];if(e.type==plugin.uml.sequence.view.ActivationType.Activation)a.push(c());else if(e.type==plugin.uml.sequence.view.ActivationType.Deactivation){g=e.distance;break}}void 0===g&&(g=1);return new plugin.uml.sequence.view.Activation(d,g-d,a)}.bind(this);for(b=0;b<this.activationStack.length;b++)this.activationStack[b].type==plugin.uml.sequence.view.ActivationType.Activation&&\nthis.activations.push(c())};plugin.uml.sequence.view.ParticipantLifeline.prototype.setEndpoint1ConnectData=function(b,c,a){this.setEndpointConnectData(b.Endpoint1,c,a)};plugin.uml.sequence.view.ParticipantLifeline.prototype.setEndpoint2ConnectData=function(b,c,a){this.setEndpointConnectData(b.Endpoint2,c,a)};plugin.uml.sequence.view.ParticipantLifeline.prototype.setEndpointConnectData=function(b,c,a){var d=this.getBlockAtHeight(c);if(d){var g=lucid.plugin.getProperty(d,\"BoundingBox\");b.Block=d;b.LinkY=\n((this.line.yBot-this.line.yTop)*c+this.line.yTop-g.y)/g.h;b.LinkX=this.order<=a?1:0}else b.Line=this.line.id,b.LineP=c};plugin.uml.sequence.view.ParticipantLifeline.prototype.getBlockAtHeight=function(b){function c(a){if(a.top<=b&&a.top+a.height>=b){for(var d=0;d<a.inner.length&&!(b<a.inner[d].top);d++){var m=c(a.inner[d]);if(m)return m}return a.blockId}return null}for(var a=0;a<this.activations.length&&!(b<this.activations[a].top);a++){var d=c(this.activations[a]);if(d)return d}return null};plugin.uml.sequence.view.ParticipantLifeline.addActivationEventsToLifelines=\nfunction(b,c,a,d){for(var g=plugin.uml.sequence.model.size.verticalSegments,e=0;e<b.getActionCount();e++){var m=b.get(e);if(m instanceof plugin.uml.sequence.model.Message){var l=m;if(l.getActivations().length||l.getDeactivations().length){var n,p;l.isSelfMessage()?(n=(a+g)/d,p=(a+l.height)/d):p=n=(a+l.height)/d;for(m=0;m<l.getDeactivations().length;m++){var h=l.getDeactivations()[m];c[h.participant].addDeactivation(n)}for(m=0;m<l.getActivations().length;m++)h=l.getActivations()[m],c[h.participant].addActivation(p)}a+=\nl.height}else if(m instanceof plugin.uml.sequence.model.SubDiagram)l=m,plugin.uml.sequence.view.ParticipantLifeline.addActivationEventsToLifelines(l,c,l.getDepthBelowLabel(a),d),a+=l.height;else if(m instanceof plugin.uml.sequence.model.ActivationGroup){l=m;p=(a+l.height)/d;for(m=0;m<l.getActivations().length;m++)h=l.getActivations()[m],c[h.participant].addActivation(p);for(m=0;m<l.getDeactivations().length;m++)h=l.getDeactivations()[m],c[h.participant].addDeactivation(p);a+=l.height}else m instanceof\nplugin.uml.sequence.model.Note&&(a+=m.height)}};plugin.uml.sequence.view.ParticipantLifeline.getParticipantsInOrder=function(b,c){for(var a=[],d=0;d<b.length;d++)lucid.array.binaryInsert(a,b[d],function(a,b){return c[a].order-c[b].order});return a};h.provide(\"plugin.uml.sequence.view.Note\");h.require(\"plugin.uml.sequence.model.size\");h.require(\"plugin.uml.sequence.view.ParticipantLifeline\");plugin.uml.sequence.view.Note=function(b,c){this.model=b;this.participantLifelines=c;this.calculateTextSize()};\nplugin.uml.sequence.view.Note.horizontalPadding=40;plugin.uml.sequence.view.Note.prototype.calculateTextSize=function(){var b=plugin.uml.sequence.model.size.padding,c=plugin.uml.sequence.model.Note.paddingAbove*b.segmentHeight;this.textSize=lucid.text.measure(lucid.text.styled(this.model.label,{}));this.textSize.w+=plugin.uml.sequence.view.Note.horizontalPadding;this.textSize.h=Math.max(this.textSize.h,this.model.height*b.segmentHeight-c)};plugin.uml.sequence.view.Note.prototype.render=function(b,\nc,a,d){return lucid.plugin.addBlock(b,{className:\"UMLNoteBlock\",BoundingBox:this.getBoundingBox(c,a,d),Text:this.model.label,TextAlign:\"center\"})};plugin.uml.sequence.view.Note.prototype.getBoundingBox=function(b,c,a){return{x:this.calculateX(a),y:this.calculateY(b,c),w:this.textSize.w,h:this.textSize.h}};plugin.uml.sequence.view.Note.prototype.calculateY=function(b,c){for(var a in this.participantLifelines)return a=this.participantLifelines[a].line,a.yTop+(b+this.model.height)/c*(a.yBot-a.yTop)-\nthis.textSize.h;return 0};plugin.uml.sequence.view.Note.prototype.calculateX=function(b){return 0};h.provide(\"plugin.uml.sequence.view.SideNote\");h.require(\"plugin.uml.sequence.view.Note\");h.require(\"plugin.uml.sequence.view.ParticipantLifeline\");plugin.uml.sequence.view.SideNote=function(b,c,a){plugin.uml.sequence.view.Note.call(this,b,a);this.line=c};h.inherits(plugin.uml.sequence.view.SideNote,plugin.uml.sequence.view.Note);h.provide(\"plugin.uml.sequence.view.BlockNote\");h.provide(\"plugin.uml.sequence.view.LeftBlockNote\");\nh.provide(\"plugin.uml.sequence.view.RightBlockNote\");h.require(\"plugin.uml.sequence.model.BlockNote\");h.require(\"plugin.uml.sequence.model.LeftBlockNote\");h.require(\"plugin.uml.sequence.model.RightBlockNote\");h.require(\"plugin.uml.sequence.view.ParticipantLifeline\");h.require(\"plugin.uml.sequence.view.SideNote\");plugin.uml.sequence.view.BlockNote=function(b,c){plugin.uml.sequence.view.SideNote.call(this,b,c[b.participant].line,c)};h.inherits(plugin.uml.sequence.view.BlockNote,plugin.uml.sequence.view.SideNote);\nplugin.uml.sequence.view.LeftBlockNote=function(b,c){plugin.uml.sequence.view.BlockNote.call(this,b,c)};h.inherits(plugin.uml.sequence.view.LeftBlockNote,plugin.uml.sequence.view.BlockNote);plugin.uml.sequence.view.LeftBlockNote.prototype.calculateX=function(b){return this.line.x-plugin.uml.sequence.view.Note.horizontalPadding/2-this.textSize.w};plugin.uml.sequence.view.RightBlockNote=function(b,c){plugin.uml.sequence.view.BlockNote.call(this,b,c)};h.inherits(plugin.uml.sequence.view.RightBlockNote,\nplugin.uml.sequence.view.BlockNote);plugin.uml.sequence.view.RightBlockNote.prototype.calculateX=function(b){return this.line.x+plugin.uml.sequence.view.Note.horizontalPadding/2};h.provide(\"plugin.common.Swimlane\");plugin.common.Swimlane.ORIENTATIONS={VERTICAL:\"vertical\",HORIZONTAL:\"horizontal\"};plugin.common.Swimlane.getOrientationOptions=function(){return lucid.object.getValues(plugin.common.Swimlane.ORIENTATIONS)};plugin.common.Swimlane.updateLanes=function(b,c,a,d,g){var e=lucid.plugin.getProperty(c,\n\"Lanes\"),m=lucid.plugin.getProperty(c,\"BoundingBox\"),l=lucid.plugin.getProperty(c,\"Rotation\")||0,h=[];if(e&&m){if(\"add\"===b){void 0===a&&(a=e.length-1);var p=d?a:a+1;g=m.w*e[a].p;a=m.w+g;var z=[],t=0;for(b=0;b<e.length;b++)b>=p&&(t+=e[b].p),d={p:m.w*e[b].p/a,tid:e[b].tid},h.push(d),z.push(d.tid);for(;lucid.array.contains(z,b);)b++;h.splice(p,0,{p:g/a,tid:parseInt(b,10)});e=lucid.plugin.getProperty(c,\"Vertical\");d=m.x+(1-t)*m.w;if(!e)var A=lucid.math.Box.rotate(m,lucid.plugin.getProperty(c,\"Rotation\")).y+\n(1-t)*m.w;t=lucid.plugin.getContained(c);for(b=0;b<t.length;b++)if(p=lucid.plugin.getProperty(t[b],\"BoundingBox\"))e?p.x+.01>=d&&(p.x+=g):p.y+.01>=A&&(p.y+=g),lucid.plugin.setProperty(t[b],\"BoundingBox\",p)}else{A=e.pop();a=m.w*(1-A.p);for(b=0;b<e.length;b++)d={p:m.w*e[b].p/a,tid:e[b].tid},h.push(d);g&&lucid.plugin.setProperty(c,\"Lane_\"+A.tid,\"Lane\")}50>=h.length&&0<h.length&&(lucid.plugin.setProperty(c,\"Lanes\",h),0!==l&&(m.x+=(m.w-a)/2,m.y-=(m.w-a)/2),m.w=a,lucid.plugin.setProperty(c,\"BoundingBox\",\nm))}};plugin.common.Swimlane.setOrientation=function(b,c,a){var d=function(a,c){var d=lucid.plugin.getProperty(b,\"Rotation\")||0,e=lucid.math.Box.rotate(c,d),d=lucid.plugin.getContained(b),g={x:e.x+e.w/2,y:e.y+e.h/2};lucid.array.forEach(d,function(b){var c=lucid.plugin.getProperty(b,\"BoundingBox\"),d=lucid.math.Point.rotate({x:c.x,y:c.y},g,\"v\"===a?Math.PI/2:-Math.PI/2),c={x:\"v\"===a?d.x-2*(d.x-(e.x+e.w/2)):d.x,y:\"h\"===a?d.y-2*(d.y-(e.y+e.h/2)):d.y,w:c.w,h:c.h,data:c.data};c.x-=(e.w-e.h)/2;c.y-=(e.h-\ne.w)/2;lucid.plugin.setProperty(b,\"BoundingBox\",c);c=lucid.plugin.getIncomingLines(b);b=lucid.plugin.getOutgoingLines(b);for(d=0;d<c.length;d++){var l=lucid.plugin.getProperty(c[d],\"Endpoint2\"),h=l.LinkX;l.LinkX=l.LinkY;l.LinkY=h;lucid.plugin.setProperty(c[d],\"Endpoint2\",l)}for(d=0;d<b.length;d++)l=lucid.plugin.getProperty(b[d],\"Endpoint1\"),h=l.LinkX,l.LinkX=l.LinkY,l.LinkY=h,lucid.plugin.setProperty(b[d],\"Endpoint1\",l)})},g=lucid.plugin.getProperty(b,\"VerticalText\"),e=lucid.plugin.getProperty(b,\n\"BoundingBox\");null!=c&&(d(a?\"v\":\"h\",e),(!c&&a||c&&!a)&&lucid.plugin.setProperty(b,\"VerticalText\",g?0:1));lucid.plugin.setProperty(b,\"Rotation\",a?0:-Math.PI/2);e.x+=a?(e.w-e.h)/2:-(e.w-e.h)/2;e.y+=a?(e.h-e.w)/2:-(e.h-e.w)/2;lucid.plugin.setProperty(b,\"BoundingBox\",e)};plugin.common.Swimlane.beforeCreate=function(b,c,a){b=lucid.plugin.getChildren(b,function(b){return(b=lucid.plugin.getBlockClassName(b))&&0<=a.indexOf(b)});var d=c.BoundingBox;c=c.Rotation||0;for(var g in b){var e=b[g],h=lucid.plugin.getProperty(e,\n\"BoundingBox\"),l=lucid.plugin.getProperty(e,\"Rotation\")||0;if(!(0===l&&0!==c||0!==l&&0===c)){var n=lucid.math.Box.rotate(d,c),p=lucid.math.Box.rotate(h,l);if(lucid.math.Box.overlap(n,p)){var n=lucid.plugin.getProperty(e,\"Lanes\"),p=h.w*n[n.length-1].p,z=h.w+p,t=[],A=[],w;for(w=0;w<n.length;w++){var ka={p:h.w*n[w].p/z,tid:n[w].tid};t.push(ka);A.push(ka.tid)}for(;lucid.array.contains(A,w);)w++;t.push({p:p/z,tid:parseInt(w)});if(50>=t.length&&0<t.length)return lucid.plugin.setProperty(e,\"Lanes\",t),0!==\nl&&(h.x+=(h.w-z)/2,h.y-=(h.w-z)/2),h.w=z,lucid.plugin.setProperty(e,\"BoundingBox\",h),!1}}}return!0};plugin.common.Swimlane.getLinkPoints=function(b){var c=lucid.plugin.getProperty(b,\"Lanes\"),a=0,d=[];if(lucid.plugin.getProperty(b,\"Vertical\"))for(b=0;b<c.length;b++){var g=a+c[b].p/2;d.push({x:g,y:0});a+=c[b].p}else for(b=c.length-1;0<=b;b--)g=a+c[b].p/2,d.push({x:g,y:0}),a+=c[b].p;return d};plugin.common.Swimlane.spatialControls=function(b,c){function a(){var a=lucid.plugin.getProperty(b,\"Lanes\"),\nc=lucid.plugin.getProperty(b,\"Vertical\");return a?c?a:a.reverse():null}function d(a,c){var d=lucid.plugin.getProperty(b,\"Vertical\");c.h&&(d||(a.x-=(a.h-c.h)/2,a.y+=(a.h-c.h)/2),a.h=c.h);c.w&&(d||(a.x+=(a.w-c.w)/2,a.y-=(a.w-c.w)/2),a.w=c.w);lucid.plugin.setProperty(b,\"BoundingBox\",a)}function g(a){var c=0;lucid.plugin.getProperty(b,\"Vertical\")||a--;for(var d=0;d<=a;d++)c+=h[d].p;return c}function e(c){return{logAction:\"chart.viewport.selection.spatialControls.flowchart.swimlaneWidth\",location:function(){h=\na();var d=lucid.plugin.getProperty(b,\"BoundingBox\"),e=lucid.plugin.getProperty(b,\"mainTitleHeight\",!0);return{x:d.x+d.w*g(c)-10,y:d.y+(!!e&&e),w:20,h:d.h-(!!e&&e)}},moved:function(e){h=a();var l=lucid.plugin.getProperty(b,\"BoundingBox\"),n=lucid.plugin.getProperty(b,\"Vertical\"),w=g(c),ka=l.x+w*l.w;e=n?e.x-ka:ka-e.x;if(!n)var W=lucid.math.Box.rotate(l,lucid.plugin.getProperty(b,\"Rotation\")).y+(1-w)*l.w;for(var w=l.w+e,x=0;x<h.length;x++)h[x].p=x===c?(h[x].p*l.w+e)/w:h[x].p*l.w/w;for(var D=lucid.plugin.getContained(b),\nx=0;x<D.length;x++){var r=lucid.plugin.getProperty(D[x],\"BoundingBox\");r&&(n?r.x+.01>=ka&&(r.x+=e):r.y+.01>=W&&(r.y+=e),lucid.plugin.setProperty(D[x],\"BoundingBox\",r))}d(l,{w:w});l=h;n=lucid.plugin.getProperty(b,\"Vertical\");lucid.plugin.setProperty(b,\"Lanes\",n?l:l.reverse())},path:function(){h=a();var d=lucid.plugin.getProperty(b,\"BoundingBox\"),e=lucid.plugin.getProperty(b,\"Vertical\");return[{x:e?d.x+d.w*g(c-1)+20:d.x+d.w*g(c+1)-20,y:d.y+d.h/2},{x:e?1E8:-1E8,y:d.y+d.h/2}]},cursor:function(){return lucid.plugin.getProperty(b,\n\"Rotation\")?\"s-resize\":\"e-resize\"},snap:!0,snapToGuides:!0,color:\"none\"}}var h=a(),l=[];if(h){for(var n=0;n<h.length;n++)l.push(e(n));l.push({logAction:\"chart.viewport.selection.spatialControls.\"+c?\"uml\":\"flowchart.swimlaneHeight\",location:function(){var a=lucid.plugin.getProperty(b,\"BoundingBox\");return{x:a.x,y:a.y+a.h-10,w:a.w,h:20}},moved:function(a){var c=lucid.plugin.getProperty(b,\"BoundingBox\");d(c,{h:c.h-(c.y+c.h-a.y)})},path:function(){h=a();var c=lucid.plugin.getProperty(b,\"BoundingBox\");\nreturn[{x:c.x+c.w/2,y:c.y+20+lucid.plugin.getProperty(b,\"titleHeight\",!0)||40},{x:c.x+c.w/2,y:1E8}]},cursor:function(){return lucid.plugin.getProperty(b,\"Vertical\")?\"s-resize\":\"e-resize\"},snap:!0,snapToGuides:!0,color:\"none\"})}return l};plugin.common.Swimlane.getLaneCountOfSwimLaneBlock=function(b){return lucid.plugin.getProperty(b,\"Lanes\").length};plugin.common.Swimlane.setLaneCountOfSwimLaneBlock=function(b,c,a){for(var d=lucid.plugin.getProperty(b,\"Lanes\").length,g=Math.abs(a-d),e=0;e<g;e++)plugin.common.Swimlane.updateLanes(d<\na?\"add\":\"remove\",b,void 0,void 0,c)};plugin.common.Swimlane.getOrientationOfSwimLaneBlock=function(b){return lucid.plugin.getProperty(b,\"Vertical\")?plugin.common.Swimlane.ORIENTATIONS.VERTICAL:plugin.common.Swimlane.ORIENTATIONS.HORIZONTAL};plugin.common.Swimlane.setOrientationOfSwimLaneBlock=function(b,c,a){var d=lucid.plugin.getProperty(b,\"Vertical\");a=a==plugin.common.Swimlane.ORIENTATIONS.VERTICAL?1:0;d!=a&&(lucid.plugin.setProperty(b,\"Vertical\",a),c&&plugin.common.Swimlane.setOrientation(b,d,\na))};h.provide(\"plugin.uml.sequence.model.SubDiagram\");h.require(\"plugin.uml.sequence.model.Action\");h.require(\"plugin.uml.sequence.model.SequenceDiagram\");plugin.uml.sequence.model.SubDiagram=function(b){plugin.uml.sequence.model.SequenceDiagram.call(this,b);this.height=this.calculateHeight()};h.inherits(plugin.uml.sequence.model.SubDiagram,plugin.uml.sequence.model.SequenceDiagram);plugin.uml.sequence.model.SubDiagram.prototype.remeasureDepth=function(){plugin.uml.sequence.model.SequenceDiagram.prototype.remeasureDepth.call(this);\nthis.height=this.calculateHeight()};plugin.uml.sequence.model.SubDiagram.prototype.calculateHeight=function(){return this.totalDepth};plugin.uml.sequence.model.SubDiagram.prototype.getBoundingBox=function(b,c){};plugin.uml.sequence.model.SubDiagram.prototype.getTopDepth=function(b){return b};plugin.uml.sequence.model.SubDiagram.prototype.getDepthBelowLabel=function(b){return b};plugin.uml.sequence.model.SubDiagram.prototype.getBottomDepth=function(b){return b+this.height};h.provide(\"plugin.uml.sequence.view.OverBlockNote\");\nh.require(\"plugin.uml.sequence.model.OverNote\");h.require(\"plugin.uml.sequence.view.Note\");h.require(\"plugin.uml.sequence.view.ParticipantLifeline\");plugin.uml.sequence.view.OverBlockNote=function(b,c){plugin.uml.sequence.view.Note.call(this,b,c)};h.inherits(plugin.uml.sequence.view.OverBlockNote,plugin.uml.sequence.view.Note);plugin.uml.sequence.view.OverBlockNote.prototype.calculateTextSize=function(){plugin.uml.sequence.view.Note.prototype.calculateTextSize.call(this);var b=this.calculateMinWidthAndCenter(),\nc=b[1];this.textSize.w=Math.max(b[0],this.textSize.w);this.precalculatedX=c-this.textSize.w/2};plugin.uml.sequence.view.OverBlockNote.prototype.calculateMinWidthAndCenter=function(){var b=plugin.uml.sequence.view.Note.horizontalPadding,c=this.findOutsideParticipantsX(),a=c[0]-b,b=c[1]+b-a;return[b,a+b/2]};plugin.uml.sequence.view.OverBlockNote.prototype.findOutsideParticipantsX=function(){var b=plugin.uml.sequence.view.ParticipantLifeline.getParticipantsInOrder(this.model.participants,this.participantLifelines);\nreturn[this.participantLifelines[b[0]].line.x,this.participantLifelines[b[b.length-1]].line.x]};plugin.uml.sequence.view.OverBlockNote.prototype.calculateX=function(b){return this.precalculatedX};h.provide(\"plugin.uml.sequence.model.ElseGroup\");h.require(\"plugin.uml.sequence.model.SequenceDiagram\");h.require(\"plugin.uml.sequence.model.SubDiagram\");plugin.uml.sequence.model.ElseGroup=function(b,c){if(this.label=plugin.uml.Label.processMessageGroupLabel(c))this.label=\"[\"+this.label+\"]\";plugin.uml.sequence.model.SubDiagram.call(this,\nb)};h.inherits(plugin.uml.sequence.model.ElseGroup,plugin.uml.sequence.model.SubDiagram);plugin.uml.sequence.model.ElseGroup.textLineHeight=.5;plugin.uml.sequence.model.ElseGroup.prototype.calculateHeight=function(){var b=plugin.uml.sequence.model.SubDiagram.prototype.calculateHeight.call(this),c=plugin.uml.sequence.model.size.verticalSegments,a=plugin.uml.sequence.model.ElseGroup.textLineHeight;this.labelHeight=this.label?this.label.split(\"\\n\").length*a*c:0;return this.labelHeight+b};plugin.uml.sequence.model.ElseGroup.prototype.getDepthBelowLabel=\nfunction(b){return plugin.uml.sequence.model.SubDiagram.prototype.getTopDepth.call(this,b)+this.labelHeight};h.provide(\"plugin.uml.sequence.model.AltGroup\");h.require(\"plugin.uml.sequence.model.ElseGroup\");h.require(\"plugin.uml.sequence.model.SubDiagram\");h.require(\"plugin.uml.sequence.model.size\");plugin.uml.sequence.model.AltGroup=function(b){plugin.uml.sequence.model.SubDiagram.call(this,b);this.height=this.calculateHeight()};h.inherits(plugin.uml.sequence.model.AltGroup,plugin.uml.sequence.model.SubDiagram);\nplugin.uml.sequence.model.AltGroup.aboveBlockHeight=.5;plugin.uml.sequence.model.AltGroup.titleHeight=1;plugin.uml.sequence.model.AltGroup.aboveDividerLineHeight=.5;plugin.uml.sequence.model.AltGroup.belowDividerLineHeight=0;plugin.uml.sequence.model.AltGroup.prototype.calculateHeight=function(){var b=plugin.uml.sequence.model.SubDiagram.prototype.calculateHeight.call(this),c=plugin.uml.sequence.model.size.verticalSegments,a=plugin.uml.sequence.model.AltGroup;this.aboveBlockHeight=a.aboveBlockHeight*\nc;var d=a.titleHeight*c;this.topHeight=this.aboveBlockHeight+d;this.depthBetweenActions=a.aboveDividerLineHeight*c+a.belowDividerLineHeight*c;for(var g=0,e=1;e<this.actions.length;e++)g+=this.depthBetweenActions;c*=a.aboveDividerLineHeight;a=this.topHeight+g+b+c;this.calculateBoundaries(d,d+g+b+c);return a};plugin.uml.sequence.model.AltGroup.prototype.calculateBoundaries=function(b,c){var a=plugin.uml.sequence.model.size.verticalSegments,d=plugin.uml.sequence.model.AltGroup,g=d.aboveDividerLineHeight*\na,a=d.belowDividerLineHeight*a;this.boundaries=[];this.condition=null;if(1<=this.actions.length){this.condition=this.actions[0].label;for(var d=b+(this.actions[0].height+g),e=1;e<this.actions.length;e++)this.boundaries.push({height:d/c,text:this.actions[e].label||\"\"}),d+=a+this.actions[e].height+g}};plugin.uml.sequence.model.AltGroup.prototype.getTopDepth=function(b){return plugin.uml.sequence.model.SubDiagram.prototype.getTopDepth.call(this,b)+this.aboveBlockHeight};plugin.uml.sequence.model.AltGroup.prototype.getDepthBelowLabel=\nfunction(b){return plugin.uml.sequence.model.SubDiagram.prototype.getTopDepth.call(this,b)+this.topHeight};h.provide(\"plugin.uml.sequence.model.MessageGroup\");h.require(\"plugin.uml.sequence.model.SequenceDiagram\");h.require(\"plugin.uml.sequence.model.SubDiagram\");h.require(\"plugin.uml.sequence.model.size\");h.require(\"plugin.uml.Label\");plugin.uml.sequence.model.MessageGroup=function(b,c,a){if(this.label=plugin.uml.Label.processMessageGroupLabel(a))this.label=\"[\"+this.label+\"]\";this.type=plugin.uml.Label.processMessageGroupLabel(b);\nthis.type||(this.type=\"Group\");plugin.uml.sequence.model.SubDiagram.call(this,c)};h.inherits(plugin.uml.sequence.model.MessageGroup,plugin.uml.sequence.model.SubDiagram);plugin.uml.sequence.model.MessageGroup.prototype.calculateHeight=function(){var b=plugin.uml.sequence.model.SubDiagram.prototype.calculateHeight.call(this),c=plugin.uml.sequence.model.size.verticalSegments;this.aboveTopLine=.5*c;this.belowTopLine=.5*c+.5*c*this.type.split(\"\\n\").length;null!==this.label&&(belowTopLine=.5*c*Math.max(this.label.split(\"\\n\").length,\n2));this.aboveBottomLine=.5*c;this.belowBottomLine=0;return this.aboveTopLine+this.belowTopLine+b+this.aboveBottomLine+this.belowBottomLine};plugin.uml.sequence.model.MessageGroup.prototype.getTopDepth=function(b){return plugin.uml.sequence.model.SubDiagram.prototype.getTopDepth.call(this,b)+this.aboveTopLine};plugin.uml.sequence.model.MessageGroup.prototype.getDepthBelowLabel=function(b){return this.getTopDepth(b)+this.belowTopLine};plugin.uml.sequence.model.MessageGroup.prototype.getBottomDepth=\nfunction(b){return plugin.uml.sequence.model.SubDiagram.prototype.getBottomDepth.call(this,b)-this.belowBottomLine};h.provide(\"plugin.uml.sequence.model.Ignore\");plugin.uml.sequence.model.Ignore=function(){};h.provide(\"plugin.uml.sequence.model.PartialBlockNote\");h.provide(\"plugin.uml.sequence.model.PartialInlineNote\");h.provide(\"plugin.uml.sequence.model.PartialLeftBlockNote\");h.provide(\"plugin.uml.sequence.model.PartialLeftInlineNote\");h.provide(\"plugin.uml.sequence.model.PartialNote\");h.provide(\"plugin.uml.sequence.model.PartialOverNote\");\nh.provide(\"plugin.uml.sequence.model.PartialRightBlockNote\");h.provide(\"plugin.uml.sequence.model.PartialRightInlineNote\");h.provide(\"plugin.uml.sequence.model.PartialSideNote\");h.require(\"plugin.uml.sequence.model.LeftBlockNote\");h.require(\"plugin.uml.sequence.model.LeftInlineNote\");h.require(\"plugin.uml.sequence.model.Note\");h.require(\"plugin.uml.sequence.model.NoteArrangement\");h.require(\"plugin.uml.sequence.model.NotePosition\");h.require(\"plugin.uml.sequence.model.OverNote\");h.require(\"plugin.uml.sequence.model.RightBlockNote\");\nh.require(\"plugin.uml.sequence.model.RightInlineNote\");plugin.uml.sequence.model.PartialNote=function(b,c){this.position=b;this.arrangement=c};plugin.uml.sequence.model.PartialNote.prototype.toNote=function(b){return null};plugin.uml.sequence.model.PartialSideNote=function(b,c){plugin.uml.sequence.model.PartialNote.call(this,b,c)};h.inherits(plugin.uml.sequence.model.PartialSideNote,plugin.uml.sequence.model.PartialNote);plugin.uml.sequence.model.PartialInlineNote=function(b){plugin.uml.sequence.model.PartialSideNote.call(this,\nb,plugin.uml.sequence.model.NoteArrangement.Inline)};h.inherits(plugin.uml.sequence.model.PartialInlineNote,plugin.uml.sequence.model.PartialSideNote);plugin.uml.sequence.model.PartialLeftInlineNote=function(){plugin.uml.sequence.model.PartialInlineNote.call(this,plugin.uml.sequence.model.NotePosition.Left)};h.inherits(plugin.uml.sequence.model.PartialLeftInlineNote,plugin.uml.sequence.model.PartialInlineNote);plugin.uml.sequence.model.PartialLeftInlineNote.prototype.toNote=function(b){return new plugin.uml.sequence.model.LeftInlineNote(b)};\nplugin.uml.sequence.model.PartialRightInlineNote=function(){plugin.uml.sequence.model.PartialInlineNote.call(this,plugin.uml.sequence.model.NotePosition.Right)};h.inherits(plugin.uml.sequence.model.PartialRightInlineNote,plugin.uml.sequence.model.PartialInlineNote);plugin.uml.sequence.model.PartialRightInlineNote.prototype.toNote=function(b){return new plugin.uml.sequence.model.RightInlineNote(b)};plugin.uml.sequence.model.PartialBlockNote=function(b,c){plugin.uml.sequence.model.PartialSideNote.call(this,\nb,plugin.uml.sequence.model.NoteArrangement.Block);this.participant=c};h.inherits(plugin.uml.sequence.model.PartialBlockNote,plugin.uml.sequence.model.PartialSideNote);plugin.uml.sequence.model.PartialLeftBlockNote=function(b){plugin.uml.sequence.model.PartialBlockNote.call(this,plugin.uml.sequence.model.NotePosition.Left,b)};h.inherits(plugin.uml.sequence.model.PartialLeftBlockNote,plugin.uml.sequence.model.PartialBlockNote);plugin.uml.sequence.model.PartialLeftBlockNote.prototype.toNote=function(b){return new plugin.uml.sequence.model.LeftBlockNote(b,\nthis.participant)};plugin.uml.sequence.model.PartialRightBlockNote=function(b){plugin.uml.sequence.model.PartialBlockNote.call(this,plugin.uml.sequence.model.NotePosition.Right,b)};h.inherits(plugin.uml.sequence.model.PartialRightBlockNote,plugin.uml.sequence.model.PartialBlockNote);plugin.uml.sequence.model.PartialRightBlockNote.prototype.toNote=function(b){return new plugin.uml.sequence.model.RightBlockNote(b,this.participant)};plugin.uml.sequence.model.PartialOverNote=function(b){plugin.uml.sequence.model.PartialNote.call(this,\nplugin.uml.sequence.model.NotePosition.Over,plugin.uml.sequence.model.NoteArrangement.Block);this.participants=b};h.inherits(plugin.uml.sequence.model.PartialOverNote,plugin.uml.sequence.model.PartialNote);plugin.uml.sequence.model.PartialOverNote.prototype.toNote=function(b){return new plugin.uml.sequence.model.OverNote(b,this.participants)};plugin.uml.sequence.model.PartialNote.LeftInlineNote=plugin.uml.sequence.model.PartialLeftInlineNote;plugin.uml.sequence.model.PartialNote.RightInlineNote=plugin.uml.sequence.model.PartialRightInlineNote;\nplugin.uml.sequence.model.PartialNote.LeftBlockNote=plugin.uml.sequence.model.PartialLeftBlockNote;plugin.uml.sequence.model.PartialNote.RightBlockNote=plugin.uml.sequence.model.PartialRightBlockNote;plugin.uml.sequence.model.PartialNote.OverBlockNote=plugin.uml.sequence.model.PartialOverNote;h.provide(\"plugin.uml.sequence.model\");h.require(\"plugin.uml.sequence.model.Activate\");h.require(\"plugin.uml.sequence.model.AltGroup\");h.require(\"plugin.uml.sequence.model.ArrowType\");h.require(\"plugin.uml.sequence.model.Autonumber\");\nh.require(\"plugin.uml.sequence.model.Connector\");h.require(\"plugin.uml.sequence.model.Deactivate\");h.require(\"plugin.uml.sequence.model.ElseGroup\");h.require(\"plugin.uml.sequence.model.Ignore\");h.require(\"plugin.uml.sequence.model.LineType\");h.require(\"plugin.uml.sequence.model.Message\");h.require(\"plugin.uml.sequence.model.MessageGroup\");h.require(\"plugin.uml.sequence.model.PartialNote\");h.require(\"plugin.uml.sequence.model.SequenceDiagram\");h.provide(\"plugin.uml.sequence.peg\");h.require(\"plugin.uml.sequence.model\");\nplugin.uml.sequence.peg=function(){function b(c,a,d,g){this.message=c;this.expected=a;this.found=d;this.location=g;this.name=\"SyntaxError\";\"function\"===typeof Error.captureStackTrace&&Error.captureStackTrace(this,b)}(function(b,a){function d(){this.constructor=b}d.prototype=a.prototype;b.prototype=new d})(b,Error);return{SyntaxError:b,parse:function(c){function a(a){throw h(a,null,c.substring(u,k),g(u,k));}function d(a){var b=Aa[a],d,f;if(!b){for(d=a-1;!Aa[d];)d--;b=Aa[d];for(b={line:b.line,column:b.column,\nseenCR:b.seenCR};d<a;)f=c.charAt(d),\"\\n\"===f?(b.seenCR||b.line++,b.column=1,b.seenCR=!1):\"\\r\"===f||\"\\u2028\"===f||\"\\u2029\"===f?(b.line++,b.column=1,b.seenCR=!0):(b.column++,b.seenCR=!1),d++;Aa[a]=b}return b}function g(a,b){var c=d(a),f=d(b);return{start:{offset:a,line:c.line,column:c.column},end:{offset:b,line:f.line,column:f.column}}}function e(a){k<N||(k>N&&(N=k,Ba=[]),Ba.push(a))}function h(a,c,d,f){function e(a){var b=1;for(a.sort(function(a,b){return a.description<b.description?-1:a.description>\nb.description?1:0});b<a.length;)a[b-1]===a[b]?a.splice(b,1):b++}function g(a,b){function c(a){function b(a){return a.charCodeAt(0).toString(16).toUpperCase()}return a.replace(/\\\\/g,\"\\\\\\\\\").replace(/\"/g,'\\\\\"').replace(/\\x08/g,\"\\\\b\").replace(/\\t/g,\"\\\\t\").replace(/\\n/g,\"\\\\n\").replace(/\\f/g,\"\\\\f\").replace(/\\r/g,\"\\\\r\").replace(/[\\x00-\\x07\\x0B\\x0E\\x0F]/g,function(a){return\"\\\\x0\"+b(a)}).replace(/[\\x10-\\x1F\\x80-\\xFF]/g,function(a){return\"\\\\x\"+b(a)}).replace(/[\\u0100-\\u0FFF]/g,function(a){return\"\\\\u0\"+b(a)}).replace(/[\\u1000-\\uFFFF]/g,\nfunction(a){return\"\\\\u\"+b(a)})}var d=Array(a.length),f;for(f=0;f<a.length;f++)d[f]=a[f].description;d=1<a.length?d.slice(0,-1).join(\", \")+\" or \"+d[a.length-1]:d[0];f=b?'\"'+c(b)+'\"':\"end of input\";return\"Expected \"+d+\" but \"+f+\" found.\"}null!==c&&e(c);return new b(null!==a?a:g(c,d),c,d,f)}function l(){var a,b,c,d,e,g;a=k;b=[];for(c=n();c!==f;)b.push(c),c=n();if(b!==f)if(c=p(),c!==f){b=[];d=k;e=[];g=n();if(g!==f)for(;g!==f;)e.push(g),g=n();else e=f;e!==f?(g=p(),g!==f?d=e=[e,g]:(k=d,d=f)):(k=d,d=f);\nfor(;d!==f;){b.push(d);d=k;e=[];g=n();if(g!==f)for(;g!==f;)e.push(g),g=n();else e=f;e!==f?(g=p(),g!==f?d=e=[e,g]:(k=d,d=f)):(k=d,d=f)}if(b!==f){d=[];for(e=n();e!==f;)d.push(e),e=n();d!==f?(e=C(),e===f&&(e=null),e!==f?(u=a,a=b=aa(c,b)):(k=a,a=f)):(k=a,a=f)}else k=a,a=f}else k=a,a=f;else k=a,a=f;return a}function n(){var a,b,c;a=k;b=C();b===f&&(b=null);b!==f?(c=B(),c!==f?a=b=[b,c]:(k=a,a=f)):(k=a,a=f);return a}function p(){var b,d,g,h;b=k;d=C();d===f&&(d=null);if(d!==f){var n,m,p,v,y,J,F,E;m=k;c.substr(k,\n3)===Ta?(p=Ta,k+=3):(p=f,0===q&&e(xb));if(p!==f)if(v=D(),v!==f)if(y=B(),y!==f)if(J=l(),J!==f){F=[];for(E=z();E!==f;)F.push(E),E=z();if(F!==f)if(c.substr(k,3)===Q?(E=Q,k+=3):(E=f,0===q&&e(Ca)),E!==f){u=m;var H=new Hc(J,v);F.unshift(H);m=p=new gd(F)}else k=m,m=f;else k=m,m=f}else k=m,m=f;else k=m,m=f;else k=m,m=f;else k=m,m=f;n=m;if(n===f){var P,N,V,X,aa,oa;P=k;c.substr(k,8)===za?(N=za,k+=8):(N=f,0===q&&e(Ra));N!==f?(V=D(),V!==f?(X=B(),X!==f?(aa=l(),aa!==f?(c.substr(k,3)===Q?(oa=Q,k+=3):(oa=f,0===q&&\ne(Ca)),oa!==f?(u=P,P=N=new zb(\"Critical\",aa,V)):(k=P,P=f)):(k=P,P=f)):(k=P,P=f)):(k=P,P=f)):(k=P,P=f);n=P;if(n===f){var R,yb,Aa,Da,Ea,xa;R=k;c.substr(k,5)===Sa?(yb=Sa,k+=5):(yb=f,0===q&&e(wb));yb!==f?(Aa=D(),Aa!==f?(Da=B(),Da!==f?(Ea=l(),Ea!==f?(c.substr(k,3)===Q?(xa=Q,k+=3):(xa=f,0===q&&e(Ca)),xa!==f?(u=R,lucid.kissMetrics.record(lucid.kissMetrics.Events.umlSequenceMarkupNamedGroups),a(i18n.get(\"plugin-umlparser-no-named-groups\")),R=yb=void 0):(k=R,R=f)):(k=R,R=f)):(k=R,R=f)):(k=R,R=f)):(k=R,R=f);\nn=R;if(n===f){var S,pa,ya,Ga,Ba,gc;S=k;c.substr(k,4)===Fa?(pa=Fa,k+=4):(pa=f,0===q&&e(tb));pa!==f?(ya=D(),ya!==f?(Ga=B(),Ga!==f?(Ba=l(),Ba!==f?(c.substr(k,3)===Q?(gc=Q,k+=3):(gc=f,0===q&&e(Ca)),gc!==f?(u=S,S=pa=new zb(\"Loop\",Ba,ya)):(k=S,S=f)):(k=S,S=f)):(k=S,S=f)):(k=S,S=f)):(k=S,S=f);n=S;if(n===f){var T,Ab,hc,cb,ic,jc;T=k;c.substr(k,3)===Pa?(Ab=Pa,k+=3):(Ab=f,0===q&&e(ub));Ab!==f?(hc=D(),hc!==f?(cb=B(),cb!==f?(ic=l(),ic!==f?(c.substr(k,3)===Q?(jc=Q,k+=3):(jc=f,0===q&&e(Ca)),jc!==f?(u=T,T=Ab=new zb(\"Opt\",\nic,hc)):(k=T,T=f)):(k=T,T=f)):(k=T,T=f)):(k=T,T=f)):(k=T,T=f);n=T;if(n===f){var U,Bb,kc,db,lc,mc;U=k;c.substr(k,3)===Qa?(Bb=Qa,k+=3):(Bb=f,0===q&&e(vb));Bb!==f?(kc=D(),kc!==f?(db=B(),db!==f?(lc=l(),lc!==f?(c.substr(k,3)===Q?(mc=Q,k+=3):(mc=f,0===q&&e(Ca)),mc!==f?(u=U,U=Bb=new zb(\"Par\",lc,kc)):(k=U,U=f)):(k=U,U=f)):(k=U,U=f)):(k=U,U=f)):(k=U,U=f);n=U}}}}}g=n;if(g===f){var I,Cb,Db,nc,Eb,oc,Fb,Ua;I=k;Cb=t();if(Cb!==f)if(Db=C(),Db===f&&(Db=null),Db!==f){var ba,Ha,pc,Va;ba=k;var qa,ca;qa=k;c.substr(k,\n2)===Ic?(ca=Ic,k+=2):(ca=f,0===q&&e(hd));ca!==f&&(u=qa,ca=Ia.open);qa=ca;qa===f&&(qa=k,60===c.charCodeAt(k)?(ca=id,k++):(ca=f,0===q&&e(jd)),ca!==f&&(u=qa,ca=Ia.closed),qa=ca);Ha=qa;Ha===f&&(Ha=null);if(Ha!==f){var ra,da;ra=k;c.substr(k,2)===Jc?(da=Jc,k+=2):(da=f,0===q&&e(kd));da!==f&&(u=ra,da=Kc.dash);ra=da;ra===f&&(ra=k,45===c.charCodeAt(k)?(da=Lc,k++):(da=f,0===q&&e(Mc)),da!==f&&(u=ra,da=Kc.solid),ra=da);pc=ra;if(pc!==f){var sa,ea;sa=k;c.substr(k,2)===Nc?(ea=Nc,k+=2):(ea=f,0===q&&e(ld));ea!==f&&\n(u=sa,ea=Ia.open);sa=ea;sa===f&&(sa=k,62===c.charCodeAt(k)?(ea=md,k++):(ea=f,0===q&&e(nd)),ea!==f&&(u=sa,ea=Ia.closed),sa=ea);Va=sa;Va===f&&(Va=null);Va!==f?(u=ba,ba=Ha=new od(pc,Ha||Ia.none,Va||Ia.none)):(k=ba,ba=f)}else k=ba,ba=f}else k=ba,ba=f;nc=ba;if(nc!==f)if(Eb=C(),Eb===f&&(Eb=null),Eb!==f)if(oc=t(),oc!==f)if(Fb=C(),Fb===f&&(Fb=null),Fb!==f){var fa,Gb,Hb,qc;fa=k;58===c.charCodeAt(k)?(Gb=Oc,k++):(Gb=f,0===q&&e(Pc));Gb!==f?(Hb=C(),Hb===f&&(Hb=null),Hb!==f?(qc=D(),qc!==f?(u=fa,fa=Gb=qc):(k=fa,\nfa=f)):(k=fa,fa=f)):(k=fa,fa=f);Ua=fa;Ua===f&&(Ua=null);Ua!==f?(u=I,I=Cb=new pd(Cb,oc,nc,Ua)):(k=I,I=f)}else k=I,I=f;else k=I,I=f;else k=I,I=f;else k=I,I=f}else k=I,I=f;else k=I,I=f;g=I;if(g===f){var Ib,Y,rc,eb,sc,Wa;Y=k;var tc;c.substr(k,11)===Qc?(tc=Qc,k+=11):(tc=f,0===q&&e(qd));rc=tc;rc!==f?(eb=C(),eb!==f?(sc=x(),sc!==f?(Wa=A(),Wa===f&&(Wa=null),Wa!==f?(u=Y,Y=rc=new rd(sc,Wa)):(k=Y,Y=f)):(k=Y,Y=f)):(k=Y,Y=f)):(k=Y,Y=f);Ib=Y;if(Ib===f){var Z,Jb,fb,gb,Kb;Z=k;var O;c.substr(k,5)===Rc?(O=Rc,k+=5):\n(O=f,0===q&&e(sd));O===f&&(c.substr(k,8)===Sc?(O=Sc,k+=8):(O=f,0===q&&e(td)),O===f&&(c.substr(k,7)===Tc?(O=Tc,k+=7):(O=f,0===q&&e(ud)),O===f&&(c.substr(k,6)===Uc?(O=Uc,k+=6):(O=f,0===q&&e(vd)),O===f&&(c.substr(k,8)===Vc?(O=Vc,k+=8):(O=f,0===q&&e(wd))))));Jb=O;Jb!==f?(fb=C(),fb!==f?(gb=x(),gb!==f?(Kb=A(),Kb===f&&(Kb=null),Kb!==f?(u=Z,a(i18n.get(\"plugin-umlparser-no-participant-type\",{participantType:Jb})),Z=Jb=void 0):(k=Z,Z=f)):(k=Z,Z=f)):(k=Z,Z=f)):(k=Z,Z=f);Ib=Z}g=Ib;if(g===f){var hb,Lb;hb=k;var Ja;\nc.substr(k,9)===Wc?(Ja=Wc,k+=9):(Ja=f,0===q&&e(ec));Ja===f&&(c.substr(k,7)===Xc?(Ja=Xc,k+=7):(Ja=f,0===q&&e(fc)));Lb=Ja;Lb!==f&&(u=hb,Lb=new xd);g=Lb;if(g===f){var Mb,K,Nb,ib,uc,Ob,vc,wc;K=k;c.substr(k,4)===Ka?(Nb=Ka,k+=4):(Nb=f,0===q&&e(xc));Nb!==f?(ib=C(),ib!==f?(uc=ka(),uc!==f?(Ob=C(),Ob===f&&(Ob=null),Ob!==f?(58===c.charCodeAt(k)?(vc=Oc,k++):(vc=f,0===q&&e(Pc)),vc!==f?(wc=D(),wc!==f?(u=K,K=Nb=uc.toNote(wc)):(k=K,K=f)):(k=K,K=f)):(k=K,K=f)):(k=K,K=f)):(k=K,K=f)):(k=K,K=f);Mb=K;if(Mb===f){var L,\nPb,jb,yc,kb,zc,lb;L=k;c.substr(k,4)===Ka?(Pb=Ka,k+=4):(Pb=f,0===q&&e(xc));if(Pb!==f)if(jb=C(),jb!==f)if(yc=ka(),yc!==f)if(kb=B(),kb!==f){var mb,La,M,Ma,Qb;mb=k;La=[];M=k;Ma=W();Ma!==f?(Qb=B(),Qb!==f?(u=M,M=Ma):(k=M,M=f)):(k=M,M=f);for(;M!==f;)La.push(M),M=k,Ma=W(),Ma!==f?(Qb=B(),Qb!==f?(u=M,M=Ma):(k=M,M=f)):(k=M,M=f);La!==f&&(u=mb,La=La.join(\"\\n\"));zc=La;if(zc!==f){var la,Xa,Ac,Rb;la=k;c.substr(k,3)===Q?(Xa=Q,k+=3):(Xa=f,0===q&&e(Ca));Xa!==f?(Ac=C(),Ac!==f?(c.substr(k,4)===Ka?(Rb=Ka,k+=4):(Rb=f,0===\nq&&e(xc)),Rb!==f?la=Xa=[Xa,Ac,Rb]:(k=la,la=f)):(k=la,la=f)):(k=la,la=f);lb=la;lb!==f?(u=L,L=Pb=yc.toNote(zc)):(k=L,L=f)}else k=L,L=f}else k=L,L=f;else k=L,L=f;else k=L,L=f;else k=L,L=f;Mb=L}g=Mb;if(g===f){var ma,Sb,Bc,Tb;q++;ma=k;c.substr(k,5)===Yc?(Sb=Yc,k+=5):(Sb=f,0===q&&e(yd));if(Sb!==f){Bc=[];for(Tb=G();Tb!==f;)Bc.push(Tb),Tb=G();Bc!==f?(u=ma,lucid.kissMetrics.record(lucid.kissMetrics.Events.umlSequenceMarkupTitle),a(i18n.get(\"plugin-umlparser-no-title\")),ma=Sb=void 0):(k=ma,ma=f)}else k=ma,\nma=f;q--;ma===f&&0===q&&e(zd);g=ma;if(g===f){var na,Ub,Cc,Vb;q++;na=k;c.substr(k,7)===Zc?(Ub=Zc,k+=7):(Ub=f,0===q&&e(Ad));if(Ub!==f){Cc=[];for(Vb=G();Vb!==f;)Cc.push(Vb),Vb=G();Cc!==f?(u=na,lucid.kissMetrics.record(lucid.kissMetrics.Events.umlSequenceMarkupCaption),a(i18n.get(\"plugin-umlparser-no-caption\")),na=Ub=void 0):(k=na,na=f)}else k=na,na=f;q--;na===f&&0===q&&e(Bd);g=na;if(g===f){var Na,ga,Wb,nb,Dc;ga=k;c.substr(k,8)===$c?(Wb=$c,k+=8):(Wb=f,0===q&&e(Cd));Wb!==f?(nb=C(),nb!==f?(Dc=x(),Dc!==\nf?(u=ga,ga=Wb=new Dd(Dc)):(k=ga,ga=f)):(k=ga,ga=f)):(k=ga,ga=f);Na=ga;if(Na===f){var ha,Xb,ob,Ec;ha=k;c.substr(k,10)===ad?(Xb=ad,k+=10):(Xb=f,0===q&&e(Ed));Xb!==f?(ob=C(),ob!==f?(Ec=x(),Ec!==f?(u=ha,ha=Xb=new Fd(Ec)):(k=ha,ha=f)):(k=ha,ha=f)):(k=ha,ha=f);Na=ha;if(Na===f){var ia,Yb,pb,qb;ia=k;c.substr(k,7)===bd?(Yb=bd,k+=7):(Yb=f,0===q&&e(Gd));Yb!==f?(pb=C(),pb!==f?(qb=x(),qb!==f?(u=ia,lucid.kissMetrics.record(lucid.kissMetrics.Events.umlSequenceMarkupDestroy),a(i18n.get(\"plugin-umlparser-no-destruction\")),\nia=Yb=void 0):(k=ia,ia=f)):(k=ia,ia=f)):(k=ia,ia=f);Na=ia}}g=Na;if(g===f){var Oa,rb,Ya;rb=k;c.substr(k,15)===cd?(Ya=cd,k+=15):(Ya=f,0===q&&e(Hd));Ya!==f&&(u=rb,Ya=new Id);Oa=Ya;if(Oa===f){var ta,Zb,Za;ta=k;c.substr(k,17)===dd?(Zb=dd,k+=17):(Zb=f,0===q&&e(Jd));if(Zb!==f)if(Za=w(),Za===f&&(Za=null),Za!==f){u=ta;var $b=Za,$b=$b||[];ta=Zb=new Kd($b[0],$b[1])}else k=ta,ta=f;else k=ta,ta=f;Oa=ta;if(Oa===f){var ua,ac,$a;ua=k;c.substr(k,10)===ed?(ac=ed,k+=10):(ac=f,0===q&&e(Ld));if(ac!==f){var ja,Fc,Gc,ab;\nja=k;Fc=C();Fc!==f?(Gc=r(),Gc!==f?(ab=w(),ab===f&&(ab=null),ab!==f?(u=ja,ja=Fc=[Gc].concat(ab)):(k=ja,ja=f)):(k=ja,ja=f)):(k=ja,ja=f);$a=ja;$a===f&&($a=null);if($a!==f){u=ua;var bb=$a,bb=bb||[];ua=ac=new Md(bb[0],bb[1],bb[2])}else k=ua,ua=f}else k=ua,ua=f;Oa=ua}}g=Oa;if(g===f){var va,bc,cc;va=k;c.substr(k,7)===fd?(bc=fd,k+=7):(bc=f,0===q&&e(Nd));bc!==f?(cc=D(),cc===f&&(cc=null),cc!==f?(u=va,lucid.kissMetrics.record(lucid.kissMetrics.Events.umlSequenceMarkupPageSplit),a(i18n.get(\"plugin-umlparser-no-page-splits\")),\nva=bc=void 0):(k=va,va=f)):(k=va,va=f);g=va;if(g===f){var wa,dc,sb;wa=k;33===c.charCodeAt(k)?(dc=Od,k++):(dc=f,0===q&&e(Pd));dc!==f?(sb=D(),sb!==f?(u=wa,lucid.kissMetrics.record(lucid.kissMetrics.Events.umlSequenceMarkupPreprocessingDirective),a(i18n.get(\"plugin-umlparser-no-preprecessing-directives\")),wa=dc=void 0):(k=wa,wa=f)):(k=wa,wa=f);g=wa}}}}}}}}}}g!==f?(h=C(),h===f&&(h=null),h!==f?(u=b,b=d=g):(k=b,b=f)):(k=b,b=f)}else k=b,b=f;return b}function z(){var a,b,d;a=k;c.substr(k,4)===cb?(b=cb,k+=\n4):(b=f,0===q&&e(ya));b!==f?(b=D(),b!==f?(d=B(),d!==f?(d=l(),d!==f?(u=a,a=b=new Hc(d,b)):(k=a,a=f)):(k=a,a=f)):(k=a,a=f)):(k=a,a=f);return a}function t(){var b,d;q++;b=k;91===c.charCodeAt(k)?(d=Ga,k++):(d=f,0===q&&e(Qd));d===f&&(93===c.charCodeAt(k)?(d=Rd,k++):(d=f,0===q&&e(Sd)));d!==f&&(u=b,lucid.kissMetrics.record(lucid.kissMetrics.Events.umlSequenceMarkupExternalArrows),a(i18n.get(\"plugin-umlparser-no-external-arrows\")),d=void 0);b=d;b===f&&(b=k,d=x(),d!==f?(d=A(),d!==f?(u=b,lucid.kissMetrics.record(lucid.kissMetrics.Events.umlSequenceMarkupAliasOutsideParticipantDeclaration),\na(i18n.get(\"plugin-umlparser-no-alias-outside\")),b=void 0):(k=b,b=f)):(k=b,b=f),b===f&&(b=k,d=x(),d!==f&&(u=b),b=d));q--;b===f&&0===q&&e(db);return b}function A(){var a,b;a=k;b=C();b!==f?(c.substr(k,2)===eb?(b=eb,k+=2):(b=f,0===q&&e(Td)),b!==f?(b=C(),b!==f?(b=x(),b!==f?(u=a,a=b):(k=a,a=f)):(k=a,a=f)):(k=a,a=f)):(k=a,a=f);return a}function w(){var b,c,d;b=k;c=C();if(c!==f)if(c=r(),c!==f){var e;d=k;e=v();e!==f&&(u=d,lucid.kissMetrics.record(lucid.kissMetrics.Events.umlSequenceMarkupFormattedAutonumberStrings),\na(i18n.get(\"plugin-umlparser-no-formatted-autonumber\")),e=void 0);d=e;d===f&&(d=null);d!==f?(u=b,b=c=[c,d]):(k=b,b=f)}else k=b,b=f;else k=b,b=f;return b}function ka(){var a,b;a=k;c.substr(k,4)===fb?(b=fb,k+=4):(b=f,0===q&&e(Ud));if(b!==f)if(b=C(),b!==f){var d,g,l,h,n,m,p;b=k;d=x();if(d!==f){g=[];l=k;h=C();h===f&&(h=null);h!==f?(44===c.charCodeAt(k)?(n=gb,k++):(n=f,0===q&&e(hb)),n!==f?(m=C(),m===f&&(m=null),m!==f?(p=x(),p!==f?l=h=[h,n,m,p]:(k=l,l=f)):(k=l,l=f)):(k=l,l=f)):(k=l,l=f);for(;l!==f;)g.push(l),\nl=k,h=C(),h===f&&(h=null),h!==f?(44===c.charCodeAt(k)?(n=gb,k++):(n=f,0===q&&e(hb)),n!==f?(m=C(),m===f&&(m=null),m!==f?(p=x(),p!==f?l=h=[h,n,m,p]:(k=l,l=f)):(k=l,l=f)):(k=l,l=f)):(k=l,l=f);g!==f?(u=b,b=d=Vd(d,g)):(k=b,b=f)}else k=b,b=f;b!==f?(u=a,a=b=new oa.OverBlockNote(b)):(k=a,a=f)}else k=a,a=f;else k=a,a=f;a===f&&(a=k,c.substr(k,4)===Da?(b=Da,k+=4):(b=f,0===q&&e(ib)),b!==f?(b=C(),b!==f?(c.substr(k,2)===Ea?(b=Ea,k+=2):(b=f,0===q&&e(jb)),b!==f?(b=C(),b!==f?(b=x(),b!==f?(u=a,a=b=new oa.LeftBlockNote(b)):\n(k=a,a=f)):(k=a,a=f)):(k=a,a=f)):(k=a,a=f)):(k=a,a=f),a===f&&(a=k,c.substr(k,5)===xa?(b=xa,k+=5):(b=f,0===q&&e(kb)),b!==f?(b=C(),b!==f?(c.substr(k,2)===Ea?(b=Ea,k+=2):(b=f,0===q&&e(jb)),b!==f?(b=C(),b!==f?(b=x(),b!==f?(u=a,a=b=new oa.RightBlockNote(b)):(k=a,a=f)):(k=a,a=f)):(k=a,a=f)):(k=a,a=f)):(k=a,a=f),a===f&&(a=k,c.substr(k,4)===Da?(b=Da,k+=4):(b=f,0===q&&e(ib)),b!==f&&(u=a,b=new oa.LeftInlineNote),a=b,a===f&&(a=k,c.substr(k,5)===xa?(b=xa,k+=5):(b=f,0===q&&e(kb)),b!==f&&(u=a,b=new oa.RightInlineNote),\na=b))));return a}function W(){var a,b;a=k;b=D();b!==f&&(u=a,a=b,b=/^\\s*end\\s+note\\s*$/.test(a)?f:a.trim());return b}function x(){var a,b,d,g;q++;a=k;q++;Wd.test(c.charAt(k))?(b=c.charAt(k),k++):(b=f,0===q&&e(Xd));q--;b===f&&0===q&&e(Yd);if(b!==f){d=[];for(g=y();g!==f;)d.push(g),g=y();d!==f?(u=a,a=b=F(b,d)):(k=a,a=f)}else k=a,a=f;a===f&&(a=v());q--;a===f&&0===q&&e(db);return a}function D(){var a,b,c;q++;a=k;b=[];for(c=G();c!==f;)b.push(c),c=G();b!==f&&(u=a,b=F(b));a=b;q--;a===f&&0===q&&e(Zd);return a}\nfunction r(){var a,b,d,g;q++;a=k;45===c.charCodeAt(k)?(b=Lc,k++):(b=f,0===q&&e(Mc));b===f&&(b=null);if(b!==f){d=[];g=H();if(g!==f)for(;g!==f;)d.push(g),g=H();else d=f;d!==f?(u=a,a=b=parseInt(F(b,d),10)):(k=a,a=f)}else k=a,a=f;q--;a===f&&0===q&&e($d);return a}function v(){var a,b,d;q++;a=k;34===c.charCodeAt(k)?(b=lb,k++):(b=f,0===q&&e(mb));if(b!==f){b=[];nb.test(c.charAt(k))?(d=c.charAt(k),k++):(d=f,0===q&&e(ob));if(d!==f)for(;d!==f;)b.push(d),nb.test(c.charAt(k))?(d=c.charAt(k),k++):(d=f,0===q&&e(ob));\nelse b=f;b!==f?(34===c.charCodeAt(k)?(d=lb,k++):(d=f,0===q&&e(mb)),d!==f?(u=a,a=b=F(b)):(k=a,a=f)):(k=a,a=f)}else k=a,a=f;q--;a===f&&0===q&&e(ae);return a}function y(){var a;q++;be.test(c.charAt(k))?(a=c.charAt(k),k++):(a=f,0===q&&e(ce));q--;a===f&&0===q&&e(de);return a}function H(){var a;q++;ee.test(c.charAt(k))?(a=c.charAt(k),k++):(a=f,0===q&&e(fe));q--;a===f&&0===q&&e(ge);return a}function B(){var a,b;q++;a=[];pb.test(c.charAt(k))?(b=c.charAt(k),k++):(b=f,0===q&&e(qb));if(b!==f)for(;b!==f;)a.push(b),\npb.test(c.charAt(k))?(b=c.charAt(k),k++):(b=f,0===q&&e(qb));else a=f;q--;a===f&&0===q&&e(he);return a}function G(){var a;q++;ie.test(c.charAt(k))?(a=c.charAt(k),k++):(a=f,0===q&&e(je));q--;a===f&&0===q&&e(ke);return a}function C(){var a,b;q++;a=[];rb.test(c.charAt(k))?(b=c.charAt(k),k++):(b=f,0===q&&e(sb));if(b!==f)for(;b!==f;)a.push(b),rb.test(c.charAt(k))?(b=c.charAt(k),k++):(b=f,0===q&&e(sb));else a=f;q--;a===f&&0===q&&e(le);return a}function F(){return(1===arguments.length?[arguments[0]]:Array.apply(null,\narguments)).map(function(a){return Array.isArray(a)?a.join(\"\"):\"string\"==typeof a?a:\"\"}).join(\"\")}var E=1<arguments.length?arguments[1]:{},f={},V={diagram:l},X=l,aa=function(a,b){var c=b.map(function(a){return a[1]});c.unshift(a);return new me(c)},za=\"critical\",Ra={type:\"literal\",value:\"critical\",description:'\"critical\"'},Q=\"end\",Ca={type:\"literal\",value:\"end\",description:'\"end\"'},Fa=\"loop\",tb={type:\"literal\",value:\"loop\",description:'\"loop\"'},Pa=\"opt\",ub={type:\"literal\",value:\"opt\",description:'\"opt\"'},\nQa=\"par\",vb={type:\"literal\",value:\"par\",description:'\"par\"'},Sa=\"group\",wb={type:\"literal\",value:\"group\",description:'\"group\"'},Ta=\"alt\",xb={type:\"literal\",value:\"alt\",description:'\"alt\"'},cb=\"else\",ya={type:\"literal\",value:\"else\",description:'\"else\"'},Wc=\"@startuml\",ec={type:\"literal\",value:\"@startuml\",description:'\"@startuml\"'},Xc=\"@enduml\",fc={type:\"literal\",value:\"@enduml\",description:'\"@enduml\"'},db={type:\"other\",description:\"identifier\"},Ga=\"[\",Qd={type:\"literal\",value:\"[\",description:'\"[\"'},\nRd=\"]\",Sd={type:\"literal\",value:\"]\",description:'\"]\"'},Ic=\"<<\",hd={type:\"literal\",value:\"<<\",description:'\"<<\"'},id=\"<\",jd={type:\"literal\",value:\"<\",description:'\"<\"'},Jc=\"--\",kd={type:\"literal\",value:\"--\",description:'\"--\"'},Lc=\"-\",Mc={type:\"literal\",value:\"-\",description:'\"-\"'},Nc=\">>\",ld={type:\"literal\",value:\">>\",description:'\">>\"'},md=\">\",nd={type:\"literal\",value:\">\",description:'\">\"'},Oc=\":\",Pc={type:\"literal\",value:\":\",description:'\":\"'},Qc=\"participant\",qd={type:\"literal\",value:\"participant\",\ndescription:'\"participant\"'},Rc=\"actor\",sd={type:\"literal\",value:\"actor\",description:'\"actor\"'},Sc=\"boundary\",td={type:\"literal\",value:\"boundary\",description:'\"boundary\"'},Tc=\"control\",ud={type:\"literal\",value:\"control\",description:'\"control\"'},Uc=\"entity\",vd={type:\"literal\",value:\"entity\",description:'\"entity\"'},Vc=\"database\",wd={type:\"literal\",value:\"database\",description:'\"database\"'},eb=\"as\",Td={type:\"literal\",value:\"as\",description:'\"as\"'},ed=\"autonumber\",Ld={type:\"literal\",value:\"autonumber\",\ndescription:'\"autonumber\"'},cd=\"autonumber stop\",Hd={type:\"literal\",value:\"autonumber stop\",description:'\"autonumber stop\"'},dd=\"autonumber resume\",Jd={type:\"literal\",value:\"autonumber resume\",description:'\"autonumber resume\"'},Ka=\"note\",xc={type:\"literal\",value:\"note\",description:'\"note\"'},fb=\"over\",Ud={type:\"literal\",value:\"over\",description:'\"over\"'},Da=\"left\",ib={type:\"literal\",value:\"left\",description:'\"left\"'},Ea=\"of\",jb={type:\"literal\",value:\"of\",description:'\"of\"'},xa=\"right\",kb={type:\"literal\",\nvalue:\"right\",description:'\"right\"'},gb=\",\",hb={type:\"literal\",value:\",\",description:'\",\"'},Vd=function(a,b){var c=b.map(function(a){return a[3]});c.unshift(a);return c},zd={type:\"other\",description:\"title\"},Yc=\"title\",yd={type:\"literal\",value:\"title\",description:'\"title\"'},Bd={type:\"other\",description:\"caption\"},Zc=\"caption\",Ad={type:\"literal\",value:\"caption\",description:'\"caption\"'},$c=\"activate\",Cd={type:\"literal\",value:\"activate\",description:'\"activate\"'},ad=\"deactivate\",Ed={type:\"literal\",value:\"deactivate\",\ndescription:'\"deactivate\"'},bd=\"destroy\",Gd={type:\"literal\",value:\"destroy\",description:'\"destroy\"'},fd=\"newpage\",Nd={type:\"literal\",value:\"newpage\",description:'\"newpage\"'},Od=\"!\",Pd={type:\"literal\",value:\"!\",description:'\"!\"'},Zd={type:\"other\",description:\"text description\"},$d={type:\"other\",description:\"an integer\"},ae={type:\"other\",description:\"a quoted string\"},lb='\"',mb={type:\"literal\",value:'\"',description:'\"\\\\\"\"'},nb=/^[^\"\\r\\n]/,ob={type:\"class\",value:'[^\"\\\\r\\\\n]',description:'[^\"\\\\r\\\\n]'},\nYd={type:\"other\",description:\"a letter\"},Wd=/^[a-zA-Z]/,Xd={type:\"class\",value:\"[a-zA-Z]\",description:\"[a-zA-Z]\"},de={type:\"other\",description:\"a letter or integer\"},be=/^[a-zA-Z0-9]/,ce={type:\"class\",value:\"[a-zA-Z0-9]\",description:\"[a-zA-Z0-9]\"},ge={type:\"other\",description:\"a number\"},ee=/^[0-9]/,fe={type:\"class\",value:\"[0-9]\",description:\"[0-9]\"},he={type:\"other\",description:\"a new line\"},pb=/^[\\r\\n]/,qb={type:\"class\",value:\"[\\\\r\\\\n]\",description:\"[\\\\r\\\\n]\"},ke={type:\"other\",description:\"any character except a new line\"},\nie=/^[^\\r\\n]/,je={type:\"class\",value:\"[^\\\\r\\\\n]\",description:\"[^\\\\r\\\\n]\"},le={type:\"other\",description:\"whitespace\"},rb=/^[ \\t]/,sb={type:\"class\",value:\"[ \\\\t]\",description:\"[ \\\\t]\"},k=0,u=0,Aa=[{line:1,column:1,seenCR:!1}],N=0,Ba=[],q=0,pa;if(\"startRule\"in E){if(!(E.startRule in V))throw Error(\"Can't start parsing from rule \\\"\"+E.startRule+'\".');X=V[E.startRule]}var Dd=plugin.uml.sequence.model.Activate,gd=plugin.uml.sequence.model.AltGroup,Ia=plugin.uml.sequence.model.ArrowType,Kd=plugin.uml.sequence.model.AutonumberResume,\nMd=plugin.uml.sequence.model.AutonumberStart,Id=plugin.uml.sequence.model.AutonumberStop,od=plugin.uml.sequence.model.Connector,Fd=plugin.uml.sequence.model.Deactivate,Hc=plugin.uml.sequence.model.ElseGroup,xd=plugin.uml.sequence.model.Ignore,Kc=plugin.uml.sequence.model.LineType,pd=plugin.uml.sequence.model.Message,zb=plugin.uml.sequence.model.MessageGroup,oa=plugin.uml.sequence.model.PartialNote,rd=plugin.uml.sequence.model.Participant,me=plugin.uml.sequence.model.SequenceDiagram;pa=X();if(pa!==\nf&&k===c.length)return pa;pa!==f&&k<c.length&&e({type:\"end\",description:\"end of input\"});throw h(null,Ba,N<c.length?c.charAt(N):null,N<c.length?g(N,N+1):g(N,N));}}}();h.provide(\"plugin.uml.sequence.Parser\");h.require(\"plugin.uml.sequence.peg\");h.require(\"plugin.uml.sequence.model.Message\");h.require(\"plugin.uml.sequence.model.Participant\");h.require(\"plugin.uml.sequence.model.SequenceDiagram\");plugin.uml.sequence.Parser.parse=function(b){try{return plugin.uml.sequence.Parser.parseSuccess(plugin.uml.sequence.peg.parse(b))}catch(c){if(c instanceof\nplugin.uml.sequence.peg.SyntaxError)return plugin.uml.sequence.Parser.parseError(c);throw c;}};plugin.uml.sequence.Parser.parseSuccess=function(b){return new plugin.uml.sequence.Parser.ParseSuccess(b)};plugin.uml.sequence.Parser.parseError=function(b){return new plugin.uml.sequence.Parser.ParseFailure(b.message,b.location)};plugin.uml.sequence.Parser.ParseResult=function(){};plugin.uml.sequence.Parser.ParseSuccess=function(b){this.diagram=b;this.diagram.doAutonumbering()};plugin.uml.sequence.Parser.ParseFailure=\nfunction(b,c){this.message=b;this.location=c};plugin.uml.sequence.Parser.ParseFailure.prototype.getErrorMessage=function(){return i18n.get(\"plugin-umlparser-message\",{message:new I18nSafeString(this.message),line:this.location.start.line,column:this.location.start.column})};plugin.uml.sequence.Parser.ParseFailure.prototype.getErrorLine=function(){return this.location.start.line};h.provide(\"plugin.uml.sequence.view.InlineNote\");h.provide(\"plugin.uml.sequence.view.LeftInlineNote\");h.provide(\"plugin.uml.sequence.view.RightInlineNote\");\nh.require(\"plugin.uml.sequence.model.InlineNote\");h.require(\"plugin.uml.sequence.model.Message\");h.require(\"plugin.uml.sequence.model.LeftInlineNote\");h.require(\"plugin.uml.sequence.model.RightInlineNote\");h.require(\"plugin.uml.sequence.view.ParticipantLifeline\");h.require(\"plugin.uml.sequence.view.SideNote\");plugin.uml.sequence.view.InlineNote=function(b,c,a){plugin.uml.sequence.view.SideNote.call(this,b,this.getLine(c,a),a)};h.inherits(plugin.uml.sequence.view.InlineNote,plugin.uml.sequence.view.SideNote);\nplugin.uml.sequence.view.InlineNote.prototype.getLine=function(b,c){return null};plugin.uml.sequence.view.LeftInlineNote=function(b,c,a){plugin.uml.sequence.view.InlineNote.call(this,b,c,a)};h.inherits(plugin.uml.sequence.view.LeftInlineNote,plugin.uml.sequence.view.InlineNote);plugin.uml.sequence.view.LeftInlineNote.prototype.getLine=function(b,c){var a=plugin.uml.sequence.view.ParticipantLifeline.getParticipantsInOrder([b.sender,b.recipient],c);return c[a[0]].line};plugin.uml.sequence.view.LeftInlineNote.prototype.calculateX=\nfunction(b){return this.line.x-plugin.uml.sequence.view.Note.horizontalPadding/2-this.textSize.w};plugin.uml.sequence.view.RightInlineNote=function(b,c,a){plugin.uml.sequence.view.InlineNote.call(this,b,c,a)};h.inherits(plugin.uml.sequence.view.RightInlineNote,plugin.uml.sequence.view.InlineNote);plugin.uml.sequence.view.RightInlineNote.prototype.getLine=function(b,c){var a=plugin.uml.sequence.view.ParticipantLifeline.getParticipantsInOrder([b.sender,b.recipient],c);return c[a[a.length-1]].line};\nplugin.uml.sequence.view.RightInlineNote.prototype.calculateX=function(b){return this.line.x+(b||0)+plugin.uml.sequence.view.Note.horizontalPadding/2};h.provide(\"plugin.uml.sequence.view.Message\");h.require(\"plugin.uml.sequence.model.LeftInlineNote\");h.require(\"plugin.uml.sequence.model.Message\");h.require(\"plugin.uml.sequence.model.RightInlineNote\");h.require(\"plugin.uml.sequence.view.LeftInlineNote\");h.require(\"plugin.uml.sequence.view.ParticipantLifeline\");h.require(\"plugin.uml.sequence.view.RightInlineNote\");\nh.require(\"plugin.uml.sequence.model.size\");plugin.uml.sequence.view.Message=function(b){this.model=b;this.rightPadding=this.textWidth=0;this.model.label&&(this.textWidth=lucid.text.measure(lucid.text.styled(\"M\"+b.label+\"M\",{})).w);this.model.isSelfMessage()&&(this.rightPadding=plugin.uml.sequence.view.Message.selfMessageWidth+this.textWidth)};plugin.uml.sequence.view.Message.selfMessageWidth=120;plugin.uml.sequence.view.Message.prototype.render=function(b,c,a,d){var g=[],e=c[this.model.sender],h=\nc[this.model.recipient],l=this.renderMessageLine(b,e,h,a,d);this.renderMessageLabel(e,h,l);g.push(l);this.model.note&&(b=this.renderNote(b,c,a,d),g.push(b));return g};plugin.uml.sequence.view.Message.prototype.renderMessageLine=function(b,c,a,d,g){var e={Endpoint1:{Style:this.model.connector.leftArrow},Endpoint2:{Style:this.model.connector.rightArrow},StrokeStyle:this.model.connector.lineType,Shape:\"elbow\"};c.setEndpoint1ConnectData(e,this.getPercent1(d,g),a.order);a.setEndpoint2ConnectData(e,this.getPercent2(d,\ng),c.order);this.model.isSelfMessage()&&(e.XPlanes=[c.line.x+plugin.uml.sequence.view.Message.selfMessageWidth]);return lucid.plugin.addLine(b,e)};plugin.uml.sequence.view.Message.prototype.getPercent1=function(b,c){return(b+(this.model.arrowHeight-this.model.paddingAboveRecipient))/c};plugin.uml.sequence.view.Message.prototype.getPercent2=function(b,c){return(b+this.model.arrowHeight)/c};plugin.uml.sequence.view.Message.prototype.renderMessageLabel=function(b,c,a){if(this.model.label){var d=-1;b.order>\nc.order&&(d=1);lucid.plugin.addLineTextArea(a,{id:\"label\",value:this.model.label,side:d,location:.5})}};plugin.uml.sequence.view.Message.prototype.renderNote=function(b,c,a,d){var g;this.model.note instanceof plugin.uml.sequence.model.LeftInlineNote?g=new plugin.uml.sequence.view.LeftInlineNote(this.model.note,this.model,c):this.model.note instanceof plugin.uml.sequence.model.RightInlineNote&&(g=new plugin.uml.sequence.view.RightInlineNote(this.model.note,this.model,c));return g.render(b,a+(this.model.height-\nthis.model.note.height),d,this.rightPadding)};plugin.uml.sequence.view.Message.prototype.getBoundingBox=function(b,c,a){var d=[this.getMessageBoundingBox(b[this.model.sender],b[this.model.recipient],c,a)];this.model.note&&(b=this.getNoteBoundingBox(b,c,a),d.push(b));return lucid.math.Box.combine(d)};plugin.uml.sequence.view.Message.prototype.getMessageBoundingBox=function(b,c,a,d){var g=a/d*(b.line.yBot-b.line.yTop);return{x:Math.min(b.line.x,c.line.x),y:b.line.yTop+g,w:Math.abs(b.line.x-c.line.x)+\nthis.rightPadding,h:(a+this.model.height)/d*(b.line.yBot-b.line.yTop)-g}};plugin.uml.sequence.view.Message.prototype.getNoteBoundingBox=function(b,c,a){var d;this.model.note instanceof plugin.uml.sequence.model.LeftInlineNote?d=new plugin.uml.sequence.view.LeftInlineNote(this.model.note,this.model,b):this.model.note instanceof plugin.uml.sequence.model.RightInlineNote&&(d=new plugin.uml.sequence.view.RightInlineNote(this.model.note,this.model,b));return d.getBoundingBox(c,a,this.rightPadding)};h.provide(\"plugin.uml\");\nh.require(\"plugin.common.Swimlane\");h.require(\"plugin.uml.sequence.Parser\");h.require(\"plugin.uml.sequence.model.Action\");h.require(\"plugin.uml.sequence.model.ActivationGroup\");h.require(\"plugin.uml.sequence.model.Message\");h.require(\"plugin.uml.sequence.model.Note\");h.require(\"plugin.uml.sequence.model.LeftBlockNote\");h.require(\"plugin.uml.sequence.model.OverNote\");h.require(\"plugin.uml.sequence.model.RightBlockNote\");h.require(\"plugin.uml.sequence.model.Participant\");h.require(\"plugin.uml.sequence.model.SequenceDiagram\");\nh.require(\"plugin.uml.sequence.model.SubDiagram\");h.require(\"plugin.uml.sequence.model.size\");h.require(\"plugin.uml.sequence.view.Message\");h.require(\"plugin.uml.sequence.view.LeftBlockNote\");h.require(\"plugin.uml.sequence.view.OverBlockNote\");h.require(\"plugin.uml.sequence.view.ParticipantLifeline\");h.require(\"plugin.uml.sequence.view.RightBlockNote\");var Qa=!1;lucid.plugin.onDocumentLoaded(function(){function b(a,b,c){function d(a,e){e||(b.change?lucid.array.forEach(b.ids,function(c){b.change(a,\ne,c)}):(lucid.array.forEach(b.ids,function(c){lucid.plugin.setPropertyIfChanged(c,b.prop,a)}),c()))}function e(a,b){a=parseInt(a||0,10);d(a,b)}g&&!b.nospace&&a.spacer();g=!0;if(\"button\"==b.type)a.openGrid({prefix:2,suffix:2,width:8}),a.addButton({onClick:function(){lucid.array.forEach(b.ids,function(a){b.onClick(a)})},label:b.name}),a.close();else if(\"spinner\"==b.type)a.addGrid({width:6,content:{text:b.name+\":\",classes:\"crop ralign\"}}),a.openGrid({width:3,suffix:3}),a.addInput({type:\"spinner\",min:1,\nmax:50,step:1,value:b.value(b.ids[0]),defaultVal:\" \",onChange:d}),a.close();else if(\"select\"==b.type){a.addGrid({width:6,content:{text:b.name+\":\",classes:\"crop ralign\"}});var l=[];lucid.object.forEach(b.options,function(a,b){l.push({label:a,value:b})});a.openGrid({width:6});a.addInput({type:\"select\",options:l,onChange:e}).setValue(b.value(b.ids[0]));a.close()}}function c(n){var p=function(){c(n);l&&l.refresh&&l.refresh()};n=lucid.array.filter(n,function(a){return a.isLine?e(a.id):h(a)||\"UMLMultidimensionalSwimlane\"==\na.className?!0:!1});var z=!1;g=!1;var t=lucid.template.builder();if(1==n.length&&h(n[0]))var A=n[0].id,w={laneCount:{ids:[],name:i18n.get(\"plugin-uml-option-lanes\"),type:\"spinner\",prop:\"Lanes\",value:function(){return lucid.plugin.getProperty(A,\"Lanes\").length},change:function(a,b,c){b=lucid.plugin.getProperty(c,\"Lanes\").length;if(b<a)for(;b<a;b++)plugin.common.Swimlane.updateLanes(\"add\",c,void 0,void 0,!0);else if(b>a)for(;b>a;b--)plugin.common.Swimlane.updateLanes(\"remove\",c,void 0,void 0,!0)}},\npoolOrientation:{ids:[],name:i18n.get(\"plugin-uml-option-orientation\"),type:\"select\",prop:\"Vertical\",options:{0:i18n.get(\"plugin-uml-horizontal\"),1:i18n.get(\"plugin-uml-vertical\")},value:function(){return lucid.plugin.getProperty(A,\"Vertical\")},change:function(a,b,c){\"\"!==a&&(b=lucid.plugin.getProperty(c,\"Vertical\"),a=parseInt(a,10),a!=b&&lucid.plugin.setProperty(c,\"Vertical\",a))}}};else 1==n.length&&\"UMLMultidimensionalSwimlane\"==n[0].className?(A=n[0].id,w={rows:{ids:[],name:i18n.get(\"plugin-uml-option-rows\"),\ntype:\"spinner\",prop:\"Rows\",value:function(){return lucid.plugin.getProperty(A,\"Rows\").length},change:tb.bind(null,A)},columns:{ids:[],name:i18n.get(\"plugin-uml-option-columns\"),type:\"spinner\",prop:\"Columns\",value:function(){return lucid.plugin.getProperty(n[0].id,\"Columns\").length},change:Pa.bind(null,A)}}):w={multiplicity:{ids:[],type:\"button\",name:i18n.get(\"plugin-uml-option-multiplicity\"),onClick:function(a){var b=lucid.plugin.getProperty(a,\"TextAreas\"),c={};if(null===b.m1||void 0===b.m1)c.m1=\n{Location:0,Side:-1,Value:\"0..*\"};if(null===b.m2||void 0===b.m2)c.m2={Location:1,Side:-1,Value:\"0..*\"};(c.m1||c.m2)&&lucid.plugin.setPropertyIfChanged(a,\"TextAreas\",c)}},swapEndPoints:{ids:[],type:\"button\",name:i18n.get(\"plugin-uml-option-line-reverse\"),onClick:function(a){var b=lucid.plugin.getProperty(a,\"Endpoint1\"),c=lucid.plugin.getProperty(a,\"Endpoint2\"),d=function(a,b,c){for(var d=0;d<c.length;d++)a[c[d]]=b[c[d]]},e=lucid.object.copy(b),g=lucid.object.copy(c);d(e,c,[\"Style\",\"Padding\"]);d(g,\nb,[\"Style\",\"Padding\"]);lucid.plugin.setPropertyIfChanged(a,\"Endpoint1\",e);lucid.plugin.setPropertyIfChanged(a,\"Endpoint2\",g);var b=lucid.plugin.getProperty(a,\"TextAreas\"),l;for(l in b)b[l]&&null!==b[l].Location&&(b[l].Location=1-b[l].Location);0<lucid.object.size(b)&&lucid.plugin.setPropertyIfChanged(a,\"TextAreas\",b)}}};lucid.array.forEach(n,function(a){lucid.object.forEach(w,function(b){(a.isLine&&null==b.prop||!a.isLine&&null!=b.prop)&&b.ids.push(a.id)})});lucid.object.forEach(w,function(a){0<a.ids.length&&\n(b(t,a,p),z=!0)});a.getElement(d).setContent(t);return z}var a=lucid.template.builder();lucid.hubspot.recordEvent(\"uml-shape-library-enabled\");lucid.kissMetrics.record(lucid.kissMetrics.Events.umlShapeLibraryEnabled);var d=a.add({classes:\"ios_inputs\"}),g=!1,e=function(a){function b(a){return a?(a=lucid.plugin.getBlockClassName(a))&&0==a.search(\"UML\"):!1}var c=lucid.plugin.getProperty(a,\"Endpoint1\");a=lucid.plugin.getProperty(a,\"Endpoint2\");return b(c.Block)||b(a.Block)},h=function(a){return a.className&&\n0==a.className.search(\"UMLMultiLanePool\")},l=lucid.plugin.addCustomPanel(\"\",null,[{content:a}],null,{isContextPanel:!0,checkShow:c,refreshProperties:[\"Vertical\",\"Lanes\"]})});lucid.plugin.onDocumentLoaded(function(){lucid.plugin.getAllGroupIds(function(b){return!!lucid.plugin.getProperty(b,\"Markup\")})});lucid.plugin.initBlockClass({className:\"UMLSwimLaneBlock\",name:i18n.get(\"plugin-uml-swimlane\"),searchKeywords:i18n.get(\"plugin-uml-swimlane-search-keywords\"),container:!0,defaultSize:{w:320,h:400},\ndefaultProperties:function(){return{Magnetize:!1}},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:\"Text\",value:i18n.get(\"plugin-uml-swimlane-text\"),getBoundingBox:function(b){return{x:b.x+20,y:b.y,w:b.w-40,h:40}}})},getLinkPoints:function(){return[{x:.5,y:0}]},getRenderDataKey:function(){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(b,c){var a=b.BoundingBox,d=40;if(40>a.h||\"sample\"==c)d=a.h/4;return[{FillColor:b.FillColor||null,StrokeColor:b.LineColor,LineWidth:b.LineWidth,\nActions:[{Action:\"move\",x:a.x,y:a.y+d/2},{Action:\"line\",x:a.x,y:a.y+a.h},{Action:\"line\",x:a.x+a.w,y:a.y+a.h},{Action:\"line\",x:a.x+a.w,y:a.y+d/2}]},{FillColor:b.FillColor||null,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y+d},{Action:\"line\",x:a.x,y:a.y+d},{Action:\"close\"}]}]}});lucid.plugin.initBlockClass({className:\"UMLTextBlock\",name:i18n.get(\"plugin-uml-textblock\"),searchKeywords:\"\",defaultSize:{w:160,\nh:40},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:\"Text\",value:i18n.get(\"plugin-uml-textblock-text\"),wantReturn:!0,getBoundingBox:function(c){return F(c,function(a){return{x:a.x+20,y:a.y,w:a.w-40,h:a.h}},function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(b,\"InsetMargin\")||0,hideOverflow:!0}})}});1<B()&&(lucid.plugin.registerProperty(b,\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(b,\"InsetMargin\",5))},getLinkPoints:function(b){return[{x:.5,y:0},{x:.5,y:1},{x:0,\ny:.5},{x:1,y:.5}]},getRenderDataKey:function(){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(b,c){var a=b.BoundingBox;return[{FillColor:b.FillColor,Actions:[{Action:\"move\",x:a.x,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y+a.h},{Action:\"line\",x:a.x,y:a.y+a.h},{Action:\"close\"}]}]}});lucid.plugin.initBlockClass({className:\"UMLCircleContainerBlock\",name:i18n.get(\"plugin-uml-oval-container\"),searchKeywords:i18n.get(\"plugin-uml-oval-container-search-keywords\"),\ndefaultSize:{w:320,h:480},partialContainer:{getContainerArea:function(b){return lucid.plugin.getProperty(b,\"BoundingBox\")}},defaultProperties:function(){return{Magnetize:!1}},getLinkPoints:function(b){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(b,c){var a=b.BoundingBox;return[{FillColor:b.FillColor||null,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x+a.w,y:a.y+a.h/\n2},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x,a.y,a.w,a.h,0,2*Math.PI)},{Action:\"close\"}]}]},onInit:function(b){lucid.plugin.setProperty(b,\"DisableAutoLink\",!0)}});lucid.plugin.initBlockClass({className:\"UMLRectangleContainerBlock\",name:i18n.get(\"plugin-uml-rectangle-container\"),searchKeywords:i18n.get(\"plugin-uml-rectangle-container-search-keywords\"),defaultSize:{w:320,h:240},partialContainer:{getContainerArea:function(b){return lucid.plugin.getProperty(b,\"BoundingBox\")}},defaultProperties:function(){return{Magnetize:!1}},\nonInit:function(b){lucid.plugin.setProperty(b,\"DisableAutoLink\",!0);lucid.plugin.addBlockTextArea(b,{id:\"Text\",value:i18n.get(\"plugin-uml-rectangle-container-text\"),getBoundingBox:function(b){return{x:b.x+8,y:b.y+8,w:b.w-16,h:24}}})},getLinkPoints:function(b){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(b,c){var a=b.BoundingBox;return[{FillColor:b.FillColor||null,StrokeColor:b.LineColor,LineWidth:b.LineWidth,\nActions:[{Action:\"move\",x:a.x,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y+a.h},{Action:\"line\",x:a.x,y:a.y+a.h},{Action:\"close\"}]}]}});lucid.plugin.initBlockClass({className:\"UMLSendSignalBlock\",name:i18n.get(\"plugin-uml-send-signal-block\"),searchKeywords:i18n.get(\"plugin-uml-send-signal-block-search-keywords\"),defaultSize:{w:180,h:60},onInit:function(b){lucid.plugin.setProperty(b,\"DisableAutoLink\",!0);lucid.plugin.addBlockTextArea(b,{id:\"Text\",value:i18n.get(\"plugin-uml-send-signal-block-text\"),\ngetBoundingBox:function(b){return{x:b.x+8,y:b.y+8,w:.75*b.w,h:b.h-16}}})},getLinkPoints:function(b){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(b,c){var a=b.BoundingBox;return[{FillColor:b.FillColor||null,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x,y:a.y},{Action:\"line\",x:a.x+.8*a.w,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y+a.h/2},{Action:\"line\",x:a.x+.8*a.w,y:a.y+a.h},\n{Action:\"line\",x:a.x,y:a.y+a.h},{Action:\"close\"}]}]}});lucid.plugin.initBlockClass({className:\"UMLReceiveSignalBlock\",name:i18n.get(\"plugin-uml-receive-signal-block\"),searchKeywords:i18n.get(\"plugin-uml-receive-signal-block-search-keywords\"),defaultSize:{w:180,h:60},onInit:function(b){lucid.plugin.setProperty(b,\"DisableAutoLink\",!0);lucid.plugin.addBlockTextArea(b,{id:\"Text\",value:i18n.get(\"plugin-uml-receive-signal-block-text\"),getBoundingBox:function(b){return{x:b.x+8,y:b.y+8,w:.75*b.w,h:b.h-16}}})},\ngetLinkPoints:function(b){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5}]},getRenderDataKey:function(){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(b,c){var a=b.BoundingBox;return[{FillColor:b.FillColor||null,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y},{Action:\"line\",x:a.x+.8*a.w,y:a.y+a.h/2},{Action:\"line\",x:a.x+a.w,y:a.y+a.h},{Action:\"line\",x:a.x,y:a.y+a.h},{Action:\"close\"}]}]}});lucid.plugin.initBlockClass({className:\"UMLNoteBlock\",\nname:i18n.get(\"plugin-uml-note-block\"),searchKeywords:\"\",defaultSize:{w:160,h:120},onInit:function(b){lucid.plugin.setProperty(b,\"TextAlign\",\"left\",!1);lucid.plugin.setProperty(b,\"DisableAutoLink\",!0);lucid.plugin.addBlockTextArea(b,{id:\"Text\",value:\"\",wantReturn:!0,getBoundingBox:function(c){return F(c,function(a){var b=.2*(a.h>a.w?a.w:a.h);return{x:a.x+.5*b,y:a.y+.5*b,w:a.w-b,h:a.h-.5*b}},function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(b,\"InsetMargin\")||0,hideOverflow:!0}})}});\n1<B()&&(lucid.plugin.registerProperty(b,\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(b,\"InsetMargin\",5))},getLinkPoints:function(){return[{x:.5,y:0},{x:1,y:.5},{x:.5,y:1},{x:0,y:.5}]},getRenderDataKey:function(){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(b,c){var a=b.BoundingBox,d=.2*(a.h>a.w?a.w:a.h),g=lucid.color.darken(b.FillColor,.3);\"sample\"==c&&(d*=2);return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x,y:a.y},\n{Action:\"line\",x:a.x+a.w-d,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y+d},{Action:\"line\",x:a.x+a.w,y:a.y+a.h},{Action:\"line\",x:a.x,y:a.y+a.h},{Action:\"close\"}]},{FillColor:g,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x+a.w-d,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y+d},{Action:\"line\",x:a.x+a.w-.8*d,y:a.y+.8*d},{Action:\"close\"}]}]}});lucid.plugin.initBlockClass({className:\"UMLClassBlock\",name:i18n.get(\"plugin-uml-class-block\"),searchKeywords:\"\",defaultSize:{w:360,h:240},variants:{UMLClassBlockSimple:{tooltip:i18n.get(\"plugin-uml-class-block-simple-tooltip\"),\nsearchKeywords:\"\",defaultProperties:function(){return{Simple:1}},defaultSize:{w:160,h:120}},UMLInterfaceBlock:{searchKeywords:\"\",defaultProperties:function(){return{Attributes:0,Title:'<span style=\"font-weight:bold;\">'+i18n.get(\"plugin-uml-class-interface-block-text\",{newline:\"\\n\"},[\"&lt;&lt;{}&gt;&gt;\"])+\"</span>\",TitleHeight:52}},defaultSize:{w:360,h:240},tooltip:i18n.get(\"plugin-uml-class-interface-block-tooltip\")},UMLInterfaceBlockSimple:{searchKeywords:\"\",defaultProperties:function(){return{Title:'<span style=\"font-weight:bold;\">'+\ni18n.get(\"plugin-uml-class-interface-block-text\",{newline:\"\\n\"},[\"&lt;&lt;{}&gt;&gt;\"])+\"</span>\",Simple:1}},defaultSize:{w:160,h:120},tooltip:i18n.get(\"plugin-uml-class-interface-block-simple-tooltip\")}},onInit:function(b){function c(){if(!lucid.plugin.getProperty(b,\"Simple\")){var a=lucid.text.getSize(b,\"Title\"),c=lucid.plugin.getProperty(b,\"Attributes\")?lucid.text.getSize(b,\"Text1\"):null,g=lucid.text.getSize(b,\"Text2\"),a=a?a.h+16:0,c=c?c.h+16:8,e=g?g.h+16:0,h=lucid.plugin.snapToGrid(b,a+c+e,1,\"ceil\"),\ng=lucid.plugin.getProperty(b,\"BoundingBox\");h>g.h&&(g.h=h);c=(g.h-a)*c/(c+e)/g.h;lucid.plugin.setPropertyIfChanged(b,\"TitleHeight\",a);lucid.plugin.setPropertyIfChanged(b,\"Text1Percent\",c);lucid.plugin.setPropertyIfChanged(b,\"BoundingBox\",g)}}lucid.plugin.registerProperty(b,\"TitleHeight\",26);lucid.plugin.registerProperty(b,\"Text1Percent\",.4);lucid.plugin.registerProperty(b,\"Simple\",0);lucid.plugin.registerProperty(b,\"Attributes\",1);lucid.plugin.setProperty(b,\"TextAlign\",\"left\");lucid.plugin.setProperty(b,\n\"TitleHeight\",26);lucid.plugin.setProperty(b,\"defaultHeight\",240,!0);lucid.plugin.addBlockTextArea(b,{id:\"Title\",value:'<span style=\"font-weight:bold;\">'+i18n.get(\"plugin-uml-class-block-title-text\")+\"</span>\",getBoundingBox:function(a){if(lucid.plugin.getProperty(b,\"Simple\"))return lucid.math.Box.pad(a,-8);var c=lucid.plugin.getProperty(b,\"TitleHeight\");return{x:a.x+8,y:a.y,w:a.w-16,h:c}},wantReturn:!1,readOnly:!1,align:\"center\"});lucid.plugin.addBlockTextArea(b,{id:\"Text1\",value:i18n.get(\"plugin-uml-class-block-text1\",\n{newline:\"\\n\"}),getBoundingBox:function(a){if(lucid.plugin.getProperty(b,\"Simple\")||!lucid.plugin.getProperty(b,\"Attributes\"))return null;var c=lucid.plugin.getProperty(b,\"TitleHeight\"),g=lucid.plugin.getProperty(b,\"Text1Percent\");return{x:a.x+12,y:a.y+c+8,w:a.w-24,h:a.h*g-16}},wantReturn:!0});lucid.plugin.addBlockTextArea(b,{id:\"Text2\",value:i18n.get(\"plugin-uml-class-block-text1\",{newline:\"\\n\"}),getBoundingBox:function(a){if(lucid.plugin.getProperty(b,\"Simple\"))return null;var c=lucid.plugin.getProperty(b,\n\"TitleHeight\");if(lucid.plugin.getProperty(b,\"Attributes\")){var g=lucid.plugin.getProperty(b,\"Text1Percent\");return{x:a.x+12,y:a.y+c+a.h*g+8,w:a.w-24,h:a.h*(1-g)-c-16}}return{x:a.x+12,y:a.y+c+8,w:a.w-24,h:a.h-c-16}},wantReturn:!0});lucid.plugin.hookPropertyPostSave(b,\"Title\",function(a,b){c()});lucid.plugin.hookPropertyPostSave(b,\"Text1\",function(a,b){c()});lucid.plugin.hookPropertyPostSave(b,\"Text2\",function(a,b){c()})},getLinkPoints:function(b){return[{x:0,y:.5},{x:.5,y:1},{x:1,y:.5},{x:.5,y:0}]},\ngetRenderDataKey:function(){return\"FillColor LineColor LineWidth TitleHeight defaultHeight Text1Percent Simple Attributes\".split(\" \")},getRenderData:function(b,c){var a=b.BoundingBox,d=b.TitleHeight,g=b.defaultHeight,e=b.Text1Percent;\"sample\"==c&&(d*=2*a.h/g);g=[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y+a.h},{Action:\"line\",x:a.x,y:a.y+a.h},{Action:\"close\"}]}];0==b.Simple&&\n(b.Attributes?g.push({StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x,y:Math.round(a.y+d)},{Action:\"line\",x:a.x+a.w,y:Math.round(a.y+d)},{Action:\"move\",x:a.x,y:Math.round(a.y+d+a.h*e)},{Action:\"line\",x:a.x+a.w,y:Math.round(a.y+d+a.h*e)}]}):g.push({StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x,y:Math.round(a.y+d)},{Action:\"line\",x:a.x+a.w,y:Math.round(a.y+d)}]}));return g}});lucid.plugin.initBlockClass({className:\"UMLActiveClassBlock\",name:i18n.get(\"plugin-uml-active-class-block\"),\nsearchKeywords:\"\",defaultSize:{w:160,h:120},onInit:function(b){lucid.plugin.registerProperty(b,\"Side\",.1);lucid.plugin.addBlockTextArea(b,{id:\"Text\",value:i18n.get(\"plugin-uml-active-class-block-text\"),getBoundingBox:function(c){var a=lucid.plugin.getProperty(b,\"Side\");return{x:c.x+c.w*(a+.025),y:c.y,w:c.w*(1-2*(a+.025)),h:c.h}}})},spatialControls:function(b){return[{logAction:\"chart.viewport.selection.spatialControls.uml.activeClass\",location:function(){var c=lucid.plugin.getProperty(b,\"BoundingBox\"),\na=lucid.plugin.getProperty(b,\"Side\");return{x:c.x+c.w*a-5,y:c.y+c.h-5,w:10,h:10}},moved:function(c){var a=lucid.plugin.getProperty(b,\"BoundingBox\");lucid.plugin.setProperty(b,\"Side\",(c.x-a.x)/a.w)},path:function(){var c=lucid.plugin.getProperty(b,\"BoundingBox\");return[{x:c.x+5,y:c.y},{x:c.x+c.w/3,y:c.y}]},snap:2}]},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(){return[\"FillColor\",\"LineColor\",\"LineWidth\",\"Side\"]},getRenderData:function(b,c){var a=\nb.BoundingBox;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y+a.h},{Action:\"line\",x:a.x,y:a.y+a.h},{Action:\"close\"}]},{StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x+a.w*b.Side,y:a.y},{Action:\"line\",x:a.x+a.w*b.Side,y:a.y+a.h},{Action:\"move\",x:a.x+a.w*(1-b.Side),y:a.y},{Action:\"line\",x:a.x+a.w*(1-b.Side),y:a.y+a.h}]}]}});lucid.plugin.initBlockClass({className:\"UMLMultiplicityBlock\",\nname:i18n.get(\"plugin-uml-multiplicity-block\"),searchKeywords:i18n.get(\"plugin-uml-multiplicity-block-search-keywords\"),defaultSize:{w:160,h:120},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:\"Text\",value:i18n.get(\"plugin-uml-multiplicity-block-text\"),getBoundingBox:function(c){return F(c,function(a){return{x:a.x+20,y:a.y+.1*a.h,w:a.w-40-.1*a.w,h:a.h-.1*a.h}},function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(b,\"InsetMargin\")||0,hideOverflow:!0}})}});1<B()&&(lucid.plugin.registerProperty(b,\n\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(b,\"InsetMargin\",5))},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(b,c){var a=b.BoundingBox,d=.1*Math.min(a.h,a.w);\"sample\"==c&&(d*=2);return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x+d,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y+a.h-d},{Action:\"line\",\nx:a.x+d,y:a.y+a.h-d},{Action:\"close\"}]},{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x,y:a.y+d},{Action:\"line\",x:a.x+a.w-d,y:a.y+d},{Action:\"line\",x:a.x+a.w-d,y:a.y+a.h},{Action:\"line\",x:a.x,y:a.y+a.h},{Action:\"close\"}]}]}});var E={},G={};E.Generalization=function(b,c,a,d,g,e){a={StrokeColor:a,LineWidth:d,FillColor:\"#ffffff\",NoRounding:!0,Actions:[]};c=Math.atan2(c.y,c.x);a.Actions.push({Action:\"move\",x:b.x,y:b.y});a.Actions.push({Action:\"line\",\nx:b.x+25*Math.cos(c+.83*Math.PI),y:b.y+25*Math.sin(c+.83*Math.PI)});a.Actions.push({Action:\"line\",x:b.x+25*Math.cos(c-.83*Math.PI),y:b.y+25*Math.sin(c-.83*Math.PI)});a.Actions.push({Action:\"close\"});return[a]};G.Generalization=22;E[\"Big Open Arrow\"]=function(b,c,a,d,g,e){a={StrokeColor:a,LineWidth:d,NoRounding:!0,Actions:[]};c=Math.atan2(c.y,c.x);a.Actions.push({Action:\"move\",x:b.x+21*Math.cos(c+.83*Math.PI),y:b.y+21*Math.sin(c+.83*Math.PI)});a.Actions.push({Action:\"line\",x:b.x,y:b.y});a.Actions.push({Action:\"line\",\nx:b.x+21*Math.cos(c-.83*Math.PI),y:b.y+21*Math.sin(c-.83*Math.PI)});return[a]};G[\"Big Open Arrow\"]=13;E.Asynch1=function(b,c,a,d,g,e){a={StrokeColor:a,LineWidth:d,NoRounding:!0,Actions:[]};c=Math.atan2(c.y,c.x);a.Actions.push({Action:\"move\",x:b.x+21*Math.cos(c+.83*Math.PI),y:b.y+21*Math.sin(c+.83*Math.PI)});a.Actions.push({Action:\"line\",x:b.x,y:b.y});return[a]};G.Asynch1=13;E.Asynch2=function(b,c,a,d,g,e){a={StrokeColor:a,LineWidth:d,NoRounding:!0,Actions:[]};c=Math.atan2(c.y,c.x);a.Actions.push({Action:\"move\",\nx:b.x+21*Math.cos(c-.83*Math.PI),y:b.y+21*Math.sin(c-.83*Math.PI)});a.Actions.push({Action:\"line\",x:b.x,y:b.y});return[a]};G.Asynch2=13;E.Aggregation=function(b,c,a,d,g,e){a={StrokeColor:a,LineWidth:d,FillColor:\"#ffffff\",NoRounding:!0,Actions:[]};d=Math.atan2(c.y,c.x);a.Actions.push({Action:\"move\",x:b.x,y:b.y});a.Actions.push({Action:\"line\",x:b.x+21*Math.cos(d+.75*Math.PI),y:b.y+21*Math.sin(d+.75*Math.PI)});a.Actions.push({Action:\"line\",x:b.x-30*c.x,y:b.y-30*c.y});a.Actions.push({Action:\"line\",x:b.x+\n21*Math.cos(d-.75*Math.PI),y:b.y+21*Math.sin(d-.75*Math.PI)});a.Actions.push({Action:\"close\"});return[a]};G.Aggregation=30;E.Composition=function(b,c,a,d,g,e){b=E.Aggregation(b,c,a,d,g,e);b[0].FillColor=g;return b};G.Composition=30;E.BlockEnd=function(b,c,a,d,g,e){a={StrokeColor:a,LineWidth:d,FillColor:\"#ffffff\",NoRounding:!0,Actions:[]};c=Math.atan2(c.y,c.x);a.Actions.push({Action:\"move\",x:b.x+15*Math.cos(c+.5*Math.PI),y:b.y+15*Math.sin(c+.5*Math.PI)});a.Actions.push({Action:\"line\",x:b.x-30*Math.cos(c)+\n15*Math.cos(c+.5*Math.PI),y:b.y-30*Math.sin(c)+15*Math.sin(c+.5*Math.PI)});a.Actions.push({Action:\"line\",x:b.x-30*Math.cos(c)+15*Math.cos(c-.5*Math.PI),y:b.y-30*Math.sin(c)+15*Math.sin(c-.5*Math.PI)});a.Actions.push({Action:\"line\",x:b.x+15*Math.cos(c-.5*Math.PI),y:b.y+15*Math.sin(c-.5*Math.PI)});a.Actions.push({Action:\"close\"});return[a]};G.BlockEnd=30;E.BlockEndFill=function(b,c,a,d,g,e){a={StrokeColor:a,LineWidth:d,FillColor:\"#000000\",NoRounding:!0,Actions:[]};c=Math.atan2(c.y,c.x);a.Actions.push({Action:\"move\",\nx:b.x+15*Math.cos(c+.5*Math.PI),y:b.y+15*Math.sin(c+.5*Math.PI)});a.Actions.push({Action:\"line\",x:b.x-30*Math.cos(c)+15*Math.cos(c+.5*Math.PI),y:b.y-30*Math.sin(c)+15*Math.sin(c+.5*Math.PI)});a.Actions.push({Action:\"line\",x:b.x-30*Math.cos(c)+15*Math.cos(c-.5*Math.PI),y:b.y-30*Math.sin(c)+15*Math.sin(c-.5*Math.PI)});a.Actions.push({Action:\"line\",x:b.x+15*Math.cos(c-.5*Math.PI),y:b.y+15*Math.sin(c-.5*Math.PI)});a.Actions.push({Action:\"close\"});return[a]};G.BlockEndFill=30;E.CircleOpen=function(b,c,\na,d,g,e){a={StrokeColor:a,LineWidth:d,FillColor:\"#ffffff\",NoRounding:!0,Actions:[]};a.Actions.push({Action:\"move\",x:b.x-15*c.x+15,y:b.y-15*c.y});a.Actions.push({Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(b.x-15*c.x-15,b.y-15*c.y-15,30,30,0,2*Math.PI)});a.Actions.push({Action:\"close\"});return[a]};G.CircleOpen=30;E.CircleClosed=function(b,c,a,d,g,e){a={StrokeColor:a,LineWidth:d,FillColor:\"#000000\",NoRounding:!0,Actions:[]};a.Actions.push({Action:\"move\",x:b.x-15*c.x+15,y:b.y-15*c.y});\na.Actions.push({Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(b.x-15*c.x-15,b.y-15*c.y-15,30,30,0,2*Math.PI)});a.Actions.push({Action:\"close\"});return[a]};G.CircleClosed=30;E.Nesting=function(b,c,a,d,g,e){a={StrokeColor:a,LineWidth:d,FillColor:\"#ffffff\",NoRounding:!0,Actions:[]};d=Math.atan2(c.y,c.x);a.Actions.push({Action:\"move\",x:b.x-15*c.x+15,y:b.y-15*c.y});a.Actions.push({Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(b.x-15*c.x-15,b.y-15*c.y-15,30,30,0,2*Math.PI)});a.Actions.push({Action:\"close\"});\na.Actions.push({Action:\"move\",x:b.x,y:b.y});a.Actions.push({Action:\"line\",x:b.x-30*c.x,y:b.y-30*c.y});a.Actions.push({Action:\"close\"});a.Actions.push({Action:\"move\",x:b.x+21*Math.cos(d+.75*Math.PI),y:b.y+21*Math.sin(d+.75*Math.PI)});a.Actions.push({Action:\"line\",x:b.x+21*Math.cos(d-.75*Math.PI),y:b.y+21*Math.sin(d-.75*Math.PI)});a.Actions.push({Action:\"close\"});return[a]};G.Nesting=30;lucid.line.addEndpointStyles(\"uml\",E,G,.8);lucid.plugin.initBlockClass({className:\"UMLConstraintBlock\",name:i18n.get(\"plugin-uml-constraint-block\"),\nsearchKeywords:\"\",defaultSize:{w:160,h:40},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:\"Text\",value:i18n.get(\"plugin-uml-constraint-block-text\"),getBoundingBox:function(b){var a=.13*(b.h>b.w?b.w:b.h);return{x:b.x+1.5*a,y:b.y,w:b.w-3*a,h:b.h}}})},getLinkPoints:function(b){return[{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(){return[\"LineColor\",\"LineWidth\"]},disabledPropertyControls:[\"FillColor\"],getRenderData:function(b,c){var a=b.BoundingBox,d=.13*(a.h>a.w?a.w:a.h);\"sample\"==c&&(a.h=\na.w,a.x=2,a.y=2,d=.2*(a.h>a.w?a.w:a.h));return[{StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x+2*d,y:a.y},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x+d,a.y,2*d,2*d,1.5*Math.PI,Math.PI)},{Action:\"line\",x:a.x+d,y:a.y+a.h/2-d},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x-d,a.y+a.h/2-2*d,2*d,2*d,0,.5*Math.PI)},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x-d,a.y+a.h/2,2*d,2*d,1.5*Math.PI,2*Math.PI)},{Action:\"line\",x:a.x+\nd,y:a.y+a.h-d},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x+d,a.y+a.h-2*d,2*d,2*d,Math.PI,.5*Math.PI)},{Action:\"move\",x:a.x+a.w-2*d,y:a.y+a.h},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x+a.w-3*d,a.y+a.h-2*d,2*d,2*d,.5*Math.PI,0)},{Action:\"line\",x:a.x+a.w-d,y:a.y+a.h/2+d},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x+a.w-d,a.y+a.h/2,2*d,2*d,Math.PI,1.5*Math.PI)},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x+a.w-d,a.y+a.h/2-2*d,\n2*d,2*d,.5*Math.PI,Math.PI)},{Action:\"line\",x:a.x+a.w-d,y:a.y+d},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x+a.w-3*d,a.y,2*d,2*d,2*Math.PI,1.5*Math.PI)}]}]}});lucid.plugin.initBlockClass({className:\"UMLOptionLoopBlock\",name:i18n.get(\"plugin-uml-option-loop-block\"),searchKeywords:i18n.get(\"plugin-uml-option-loop-block-search-keywords\"),defaultSize:{w:700,h:500},container:!0,defaultProperties:function(){return{Magnetize:!1}},minWidth:110,minHeight:80,variants:{UMLStateName:{searchKeywords:\"\",\ntooltip:\"\",defaultProperties:function(){return{Title:i18n.get(\"plugin-uml-state-name-block\"),TitleWidth:115,Text:\"\",Magnetize:!1}}}},onInit:function(b){lucid.plugin.setProperty(b,\"DisableAutoLink\",!0);lucid.plugin.registerProperty(b,\"TitleHeight\",30);lucid.plugin.registerProperty(b,\"TitleWidth\",100);lucid.plugin.setProperty(b,\"TextAlign\",\"left\");lucid.plugin.addBlockTextArea(b,{id:\"Title\",value:i18n.get(\"plugin-uml-option-loop-block-text-title-value\"),getBoundingBox:function(c){var a=lucid.plugin.getProperty(b,\n\"TitleHeight\"),d=lucid.plugin.getProperty(b,\"TitleWidth\");return{x:c.x+8,y:c.y,w:d-18,h:a}}});lucid.plugin.addBlockTextArea(b,{id:\"Text\",value:i18n.get(\"plugin-uml-option-loop-block-text-value\"),getBoundingBox:function(c){var a=lucid.plugin.getProperty(b,\"TitleHeight\"),d=lucid.text.getSize(b,\"Text\",{x:c.x+12,y:c.y+a+8,h:a,w:1E4}),d=Math.min(Math.max(80,lucid.plugin.snapToGrid(b,d.w+8,1,\"ceil\")),c.w-24);return{x:c.x+12,y:c.y+a+8,w:d,h:a}}})},spatialControls:function(b){return[{logAction:\"chart.viewport.selection.spatialControls.uml.optionLoop\",\nlocation:function(){var c=lucid.plugin.getProperty(b,\"BoundingBox\"),a=lucid.plugin.getProperty(b,\"TitleHeight\"),d=lucid.plugin.getProperty(b,\"TitleWidth\");return{x:c.x+d-5,y:c.y+a-5,w:10,h:10}},moved:function(c){var a=lucid.plugin.getProperty(b,\"BoundingBox\");lucid.plugin.setProperty(b,\"TitleWidth\",c.x-a.x)},area:function(){var c=lucid.plugin.getProperty(b,\"BoundingBox\");return{x:c.x+80,y:c.y,w:c.w-80,h:c.h/2-5}},snap:4}]},getOffsetProperties:function(b,c,a){c=lucid.plugin.defaultOffsetProperties(b,\nc,a);if(!lucid.plugin.isPermanentObject(b))return c;a=c[b].BoundingBox;var d=lucid.plugin.getProperty(b,\"TitleWidth\"),g=a.w;d>a.w&&(c[b].TitleWidth=a.w);a=lucid.text.getBoundingBox(b,\"Text\");a.w=g-16;a=lucid.text.getSize(b,\"Text\",a);lucid.plugin.snapToGrid(b,a.w+8,1,\"ceil\");return c},onResize:function(b){},getRenderDataKey:function(){return\"FillColor LineColor LineWidth TitleWidth TitleHeight lineWidth\".split(\" \")},getRenderData:function(b,c){var a=b.BoundingBox,d=b.TitleHeight,g=b.TitleWidth,e=10;\n\"sample\"==c&&(d*=4*a.h/500,g*=4*a.w/700,e=2);return[{FillColor:b.FillColor,StrokeColor:null,LineWidth:b.lineWidth,Actions:[{Action:\"move\",x:a.x,y:a.y},{Action:\"line\",x:a.x+g,y:a.y},{Action:\"line\",x:a.x+g,y:a.y+d-e},{Action:\"line\",x:a.x+g-e,y:a.y+d},{Action:\"line\",x:a.x,y:a.y+d},{Action:\"close\"}]},{FillColor:null,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y+a.h},{Action:\"line\",x:a.x,y:a.y+a.h},{Action:\"close\"}]},\n{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,NoRounding:!0,Actions:[{Action:\"move\",x:a.x+g,y:a.y},{Action:\"line\",x:a.x+g,y:a.y+d-e},{Action:\"line\",x:a.x+g-e,y:a.y+d},{Action:\"line\",x:a.x,y:a.y+d}]}]}});lucid.plugin.initBlockClass({className:\"UMLAlternativeBlock\",name:i18n.get(\"plugin-uml-alternative-block\"),searchKeywords:\"\",defaultSize:{w:700,h:500},container:!0,defaultProperties:function(){return{Magnetize:!1}},minWidth:110,minHeight:120,onInit:function(b){lucid.plugin.registerProperty(b,\n\"TitleHeight\",30);lucid.plugin.registerProperty(b,\"TitleWidth\",100);lucid.plugin.registerProperty(b,\"Boundary\",.5);lucid.plugin.setProperty(b,\"TextAlign\",\"left\");lucid.plugin.setProperty(b,\"DisableAutoLink\",!0);lucid.plugin.addBlockTextArea(b,{id:\"Title\",value:i18n.get(\"plugin-uml-alternative-block-text-title-value\"),getBoundingBox:function(c){var a=lucid.plugin.getProperty(b,\"TitleHeight\"),d=lucid.plugin.getProperty(b,\"TitleWidth\");return{x:c.x+8,y:c.y,w:d-18,h:a}}});lucid.plugin.addBlockTextArea(b,\n{id:\"Text\",value:i18n.get(\"plugin-uml-alternative-block-text-value\"),getBoundingBox:function(c){var a=lucid.plugin.getProperty(b,\"TitleHeight\"),d=lucid.text.getSize(b,\"Text\",{x:c.x+12,y:c.y+a+8,h:a,w:1E4}),d=Math.min(Math.max(80,lucid.plugin.snapToGrid(b,d.w+8,1,\"ceil\")),c.w-24);return{x:c.x+12,y:c.y+a+8,w:d,h:a}}});lucid.plugin.addBlockTextArea(b,{id:\"Else\",value:i18n.get(\"plugin-uml-alternative-block-text-else-value\"),getBoundingBox:function(c){var a=lucid.plugin.getProperty(b,\"TitleHeight\"),d=\nlucid.plugin.getProperty(b,\"Boundary\"),g=lucid.text.getSize(b,\"Else\",{x:c.x+12,y:c.y+c.h*d+8,h:a,w:1E4}),g=Math.min(Math.max(80,lucid.plugin.snapToGrid(b,g.w+8,1,\"ceil\")),c.w-24);return{x:c.x+12,y:c.y+c.h*d+8,w:g,h:a}}})},spatialControls:function(b){return[{logAction:\"chart.viewport.selection.spatialControls.uml.alternativeTitleWidth\",location:function(){var c=lucid.plugin.getProperty(b,\"BoundingBox\"),a=lucid.plugin.getProperty(b,\"TitleHeight\"),d=lucid.plugin.getProperty(b,\"TitleWidth\");return{x:c.x+\nd-5,y:c.y+a-5,w:10,h:10}},moved:function(c){var a=lucid.plugin.getProperty(b,\"BoundingBox\");lucid.plugin.setProperty(b,\"TitleWidth\",c.x-a.x)},area:function(){var c=lucid.plugin.getProperty(b,\"BoundingBox\");return{x:c.x+80,y:c.y,w:c.w-80,h:c.h/2-5}},snap:4},{logAction:\"chart.viewport.selection.spatialControls.uml.alternativeSplit\",location:function(){var c=lucid.plugin.getProperty(b,\"BoundingBox\"),a=lucid.plugin.getProperty(b,\"Boundary\");return{x:c.x-5,y:c.y+c.h*a-5,w:10,h:10}},moved:function(c){var a=\nlucid.plugin.getProperty(b,\"BoundingBox\");lucid.plugin.setProperty(b,\"Boundary\",(c.y-a.y)/a.h)},area:function(){var c=lucid.plugin.getProperty(b,\"BoundingBox\");return{x:c.x,y:c.y+80,w:10,h:c.h-120}},snap:4}]},getOffsetProperties:function(b,c,a){c=lucid.plugin.defaultOffsetProperties(b,c,a);if(!lucid.plugin.isPermanentObject(b))return c;a=c[b].BoundingBox;var d=lucid.plugin.getProperty(b,\"TitleWidth\"),g=a.w;d>a.w&&(c[b].TitleWidth=a.w);d=lucid.plugin.getProperty(b,\"Boundary\");d*=a.h;80>d?c[b].Boundary=\n80/a.h:d>a.h-40&&(c[b].Boundary=(a.h-40)/a.h);a=lucid.text.getBoundingBox(b,\"Text\");a.w=g-16;lucid.text.getSize(b,\"Text\",a);return c},onResize:function(b){},getRenderDataKey:function(){return\"FillColor LineColor LineWidth TitleWidth TitleHeight Boundary lineWidth\".split(\" \")},getRenderData:function(b,c){var a=b.BoundingBox,d=b.TitleHeight,g=b.TitleWidth,e=10,h=[20,15];\"sample\"==c&&(d*=4*a.h/500,g*=4*a.w/700,e=2,h=[2,2]);for(var l=[],n=a.x,p=a.y+a.h*b.Boundary;n<a.x+a.w;)l.push({Action:\"move\",x:Math.min(n,\na.x+a.w),y:p}),n+=h[0],l.push({Action:\"line\",x:Math.min(n,a.x+a.w),y:p}),n+=h[1];return[{FillColor:b.FillColor,StrokeColor:null,LineWidth:b.lineWidth,Actions:[{Action:\"move\",x:a.x,y:a.y},{Action:\"line\",x:a.x+g,y:a.y},{Action:\"line\",x:a.x+g,y:a.y+d-e},{Action:\"line\",x:a.x+g-e,y:a.y+d},{Action:\"line\",x:a.x,y:a.y+d},{Action:\"close\"}]},{FillColor:null,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y+a.h},\n{Action:\"line\",x:a.x,y:a.y+a.h},{Action:\"close\"}]},{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,NoRounding:!0,Actions:[{Action:\"move\",x:a.x+g,y:a.y},{Action:\"line\",x:a.x+g,y:a.y+d-e},{Action:\"line\",x:a.x+g-e,y:a.y+d},{Action:\"line\",x:a.x,y:a.y+d}]},{StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:l}]}});plugin.uml.sequence.AlternativeBlock2={boundaryDashPattern:{draw:20,space:15},defaultHeight:500,defaultWidth:700,labelPaddingLeft:12,labelPaddingTop:8,sampleCornerCut:2,\nsampleDashPattern:{draw:2,space:2},titleCornerCut:10,titleTabMinimumWidth:80,titleTextPadding:8};plugin.uml.sequence.AlternativeBlock2.onInit=function(b){plugin.uml.sequence.AlternativeBlock2.setInitialProperties(b);plugin.uml.sequence.AlternativeBlock2.createTitleTextArea(b);plugin.uml.sequence.AlternativeBlock2.createTitleConditionTextArea(b);plugin.uml.sequence.AlternativeBlock2.registerBoundariesProperty(b)};plugin.uml.sequence.AlternativeBlock2.setInitialProperties=function(b){lucid.plugin.setProperty(b,\n\"TextAlign\",\"left\");lucid.plugin.setProperty(b,\"DisableAutoLink\",!0);lucid.plugin.setProperty(b,\"TitleHeight\",30);lucid.plugin.setProperty(b,\"TitleWidth\",100)};plugin.uml.sequence.AlternativeBlock2.createTitleTextArea=function(b){lucid.plugin.addBlockTextArea(b,{id:\"Title\",value:i18n.get(\"plugin-uml-alternative-block2-text-title-value\"),getBoundingBox:function(c){var a=lucid.plugin.getProperty(b,\"TitleHeight\"),d=lucid.plugin.getProperty(b,\"TitleWidth\"),g=plugin.uml.sequence.AlternativeBlock2.titleTextPadding;\nreturn{x:c.x+g,y:c.y,w:d-(g+plugin.uml.sequence.AlternativeBlock2.titleCornerCut),h:a}}})};plugin.uml.sequence.AlternativeBlock2.createTitleConditionTextArea=function(b){lucid.plugin.addBlockTextArea(b,{id:\"Condition\",value:i18n.get(\"plugin-uml-alternative-block2-text-value\"),getBoundingBox:function(c){var a=lucid.plugin.getProperty(b,\"TitleHeight\");return plugin.uml.sequence.AlternativeBlock2.measureTextAreaBB(b,\"Condition\",c.x+plugin.uml.sequence.AlternativeBlock2.labelPaddingLeft,c.y+a+plugin.uml.sequence.AlternativeBlock2.labelPaddingTop,\nc.w,a)}})};plugin.uml.sequence.AlternativeBlock2.registerBoundariesProperty=function(b){var c=[{height:.5,text:i18n.get(\"plugin-uml-alternative-block-text-else-value\")}];lucid.plugin.registerProperty(b,\"Boundaries\",c,null,function(a,c,g){a=a||[];c=c||[];var e=Math.min(a.length,c.length);for(g=0;g<e;g++)lucid.plugin.setPropertyIfChanged(b,\"Else\"+g,c[g].text);for(g=e;g<a.length;g++)lucid.plugin.deleteBlockTextArea(b,\"Else\"+g);for(g=e;g<c.length;g++)plugin.uml.sequence.AlternativeBlock2.createBoundaryTextArea(b,\n\"Else\"+g,c[g].text,g)})};plugin.uml.sequence.AlternativeBlock2.createBoundaryTextArea=function(b,c,a,d){var g=plugin.uml.sequence.AlternativeBlock2.labelPaddingLeft,e=plugin.uml.sequence.AlternativeBlock2.labelPaddingTop;lucid.plugin.addBlockTextArea(b,{id:c,value:a,getBoundingBox:function(a){var l=lucid.plugin.getProperty(b,\"Boundaries\"),h=lucid.plugin.getProperty(b,\"TitleHeight\");if(d<l.length)return plugin.uml.sequence.AlternativeBlock2.measureTextAreaBB(b,c,a.x+g,a.y+a.h*l[d].height+e,a.w,h)}})};\nplugin.uml.sequence.AlternativeBlock2.measureTextAreaBB=function(b,c,a,d,g,e){c=lucid.text.getSize(b,c,{x:a,y:d,w:1E4,h:e});b=Math.min(Math.max(80,lucid.plugin.snapToGrid(b,c.w+8,1,\"ceil\")),g-2*plugin.uml.sequence.AlternativeBlock2.labelPaddingLeft);return{x:a,y:d,w:b,h:e}};plugin.uml.sequence.AlternativeBlock2.spatialControls=function(b){var c=[],c=c.concat(plugin.uml.sequence.AlternativeBlock2.getTitleSpatialControls(b));return c=c.concat(plugin.uml.sequence.AlternativeBlock2.getBoundariesSpatialControls(b))};\nplugin.uml.sequence.AlternativeBlock2.getTitleSpatialControls=function(b){var c=plugin.uml.sequence.AlternativeBlock2.titleTabMinimumWidth;return{area:function(){var a=lucid.plugin.getProperty(b,\"BoundingBox\"),d=lucid.plugin.getProperty(b,\"TitleHeight\");return{x:a.x+c,y:a.y+d/2,w:a.w-c,h:0}},location:function(){var a=lucid.plugin.getProperty(b,\"BoundingBox\"),c=lucid.plugin.getProperty(b,\"TitleHeight\"),g=lucid.plugin.getProperty(b,\"TitleWidth\");return{x:a.x+g-5,y:a.y+c/2-5,w:10,h:10}},logAction:\"chart.viewport.selection.spatialControls.uml.alternativeTitleWidth\",\nmoved:function(a){var c=lucid.plugin.getProperty(b,\"BoundingBox\");lucid.plugin.setProperty(b,\"TitleWidth\",a.x-c.x)},snap:4}};plugin.uml.sequence.AlternativeBlock2.getBoundariesSpatialControls=function(b){for(var c=[],a=lucid.plugin.getProperty(b,\"Boundaries\").length,d=0;d<a;d++)c=c.concat(plugin.uml.sequence.AlternativeBlock2.getBoundarySpatialControls(b,a,d,10));return c};plugin.uml.sequence.AlternativeBlock2.getBoundarySpatialControls=function(b,c,a,d){return{area:function(){var c=lucid.plugin.getProperty(b,\n\"BoundingBox\"),d=lucid.plugin.getProperty(b,\"Boundaries\"),h=lucid.plugin.getProperty(b,\"TitleHeight\"),d=plugin.uml.sequence.AlternativeBlock2.getUpperAndLowerBounds(c,d,a,h);return{x:c.x,y:d.upperBound,w:0,h:d.lowerBound-d.upperBound}},location:function(){var c=lucid.plugin.getProperty(b,\"BoundingBox\"),e=lucid.plugin.getProperty(b,\"Boundaries\")[a];return{x:c.x,y:c.y+c.h*e.height-d/2,w:d,h:d}},logAction:\"chart.viewport.selection.spatialControls.uml.alternativeSplit\",moved:function(c){var d=lucid.plugin.getProperty(b,\n\"BoundingBox\"),h=lucid.plugin.getProperty(b,\"Boundaries\");h[a].height=(c.y-d.y)/d.h;lucid.plugin.setProperty(b,\"Boundaries\",h)},snap:4}};plugin.uml.sequence.AlternativeBlock2.getOffsetProperties=function(b,c,a){c=lucid.plugin.defaultOffsetProperties(b,c,a);if(lucid.plugin.isPermanentObject(b)){a=c[b].BoundingBox;var d=lucid.plugin.getProperty(b,\"Boundaries\"),g=lucid.plugin.getProperty(b,\"TitleHeight\");lucid.plugin.getProperty(b,\"TitleWidth\")>a.w&&(c[b].TitleWidth=a.w);for(var e=0;e<d.length;e++){var h=\nplugin.uml.sequence.AlternativeBlock2.getUpperAndLowerBounds(a,d,e,g),l=d[e],n=a.y+l.height*a.h;n>h.lowerBound?l.height=(h.lowerBound-a.y)/a.h:n<h.upperBound&&(l.height=(h.upperBound-a.y)/a.h)}c[b].Boundaries=d}return c};plugin.uml.sequence.AlternativeBlock2.getUpperAndLowerBounds=function(b,c,a,d){var g=plugin.uml.sequence.AlternativeBlock2.labelPaddingTop,g=g+d+g;return{upperBound:0===a?b.y+d+g:b.y+b.h*c[a-1].height+g,lowerBound:a==c.length-1?b.y+b.h-g:b.y+b.h*c[a+1].height-g}};plugin.uml.sequence.AlternativeBlock2.getRenderDataKey=\nfunction(){return\"Boundaries FillColor LineColor LineWidth TitleHeight TitleWidth\".split(\" \")};plugin.uml.sequence.AlternativeBlock2.getRenderData=function(b,c){var a=b.Boundaries,d=b.BoundingBox,g=b.FillColor,e=b.LineColor,h=b.LineWidth,l=b.TitleHeight,n=b.TitleWidth,p=plugin.uml.sequence.AlternativeBlock2.titleCornerCut,z=plugin.uml.sequence.AlternativeBlock2.boundaryDashPattern;\"sample\"==c&&(p=plugin.uml.sequence.AlternativeBlock2.sampleCornerCut,z=plugin.uml.sequence.AlternativeBlock2.sampleDashPattern,\nn*=d.w/plugin.uml.sequence.AlternativeBlock2.defaultWidth*4,l*=d.h/plugin.uml.sequence.AlternativeBlock2.defaultHeight*4);var t=[],t=t.concat(plugin.uml.sequence.AlternativeBlock2.getTitleTabRenderData({x:d.x,y:d.y,w:n,h:l},p,g,e,h)),t=t.concat(plugin.uml.sequence.AlternativeBlock2.getBlockOutlineRenderData(d,e,h));return t=t.concat(plugin.uml.sequence.AlternativeBlock2.getBoundariesRenderData(d,a,z,e,h))};plugin.uml.sequence.AlternativeBlock2.getTitleTabRenderData=function(b,c,a,d,g){return[{FillColor:a,\nStrokeColor:null,LineWidth:g,Actions:[{Action:\"move\",x:b.x,y:b.y},{Action:\"line\",x:b.x+b.w,y:b.y},{Action:\"line\",x:b.x+b.w,y:b.y+b.h-c},{Action:\"line\",x:b.x+b.w-c,y:b.y+b.h},{Action:\"line\",x:b.x,y:b.y+b.h},{Action:\"close\"}]},{FillColor:null,StrokeColor:d,LineWidth:g,NoRounding:!0,Actions:[{Action:\"move\",x:b.x+b.w,y:b.y},{Action:\"line\",x:b.x+b.w,y:b.y+b.h-c},{Action:\"line\",x:b.x+b.w-c,y:b.y+b.h},{Action:\"line\",x:b.x,y:b.y+b.h}]}]};plugin.uml.sequence.AlternativeBlock2.getBlockOutlineRenderData=function(b,\nc,a){return{FillColor:null,StrokeColor:c,LineWidth:a,Actions:[{Action:\"move\",x:b.x,y:b.y},{Action:\"line\",x:b.x+b.w,y:b.y},{Action:\"line\",x:b.x+b.w,y:b.y+b.h},{Action:\"line\",x:b.x,y:b.y+b.h},{Action:\"close\"}]}};plugin.uml.sequence.AlternativeBlock2.getBoundariesRenderData=function(b,c,a,d,g){var e=b.x+b.w;return c.map(function(c){var h=b.x;c=b.y+b.h*c.height;for(var n=[];h<e;)n.push({Action:\"move\",x:Math.min(h,e),y:c}),h+=a.draw,n.push({Action:\"line\",x:Math.min(h,e),y:c}),h+=a.space;return{FillColor:null,\nStrokeColor:d,LineWidth:g,Actions:n}})};lucid.plugin.initBlockClass({className:\"UMLAlternativeBlock2\",name:i18n.get(\"plugin-uml-alternative-block2\"),searchKeywords:i18n.get(\"plugin-uml-alternative-block2-search-keywords\"),defaultSize:{w:plugin.uml.sequence.AlternativeBlock2.defaultWidth,h:plugin.uml.sequence.AlternativeBlock2.defaultHeight},container:!0,defaultProperties:function(){return{Magnetize:!1}},minWidth:110,minHeight:120,onInit:plugin.uml.sequence.AlternativeBlock2.onInit,spatialControls:plugin.uml.sequence.AlternativeBlock2.spatialControls,\ngetOffsetProperties:plugin.uml.sequence.AlternativeBlock2.getOffsetProperties,getRenderDataKey:plugin.uml.sequence.AlternativeBlock2.getRenderDataKey,getRenderData:plugin.uml.sequence.AlternativeBlock2.getRenderData});lucid.plugin.initBlockClass({className:\"UMLSeqEntityBlock\",name:i18n.get(\"plugin-uml-seq-entity-block\"),searchKeywords:i18n.get(\"plugin-uml-seq-entity-block-search-keywords\"),defaultSize:{w:100,h:120},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:\"Text\",value:i18n.get(\"plugin-uml-seq-entity-block-text-value\"),\ngetBoundingBox:function(b){return{x:b.x-40,y:b.y+b.h-20,w:b.w+80,h:20}}})},getLinkPoints:function(b){b=lucid.plugin.getProperty(b,\"BoundingBox\");b=(b.h/2-10)/b.h;return[{x:.5,y:0},{x:.5,y:1},{x:0,y:b},{x:1,y:b}]},getRenderDataKey:function(){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(b,c){var a=b.BoundingBox,d=20;\"sample\"==c&&(d=2);return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x+a.w/2,y:a.y+a.h-d},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x,\na.y,a.w,a.h-d,.5*Math.PI,2.5*Math.PI)},{Action:\"close\"}]},{StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x,y:a.y+a.h-d},{Action:\"line\",x:a.x+a.w,y:a.y+a.h-d}]}]}});lucid.plugin.initBlockClass({className:\"UMLBoundaryBlock\",name:i18n.get(\"plugin-uml-boundary-block\"),searchKeywords:\"\",defaultSize:{w:120,h:120},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:\"Text\",value:i18n.get(\"plugin-uml-boundary-block-text-value\"),getBoundingBox:function(b){return{x:b.x-20,y:b.y+\nb.h-20,w:b.w+60,h:20}}})},getLinkPoints:function(b){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(b,c){var a=b.BoundingBox,d=20;\"sample\"==c&&(d=2);return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x+a.w,y:a.y+a.h/2-d/2},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x+d,a.y,a.w-d,a.h-d,0,2*Math.PI)},{Action:\"close\"}]},{NoRounding:!0,\nStrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x,y:a.y},{Action:\"line\",x:a.x,y:a.y+a.h-d},{Action:\"move\",x:a.x,y:a.y+a.h/2-d/2},{Action:\"line\",x:a.x+d,y:a.y+a.h/2-d/2}]}]}});lucid.plugin.initBlockClass({className:\"UMLControlBlock\",name:i18n.get(\"plugin-uml-control-block\"),searchKeywords:\"\",defaultSize:{w:100,h:120},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:\"Text\",value:i18n.get(\"plugin-uml-control-block-text-value\"),getBoundingBox:function(b){return{x:b.x-40,\ny:b.y+b.h-20,w:b.w+80,h:20}}})},getLinkPoints:function(b){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(b,c){var a=b.BoundingBox,d=20;\"sample\"==c&&(d=2);return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x+a.w,y:a.y+a.h/2-d/2},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x,a.y,a.w,a.h-d,0,2*Math.PI)},{Action:\"close\"}]},{NoRounding:!0,\nStrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x+.6*a.w,y:a.y-.05*a.h},{Action:\"line\",x:a.x+a.w/2,y:a.y},{Action:\"line\",x:a.x+.6*a.w,y:a.y+.06*a.h}]}]}});lucid.plugin.initBlockClass({className:\"UMLPackageBlock\",name:i18n.get(\"plugin-uml-package-block\"),searchKeywords:\"\",defaultSize:{w:360,h:240},onInit:function(b){lucid.plugin.registerProperty(b,\"TitleHeight\",26);lucid.plugin.setProperty(b,\"TextAlign\",\"left\");lucid.plugin.addBlockTextArea(b,{id:\"Title\",value:i18n.get(\"plugin-uml-package-block-text-title-value\"),\ngetBoundingBox:function(c){var a=lucid.plugin.getProperty(b,\"TitleHeight\");return{x:c.x+8,y:c.y,w:.6*c.w-24,h:a}}});lucid.plugin.addBlockTextArea(b,{id:\"Text\",value:i18n.get(\"plugin-uml-package-block-text-value\"),getBoundingBox:function(c){var a=lucid.plugin.getProperty(b,\"TitleHeight\");return{x:c.x+12,y:c.y+a+8,w:c.w-24,h:c.h-a-16}}})},getLinkPoints:function(b){return[{x:0,y:.5},{x:0,y:.75},{x:.25,y:1},{x:.5,y:1},{x:.75,y:1},{x:1,y:.75},{x:1,y:.5}]},afterEditText:function(b){var c=lucid.text.getSize(b,\n\"Title\"),a=lucid.text.getSize(b,\"Text\"),d=lucid.plugin.getProperty(b,\"BoundingBox\"),a=lucid.plugin.snapToGrid(b,c.h+a.h+32,1,\"ceil\");a>d.h&&(d.h=a);lucid.plugin.setProperty(b,\"TitleHeight\",c.h+16);lucid.plugin.setProperty(b,\"BoundingBox\",d)},getRenderDataKey:function(){return[\"FillColor\",\"LineColor\",\"LineWidth\",\"TitleHeight\"]},getRenderData:function(b,c){var a=b.BoundingBox,d=b.TitleHeight;\"sample\"==c&&(d*=2*a.h/240);return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",\nx:Math.round(a.x+.63*a.w),y:Math.round(a.y+d)},{Action:\"line\",x:a.x+a.w,y:Math.round(a.y+d)},{Action:\"line\",x:a.x+a.w,y:a.y+a.h},{Action:\"line\",x:a.x,y:a.y+a.h},{Action:\"line\",x:a.x,y:a.y},{Action:\"line\",x:Math.round(a.x+.6*a.w),y:a.y},{Action:\"close\"},{Action:\"move\",x:a.x,y:Math.round(a.y+d)},{Action:\"line\",x:Math.round(a.x+.63*a.w),y:Math.round(a.y+d)}]}]}});lucid.plugin.createNextBlockGroup(\"UMLClassBlock UMLActiveClassBlock UMLClassBlockSimple UMLInterfaceBlock UMLInterfaceBlockSimple UMLMultiplicityBlock\".split(\" \"));\nlucid.plugin.initBlockClass({className:\"UMLActorBlock\",name:i18n.get(\"plugin-uml-actor-block\"),searchKeywords:i18n.get(\"plugin-uml-actor-block-search-keywords\"),defaultSize:{w:80,h:180},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:\"Text\",value:i18n.get(\"plugin-uml-actor-block-text-value\"),getBoundingBox:function(b){return{x:b.x-80,y:b.y+b.h-22,w:b.w+160,h:22}}})},getLinkPoints:function(b){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(){return[\"FillColor\",\n\"LineColor\",\"LineWidth\"]},getRenderData:function(b,c){var a=b.BoundingBox;\"sample\"!=c&&(a.h-=22);var d=Math.min(a.w/2,a.h/4),a=[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x+a.w/2+d/2,y:a.y+d/2},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x+a.w/2-d/2,a.y,d,d,0,2*Math.PI)},{Action:\"close\"}]},{Actions:[{Action:\"move\",x:a.x,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y+a.h},{Action:\"line\",x:a.x,y:a.y+a.h},{Action:\"close\"}]},\n{StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x+a.w/2,y:a.y+d},{Action:\"line\",x:a.x+a.w/2,y:a.y+.6*a.h},{Action:\"line\",x:a.x+a.w,y:a.y+a.h},{Action:\"move\",x:a.x+a.w/2,y:a.y+.6*a.h},{Action:\"line\",x:a.x,y:a.y+a.h},{Action:\"move\",x:a.x,y:a.y+1.5*d},{Action:\"line\",x:a.x+a.w,y:a.y+1.5*d}]}];\"sample\"==c&&a.splice(1,1);return a},lineDrawnProperties:function(b,c){return{Endpoint2:{Style:\"None\"}}}});lucid.plugin.initBlockClass({className:\"UMLUseCaseBlock\",name:i18n.get(\"plugin-uml-use-case-block\"),\ndefaultSize:{w:160,h:120},searchKeywords:\"\",unthemed:{TextStyle:!0},variants:{UMLUseCaseExt:{searchKeywords:i18n.get(\"plugin-uml-use-case-ext-search-keywords\"),defaultProperties:function(){return{HasExtensionPoints:1,TextWrap:!1,InsetMargin:null}},defaultSize:{w:200,h:160},tooltip:i18n.get(\"plugin-uml-use-case-ext-tooltip\")}},onInit:function(b){lucid.plugin.registerProperty(b,\"HasExtensionPoints\",0);lucid.plugin.addBlockTextArea(b,{id:\"Text\",value:i18n.get(\"plugin-uml-use-case-block-text-value\"),\ngetBoundingBox:function(c){return lucid.plugin.getProperty(b,\"HasExtensionPoints\")?{x:c.x+.15*c.w,y:c.y+.1*c.h,w:.7*c.w,h:.4*c.h}:F(c,function(a){return{x:a.x+.15*a.w,y:a.y+.2*a.h,w:.7*a.w,h:.6*a.h}},function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(b,\"InsetMargin\")||0,hideOverflow:!0}})}});1<B()&&(lucid.plugin.registerProperty(b,\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(b,\"InsetMargin\",5));lucid.plugin.addBlockTextArea(b,{id:\"ExtensionPoints\",value:i18n.get(\"plugin-uml-use-case-block-text-extention-point\"),\ngetBoundingBox:function(c){return lucid.plugin.getProperty(b,\"HasExtensionPoints\")?{x:c.x+.15*c.w,y:c.y+.5*c.h+24,w:.7*c.w,h:.35*c.h-24}:null},wantReturn:!0});lucid.plugin.addBlockTextArea(b,{id:\"ExtensionPointLabel\",value:'<span style=\"font-weight:bold;\">'+i18n.get(\"plugin-uml-use-case-ext-point-label\")+\"</span>\",getBoundingBox:function(c){return lucid.plugin.getProperty(b,\"HasExtensionPoints\")?{x:c.x,y:c.y+.5*c.h,w:c.w,h:24}:null},wantReturn:!1,readOnly:!0})},getLinkPoints:function(b){return[{x:.5,\ny:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(){return[\"FillColor\",\"LineColor\",\"LineWidth\",\"HasExtensionPoints\"]},getRenderData:function(b,c){var a=b.BoundingBox,d=[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x+a.w,y:a.y+a.h/2},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x,a.y,a.w,a.h,0,2*Math.PI)},{Action:\"close\"}]}];b.HasExtensionPoints&&(d[0].Actions.push({Action:\"move\",x:a.x,y:a.y+a.h/2}),d[0].Actions.push({Action:\"line\",\nx:a.x+a.w,y:a.y+a.h/2}));return d},lineDrawnProperties:function(b,c){return{Endpoint2:{Style:\"Open Arrow\"},StrokeStyle:\"dashed\"}}});lucid.plugin.createNextBlockGroup([\"UMLActorBlock\",\"UMLUseCaseBlock\",\"UMLUseCaseExt\"]);lucid.plugin.initBlockClass({className:\"UMLStateBlock\",name:i18n.get(\"plugin-uml-state-name-block\"),defaultSize:{w:160,h:80},searchKeywords:\"\",variants:{UMLStateBlockCmp:{searchKeywords:i18n.get(\"plugin-uml-state-block-cmp-search-keywords\"),defaultProperties:function(){return{Composite:1}},\ndefaultSize:{w:160,h:120},tooltip:i18n.get(\"plugin-uml-state-block-cmp-tooltip\")},UMLStateBlockExt:{searchKeywords:i18n.get(\"plugin-uml-state-block-ext-search-keywords\"),defaultProperties:function(){return{Rake:1,State:\"Activity\"}},tooltip:i18n.get(\"plugin-uml-state-block-ext-tooltip\")}},onInit:function(b){lucid.plugin.registerProperty(b,\"TitleHeight\",44);lucid.plugin.registerProperty(b,\"Composite\",0);lucid.plugin.registerProperty(b,\"Rake\",0);lucid.plugin.addBlockTextArea(b,{id:\"State\",value:i18n.get(\"plugin-uml-state-block-text-state\"),\ngetBoundingBox:function(c){if(lucid.plugin.getProperty(b,\"Composite\")){var a=lucid.plugin.getProperty(b,\"TitleHeight\");c={x:c.x+.2*c.w,y:c.y,w:.6*c.w,h:a}}else c=lucid.math.Box.pad(c,-8);lucid.plugin.getProperty(b,\"Rake\")&&(c.x+=30,c.w-=30);return c}});lucid.plugin.addBlockTextArea(b,{id:\"Action\",value:i18n.get(\"plugin-uml-state-block-text-action\"),getBoundingBox:function(c){if(lucid.plugin.getProperty(b,\"Composite\")){var a=lucid.plugin.getProperty(b,\"TitleHeight\");return{x:c.x+.1*c.w,y:c.y+a+16,\nw:.8*c.w,h:c.h-a-32}}return null}})},getLinkPoints:function(b){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},afterEditText:function(b){if(lucid.plugin.getProperty(b,\"Composite\")){var c=lucid.text.getSize(b,\"State\"),a=lucid.text.getSize(b,\"Action\"),d=lucid.plugin.getProperty(b,\"BoundingBox\"),a=lucid.plugin.snapToGrid(b,c.h+a.h+48,1,\"ceil\");a>d.h&&(d.h=a);lucid.plugin.setProperty(b,\"TitleHeight\",c.h+32);lucid.plugin.setProperty(b,\"BoundingBox\",d)}},getRenderDataKey:function(){return\"FillColor LineColor LineWidth TitleHeight Composite Rake\".split(\" \")},\ngetRenderData:function(b,c){var a=b.BoundingBox,d=.2*(a.h>a.w?a.w:a.h),g=b.TitleHeight;\"sample\"==c&&(g=a.h/3,d*=1.5);d=[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x+d,y:a.y},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x,a.y,2*d,2*d,1.5*Math.PI,Math.PI)},{Action:\"line\",x:a.x,y:a.y+a.h-d},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x,a.y+a.h-2*d,2*d,2*d,Math.PI,.5*Math.PI)},{Action:\"line\",x:a.x+a.w-d,y:a.y+a.h},\n{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x+a.w-2*d,a.y+a.h-2*d,2*d,2*d,.5*Math.PI,0)},{Action:\"line\",x:a.x+a.w,y:a.y+d},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x+a.w-2*d,a.y,2*d,2*d,2*Math.PI,1.5*Math.PI)},{Action:\"close\"}]},{StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x,y:Math.round(a.y+g)},{Action:\"line\",x:a.x+a.w,y:Math.round(a.y+g)}]}];b.Composite||d.splice(1,1);if(b.Rake){var g=b.Composite?g/2:a.h/2,e=20,h=8;\"sample\"==c&&\n(e=.4*a.h,h=.15*a.w);d.push({NoRounding:!0,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x+e/2+h,y:a.y+g-e/2},{Action:\"line\",x:a.x+e/2+h,y:a.y+g+e/2},{Action:\"move\",x:a.x+h,y:a.y+g+e/2},{Action:\"line\",x:a.x+h,y:a.y+g},{Action:\"line\",x:a.x+h+e,y:a.y+g},{Action:\"line\",x:a.x+h+e,y:a.y+g+e/2}]})}return d}});lucid.plugin.initBlockClass({className:\"UMLStartBlock\",name:i18n.get(\"plugin-uml-start-block\"),searchKeywords:\"\",defaultSize:{w:40,h:40},getLinkPoints:function(b){return[{x:.5,\ny:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(){return[\"LineColor\",\"LineWidth\"]},disabledPropertyControls:[\"FillColor\"],getRenderData:function(b,c){var a=b.BoundingBox;\"sample\"==c&&(a={x:Math.round(a.x+.25*a.w),y:Math.round(a.y+.25*a.h),w:Math.round(.5*a.w),h:Math.round(.5*a.h)});return[{FillColor:\"#000000\",StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x+a.w,y:a.y+a.h/2},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x,a.y,a.w,a.h,0,2*\nMath.PI)},{Action:\"close\"}]}]}});lucid.plugin.initBlockClass({className:\"UMLEndBlock\",name:i18n.get(\"plugin-uml-end-block\"),searchKeywords:\"\",defaultSize:{w:40,h:40},getLinkPoints:function(b){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(b,c){var a=b.BoundingBox;\"sample\"==c&&(a={x:Math.round(a.x+.25*a.w),y:Math.round(a.y+.25*a.h),w:Math.round(.5*a.w),h:Math.round(.5*a.h)});return[{FillColor:b.FillColor,\nStrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x+a.w,y:a.y+a.h/2},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x,a.y,a.w,a.h,0,2*Math.PI)},{Action:\"close\"}]},{FillColor:\"#000000\",StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x+.8*a.w,y:a.y+a.h/2},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x+.2*a.w,a.y+.2*a.h,.6*a.w,.6*a.h,0,2*Math.PI)},{Action:\"close\"}]}]}});lucid.plugin.initBlockClass({className:\"UMLDecisionBlock\",\nname:i18n.get(\"plugin-uml-decision-block\"),searchKeywords:i18n.get(\"plugin-uml-decision-block-search-keywords\"),defaultSize:{w:40,h:40},onInit:function(b){},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},lineDrawnProperties:function(b,c){var a=i18n.get(\"plugin-uml-decision-block-line-text-option\");1==c&&(a=i18n.get(\"plugin-uml-decision-block-line-text-yes\"));2==c&&(a=i18n.get(\"plugin-uml-decision-block-line-text-no\"));return{TextAreas:{Text:{Location:.5,Side:0,Value:a}}}},\ngetRenderDataKey:function(){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(b,c){var a=b.BoundingBox;\"sample\"==c&&(a=lucid.math.Box.pad(a,-a.w/5));var d=a.x+a.w/2,g=a.y+a.h/2;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:d,y:a.y},{Action:\"line\",x:a.x+a.w,y:g},{Action:\"line\",x:d,y:a.y+a.h},{Action:\"line\",x:a.x,y:g},{Action:\"close\"}]}]}});lucid.plugin.initBlockClass({className:\"UMLVForkJoinBlock\",name:i18n.get(\"plugin-uml-fork-join-vertical-block\"),\nsearchKeywords:\"\",defaultSize:{w:20,h:160},onInit:function(b){},getLinkPoints:function(){return[{x:0,y:.25},{x:0,y:.5},{x:0,y:.75},{x:1,y:.25},{x:1,y:.5},{x:1,y:.75}]},getRenderDataKey:function(){return[\"LineColor\",\"LineWidth\"]},disabledPropertyControls:[\"FillColor\"],getRenderData:function(b,c){var a=b.BoundingBox;return[{FillColor:\"#000000\",StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y+a.h},{Action:\"line\",\nx:a.x,y:a.y+a.h},{Action:\"close\"}]}]}});lucid.plugin.initBlockClass({className:\"UMLHForkJoinBlock\",name:i18n.get(\"plugin-uml-fork-join-horizontal-block\"),searchKeywords:\"\",defaultSize:{w:160,h:20},onInit:function(b){},getLinkPoints:function(){return[{x:.25,y:0},{x:.5,y:0},{x:.75,y:0},{x:.25,y:1},{x:.5,y:1},{x:.75,y:1}]},getRenderDataKey:function(){return[\"LineColor\",\"LineWidth\"]},disabledPropertyControls:[\"FillColor\"],getRenderData:function(b,c){var a=b.BoundingBox;return[{FillColor:\"#000000\",StrokeColor:b.LineColor,\nLineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y+a.h},{Action:\"line\",x:a.x,y:a.y+a.h},{Action:\"close\"}]}]}});lucid.plugin.initBlockClass({className:\"UMLHistoryStateBlock\",name:i18n.get(\"plugin-uml-history-state-block\"),searchKeywords:i18n.get(\"plugin-uml-history-state-block-search-keywords\"),defaultSize:{w:40,h:40},onInit:function(b){},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(){return[\"FillColor\",\n\"LineColor\",\"LineWidth\"]},getRenderData:function(b,c){var a=b.BoundingBox;\"sample\"==c&&(a=lucid.math.Box.pad(a,-a.w/4));return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x+a.w,y:a.y+a.h/2},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x,a.y,a.w,a.h,0,2*Math.PI)},{Action:\"close\"}]},{FillColor:null,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x+.35*a.w,y:a.y+.28*a.h},{Action:\"line\",x:a.x+.35*a.w,y:a.y+\n.72*a.h},{Action:\"move\",x:a.x+.65*a.w,y:a.y+.72*a.h},{Action:\"line\",x:a.x+.65*a.w,y:a.y+.28*a.h},{Action:\"move\",x:a.x+.35*a.w,y:a.y+.5*a.h},{Action:\"line\",x:a.x+.65*a.w,y:a.y+.5*a.h}]}]}});lucid.plugin.initBlockClass({className:\"UMLFlowFinalBlock\",name:i18n.get(\"plugin-uml-flow-final-block\"),searchKeywords:\"\",defaultSize:{w:40,h:40},onInit:function(b){},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},\ngetRenderData:function(b,c){var a=b.BoundingBox;\"sample\"==c&&(a=lucid.math.Box.pad(a,-a.w/4));return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x+a.w,y:a.y+a.h/2},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x,a.y,a.w,a.h,0,2*Math.PI)},{Action:\"close\"}]},{FillColor:null,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x+.1464*a.w,y:a.y+.1464*a.h},{Action:\"line\",x:a.x+.8536*a.w,y:a.y+.8536*a.h},{Action:\"move\",\nx:a.x+.8536*a.w,y:a.y+.1464*a.h},{Action:\"line\",x:a.x+.1464*a.w,y:a.y+.8536*a.h}]}]}});lucid.plugin.initBlockClass({className:\"UMLObjectBlock\",name:i18n.get(\"plugin-uml-object-block\"),searchKeywords:\"\",defaultSize:{w:160,h:80},variants:{UMLObjectBlockSeq:{searchKeywords:i18n.get(\"plugin-uml-object-block-seq-search-keywords\"),defaultProperties:function(){return{Sequence:1,Text:'<span style=\"text-decoration:underline;\">'+i18n.get(\"plugin-uml-object-block-seq-text\")+\"</span>\"}},defaultSize:{w:160,h:120},\ntooltip:i18n.get(\"plugin-uml-object-block-seq-tooltip\")}},onInit:function(b){lucid.plugin.registerProperty(\"Sequence\",0);lucid.plugin.addBlockTextArea(b,{id:\"Text\",value:i18n.get(\"plugin-uml-object-block-text\"),getBoundingBox:function(c){return F(c,function(a){return{x:a.x+20,y:a.y,w:a.w-40,h:a.h}},function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(b,\"InsetMargin\")||0,hideOverflow:!0}})}});1<B()&&(lucid.plugin.registerProperty(b,\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(b,\n\"InsetMargin\",5))},allowPromptNextBlock:function(b){return!lucid.plugin.getProperty(b,\"Sequence\")},lineDrawnProperties:function(b,c){return lucid.plugin.getProperty(b,\"Sequence\")?{Endpoint2:{Style:\"None\"},StrokeStyle:\"dashed\"}:{}},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(b,c){var a=b.BoundingBox;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,\nActions:[{Action:\"move\",x:a.x,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y+a.h},{Action:\"line\",x:a.x,y:a.y+a.h},{Action:\"close\"}]}]}});lucid.plugin.createNextBlockGroup(\"UMLStartBlock UMLStateBlock UMLStateBlockCmp UMLStateBlockExt UMLObjectBlock UMLDecisionBlock UMLHForkJoinBlock UMLVForkJoinBlock UMLFlowFinalBlock UMLEndBlock UMLHistoryStateBlock UMLSendSignalBlock UMLReceiveSignalBlock\".split(\" \"));lucid.plugin.initBlockClass({className:\"UMLEntityBlock\",name:i18n.get(\"plugin-uml-entity-block\"),\nsearchKeywords:\"\",defaultSize:{w:160,h:120},onInit:function(b){lucid.plugin.registerProperty(\"Sequence\",0);lucid.plugin.addBlockTextArea(b,{id:\"Text\",value:i18n.get(\"plugin-uml-entity-block-text\"),getBoundingBox:function(c){return F(c,function(a){return{x:a.x+20,y:a.y,w:a.w-40,h:a.h}},function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(b,\"InsetMargin\")||0,hideOverflow:!0}})}});1<B()&&(lucid.plugin.registerProperty(b,\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(b,\"InsetMargin\",\n5))},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(b,c){var a=b.BoundingBox;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y+a.h},{Action:\"line\",x:a.x,y:a.y+a.h},{Action:\"close\"}]}]}});lucid.plugin.initBlockClass({className:\"UMLWeakEntityBlock\",name:i18n.get(\"plugin-uml-weak-entity-block\"),\nsearchKeywords:\"\",defaultSize:{w:160,h:120},onInit:function(b){lucid.plugin.registerProperty(\"Sequence\",0);lucid.plugin.addBlockTextArea(b,{id:\"Text\",value:i18n.get(\"plugin-uml-weak-entity-block-text\"),getBoundingBox:function(c){return F(c,function(a){return{x:a.x+20,y:a.y,w:a.w-40,h:a.h}},function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(b,\"InsetMargin\")||0,hideOverflow:!0}})}});1<B()&&(lucid.plugin.registerProperty(b,\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(b,\"InsetMargin\",\n5))},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(b,c){var a=b.BoundingBox,d=.05*Math.min(a.h,a.w);\"sample\"==c&&(d*=5);return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y+a.h},{Action:\"line\",x:a.x,y:a.y+a.h},{Action:\"close\"}]},{FillColor:b.FillColor,\nStrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x+d,y:a.y+d},{Action:\"line\",x:a.x+a.w-d,y:a.y+d},{Action:\"line\",x:a.x+a.w-d,y:a.y+a.h-d},{Action:\"line\",x:a.x+d,y:a.y+a.h-d},{Action:\"close\"}]},{FillColor:null,StrokeColor:null,LineWidth:null,Actions:[{Action:\"move\",x:a.x+d,y:a.y+d},{Action:\"line\",x:a.x+a.w-d,y:a.y+d},{Action:\"line\",x:a.x+a.w-d,y:a.y+a.h-d},{Action:\"line\",x:a.x+d,y:a.y+a.h-d},{Action:\"close\"}]}]}});lucid.plugin.initBlockClass({className:\"UMLAttributeBlock\",\nname:i18n.get(\"plugin-uml-attribute-block\"),defaultSize:{w:160,h:120},searchKeywords:i18n.get(\"plugin-uml-attribute-block-search-keywords\"),onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:\"Text\",value:i18n.get(\"plugin-uml-attribute-block-text\"),getBoundingBox:function(c){return F(c,function(a){return{x:a.x+.15*a.w,y:a.y+.2*a.h,w:.7*a.w,h:.6*a.h}},function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(b,\"InsetMargin\")||0,hideOverflow:!0}})}});1<B()&&(lucid.plugin.registerProperty(b,\n\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(b,\"InsetMargin\",5))},getLinkPoints:function(b){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(b,c){var a=b.BoundingBox;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x+a.w,y:a.y+a.h/2},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x,a.y,a.w,a.h,0,2*Math.PI)},{Action:\"close\"}]}]}});\nlucid.plugin.initBlockClass({className:\"UMLMultivaluedAttributeBlock\",name:i18n.get(\"plugin-uml-multivalued-attribute-block\"),defaultSize:{w:160,h:120},searchKeywords:i18n.get(\"plugin-uml-multivalued-attribute-block-search-keywords\"),onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:\"Text\",value:i18n.get(\"plugin-uml-multivalued-attribute-block-text\"),getBoundingBox:function(c){return F(c,function(a){return{x:a.x+.15*a.w,y:a.y+.2*a.h,w:.7*a.w,h:.6*a.h}},function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,\nfitShape:lucid.plugin.getProperty(b,\"InsetMargin\")||0,hideOverflow:!0}})}});1<B()&&(lucid.plugin.registerProperty(b,\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(b,\"InsetMargin\",5))},getLinkPoints:function(b){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(b,c){var a=b.BoundingBox,d=.05*Math.min(a.h,a.w);\"sample\"==c&&(d*=5);return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,\nActions:[{Action:\"move\",x:a.x+a.w,y:a.y+a.h/2},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x,a.y,a.w,a.h,0,2*Math.PI)},{Action:\"close\"}]},{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x+a.w-d,y:a.y+a.h/2},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x+d,a.y+d,a.w-2*d,a.h-2*d,0,2*Math.PI)},{Action:\"close\"}]},{FillColor:null,StrokeColor:null,LineWidth:null,Actions:[{Action:\"move\",x:a.x+a.w-d,y:a.y+a.h/2},{Action:\"curve\",\nControl:lucid.math.ellipseArcControlPoints(a.x+d,a.y+d,a.w-2*d,a.h-2*d,0,2*Math.PI)},{Action:\"close\"}]}]}});lucid.plugin.initBlockClass({className:\"UMLRelationshipBlock\",name:i18n.get(\"plugin-uml-relationship-block\"),searchKeywords:i18n.get(\"plugin-uml-relationship-block-search-keywords\"),defaultSize:{w:160,h:140},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:\"Text\",value:i18n.get(\"plugin-uml-relationship-block-text\"),getBoundingBox:function(c){return F(c,function(a){return{x:a.x+.25*a.w,\ny:a.y+.25*a.h,w:.5*a.w,h:.5*a.h}},function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(b,\"InsetMargin\")||0,hideOverflow:!0}})}});1<B()&&(lucid.plugin.registerProperty(b,\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(b,\"InsetMargin\",5))},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(b,c){var a=b.BoundingBox;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,\nLineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x+.5*a.w,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y+.5*a.h},{Action:\"line\",x:a.x+.5*a.w,y:a.y+a.h},{Action:\"line\",x:a.x,y:a.y+.5*a.h},{Action:\"close\"}]}]}});lucid.plugin.initBlockClass({className:\"UMLWeakRelationshipBlock\",name:i18n.get(\"plugin-uml-weak-relationship-block\"),searchKeywords:i18n.get(\"plugin-uml-weak-relationship-block-search-keywords\"),defaultSize:{w:160,h:140},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:\"Text\",value:i18n.get(\"plugin-uml-weak-relationship-block-text\"),\ngetBoundingBox:function(c){return F(c,function(a){return{x:a.x+.25*a.w,y:a.y+.25*a.h,w:.5*a.w,h:.5*a.h}},function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(b,\"InsetMargin\")||0,hideOverflow:!0}})}});1<B()&&(lucid.plugin.registerProperty(b,\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(b,\"InsetMargin\",5))},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(b,\nc){var a=b.BoundingBox,d=.05*a.w,g=.05*a.h;\"sample\"==c&&(d*=5,g*=5);return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x+.5*a.w,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y+.5*a.h},{Action:\"line\",x:a.x+.5*a.w,y:a.y+a.h},{Action:\"line\",x:a.x,y:a.y+.5*a.h},{Action:\"close\"}]},{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x+.5*a.w,y:a.y+g},{Action:\"line\",x:a.x+a.w-d,y:a.y+.5*a.h},{Action:\"line\",x:a.x+.5*a.w,\ny:a.y+a.h-g},{Action:\"line\",x:a.x+d,y:a.y+.5*a.h},{Action:\"close\"}]},{FillColor:null,StrokeColor:null,LineWidth:null,Actions:[{Action:\"move\",x:a.x+.5*a.w,y:a.y+g},{Action:\"line\",x:a.x+a.w-d,y:a.y+.5*a.h},{Action:\"line\",x:a.x+.5*a.w,y:a.y+a.h-g},{Action:\"line\",x:a.x+d,y:a.y+.5*a.h},{Action:\"close\"}]}]}});lucid.plugin.createNextBlockGroup(\"UMLEntityBlock UMLWeakEntityBlock UMLAttributeBlock UMLMultivaluedAttributeBlock UMLRelationshipBlock UMLWeakRelationshipBlock\".split(\" \"));lucid.plugin.initBlockClass({className:\"UMLDeletionBlock\",\nname:i18n.get(\"plugin-uml-deletion-block\"),searchKeywords:i18n.get(\"plugin-uml-deletion-block-search-keywords\"),defaultSize:{w:80,h:80},onInit:function(b){},getLinkPoints:function(){return[{x:0,y:.5},{x:.5,y:0},{x:1,y:.5},{x:.5,y:1}]},disabledPropertyControls:[\"FillColor\"],getRenderDataKey:function(){return[\"LineColor\",\"LineWidth\"]},getRenderData:function(b,c){var a=b.BoundingBox,d=8;\"sample\"==c&&(a={x:Math.round(a.x+.25*a.w),y:Math.round(a.y+.25*a.h),w:Math.round(.5*a.w),h:Math.round(.5*a.h)},d=\n2);return[{Actions:[{Action:\"move\",x:a.x,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y+a.h},{Action:\"line\",x:a.x,y:a.y+a.h},{Action:\"close\"}]},{StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:\"move\",x:a.x+.1*a.w,y:a.y+.1*a.h},{Action:\"line\",x:a.x+.9*a.w,y:a.y+.9*a.h},{Action:\"move\",x:a.x+.9*a.w,y:a.y+.1*a.h},{Action:\"line\",x:a.x+.1*a.w,y:a.y+.9*a.h}]}]}});lucid.plugin.initBlockClass({className:\"UMLActivationBlock\",name:i18n.get(\"plugin-uml-activation-block\"),searchKeywords:i18n.get(\"plugin-uml-activation-block-search-keywords\"),\ndefaultSize:{w:40,h:120},vLock:!0,hLock:!0,rLock:!0,onInit:function(b){lucid.plugin.setProperty(b,\"DisableAutoLink\",!0)},getLinkPoints:function(){return[]},lineDrawnProperties:function(b,c){return{TextAreas:{Message:{Location:.5,Side:-1,Value:i18n.get(\"plugin-uml-activation-block-line-text\")}}}},lineDrawn:function(b,c,a,d){d&&lucid.plugin.editLineTextArea(c,\"Message\")},spatialControls:function(b){function c(a,c){function e(e,n){var p=lucid.plugin.getProperty(e,n);if(p&&p.Block==b){p.LinkY=(p.LinkY*\nl.h-a)/(l.h+c);if(0>p.LinkY||1<p.LinkY)p.LinkX=null,p.LinkY=null,p.Block=null;h[e][n]=p}}var h={},l=lucid.plugin.getProperty(b,\"BoundingBox\");h[b]={BoundingBox:{x:l.x,y:l.y+a,w:l.w,h:l.h+c}};for(var n=lucid.plugin.getConnectedLines(b),p=0;p<n.length;p++)h[n[p]]={},e(n[p],\"Endpoint1\"),e(n[p],\"Endpoint2\");return h}function a(a){return{logAction:\"chart.viewport.selection.spatialControls.uml.activation\",location:function(){var c=lucid.plugin.getProperty(b,\"BoundingBox\");return{x:c.x+c.w/2-5,y:c.y+(a?\n0:c.h)-5,w:10,h:10}},moved:function(g){var e=lucid.plugin.getProperty(b,\"BoundingBox\");g=a?e.y-g.y:g.y-(e.y+e.h);g=a?c(-g,g):c(0,g);for(var h in g)for(var l in g[h])lucid.plugin.setProperty(h,l,g[h][l])},path:function(){var a=lucid.plugin.getProperty(b,\"BoundingBox\");return[{x:a.x+a.w/2,y:1E8},{x:a.x+a.w/2,y:-1E8}]},cursor:function(){return a?\"n-resize\":\"s-resize\"},snap:1}}return[a(!0),a(!1)]},getRenderDataKey:function(){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(b,c){var a=\nb.BoundingBox;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y+a.h},{Action:\"line\",x:a.x,y:a.y+a.h},{Action:\"close\"}]}]}});lucid.plugin.initBlockClass({className:\"UMLNodeBlock\",name:i18n.get(\"plugin-uml-node-block\"),searchKeywords:\"\",defaultSize:{w:360,h:360},variants:{UMLNodeDeployment:{searchKeywords:i18n.get(\"plugin-uml-node-deployment-search-keywords\"),defaultProperties:function(){return{Title:'<span style=\"font-weight:bold;\">'+\ni18n.get(\"plugin-uml-node-deployment-title\")+\"</span>\"}},tooltip:i18n.get(\"plugin-uml-node-deployment-tooltip\")},UMLNodeDeploymentInstance:{searchKeywords:i18n.get(\"plugin-uml-node-deployment-instance-search-keywords\"),defaultProperties:function(){return{Title:'<span style=\"text-decoration:underline;\">'+i18n.get(\"plugin-uml-node-deployment-instance-title\")+\"</span>\"}},tooltip:i18n.get(\"plugin-uml-node-deployment-instance-tooltip\")}},onInit:function(b){lucid.plugin.registerProperty(\"TitleHeight\",26);\nlucid.plugin.setProperty(\"TextAlign\",\"left\");lucid.plugin.setProperty(b,\"DisableAutoLink\",!0);lucid.plugin.addBlockTextArea(b,{id:\"Title\",value:i18n.get(\"plugin-uml-node-block-title\"),getBoundingBox:function(b){return{x:b.x+8,y:b.y+.1*b.h+8,w:.7*b.w,h:26}}})},getLinkPoints:function(){return[{x:0,y:.25},{x:0,y:.5},{x:0,y:.75},{x:.25,y:1},{x:.5,y:1},{x:.75,y:1},{x:1,y:.75},{x:1,y:.5},{x:1,y:.25},{x:.75,y:0},{x:.5,y:0},{x:.25,y:0}]},afterEditText:function(b){var c=lucid.text.getSize(b,\"Title\")+8;lucid.plugin.setProperty(b,\n\"TitleHeight\",c)},lineDrawnProperties:function(b,c){return{TextAreas:{Connection:{Location:.5,Side:0,Value:i18n.get(\"plugin-uml-node-block-line-text\")}}}},lineDrawn:function(b,c,a,d){d&&lucid.plugin.editLineTextArea(c,\"Connection\")},getRenderDataKey:function(){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(b,c){var a=b.BoundingBox,d=.1*(a.w<a.h?a.w:a.h);return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x,y:a.y+d},{Action:\"line\",\nx:a.x+1.2*d,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y+a.h-1.2*d},{Action:\"line\",x:a.x+a.w-d,y:a.y+a.h},{Action:\"line\",x:a.x,y:a.y+a.h},{Action:\"close\"}]},{FillColor:lucid.color.darken(b.FillColor,.1),StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x,y:a.y+d},{Action:\"line\",x:a.x+1.2*d,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y},{Action:\"line\",x:a.x+a.w-d,y:a.y+d},{Action:\"close\"}]},{FillColor:lucid.color.darken(b.FillColor,.2),StrokeColor:b.LineColor,\nLineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x+a.w-d,y:a.y+d},{Action:\"line\",x:a.x+a.w,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y+a.h-1.2*d},{Action:\"line\",x:a.x+a.w-d,y:a.y+a.h},{Action:\"close\"}]}]}});lucid.plugin.initBlockClass({className:\"UMLComponentBlock\",name:i18n.get(\"plugin-uml-component-block\"),searchKeywords:\"\",defaultSize:{w:160,h:120},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:\"Title\",value:i18n.get(\"plugin-uml-component-block-title\"),getBoundingBox:function(b){return{x:b.x+\n.2*b.w,y:b.y+.1*b.h,w:.7*b.w,h:.8*b.h}}})},variants:{UMLComponentDeployment:{searchKeywords:i18n.get(\"plugin-uml-component-deployment-block-search-keywords\"),defaultProperties:function(){return{Title:'<span style=\"font-weight:bold;\">'+i18n.get(\"plugin-uml-component-deployment-block-title\")+\"</span>\"}},tooltip:i18n.get(\"plugin-uml-component-deployment-block-tooltip\")},UMLComponentDeploymentInstance:{searchKeywords:i18n.get(\"plugin-uml-component-deployment-instance-search-keywords\"),defaultProperties:function(){return{Title:'<span style=\"text-decoration:underline;\">'+\ni18n.get(\"plugin-uml-component-deployment-instance-title\")+\"</span>\"}},tooltip:i18n.get(\"plugin-uml-component-deployment-instance-tooltip\")}},getLinkPoints:function(){return[{x:0,y:.25},{x:0,y:.75},{x:.25,y:1},{x:.5,y:1},{x:.75,y:1},{x:1,y:.75},{x:1,y:.5},{x:1,y:.25},{x:.75,y:0},{x:.5,y:0},{x:.25,y:0}]},getRenderDataKey:function(){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(b,c){var a=b.BoundingBox,d=40,g=20;\"sample\"==c&&(g*=a.h/120,d=2*g);return[{FillColor:b.FillColor,StrokeColor:b.LineColor,\nLineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x+.5*d,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y+a.h},{Action:\"line\",x:a.x+.5*d,y:a.y+a.h},{Action:\"close\"}]},{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x,y:a.y+.25*a.h-.5*g},{Action:\"line\",x:a.x+d,y:a.y+.25*a.h-.5*g},{Action:\"line\",x:a.x+d,y:a.y+.25*a.h+.5*g},{Action:\"line\",x:a.x,y:a.y+.25*a.h+.5*g},{Action:\"close\"}]},{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,\nActions:[{Action:\"move\",x:a.x,y:a.y+.75*a.h-.5*g},{Action:\"line\",x:a.x+d,y:a.y+.75*a.h-.5*g},{Action:\"line\",x:a.x+d,y:a.y+.75*a.h+.5*g},{Action:\"line\",x:a.x,y:a.y+.75*a.h+.5*g},{Action:\"close\"}]}]}});lucid.plugin.initBlockClass({className:\"UMLComponentBoxBlock\",name:i18n.get(\"plugin-uml-component-box\"),searchKeywords:\"\",defaultSize:{w:160,h:120},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:\"Title\",value:i18n.get(\"plugin-uml-component-box-title\"),getBoundingBox:function(c){return F(c,function(a){return{x:a.x+\n20,y:a.y,w:a.w-40,h:a.h}},function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(b,\"InsetMargin\")||0,hideOverflow:!0}})}});1<B()&&(lucid.plugin.registerProperty(b,\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(b,\"InsetMargin\",5))},getLinkPoints:function(){return[{x:0,y:.25},{x:0,y:.5},{x:0,y:.75},{x:.25,y:1},{x:.5,y:1},{x:.75,y:1},{x:1,y:.75},{x:1,y:.5},{x:1,y:.25},{x:.75,y:0},{x:.5,y:0},{x:.25,y:0}]},getRenderData:function(b,c){var a=b.BoundingBox;if(\"sample\"==c)var d=5,g=\n1;else d=20,g=10;var e=a.y+g,g=a.x+a.w-g,h=g-d/2;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[r(a,0,0),v(a,0,1),v(a,1,1),v(a,1,0),H()]},{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:1,NoRounding:!0,Actions:[V(g,e),y(g-3*d/4,e),y(g-3*d/4,e+d),y(g,e+d),H()]},{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:1,NoRounding:!0,Actions:[V(h,e+d/6),y(h-d/2,e+d/6),y(h-d/2,e+d/3),y(h,e+d/3),H(),V(h,e+2*d/3),y(h-d/2,e+2*d/3),y(h-d/2,e+5*d/6),y(h,e+5*\nd/6),H()]}]}});lucid.plugin.initBlockClass({className:\"UMLComponentInterfaceBlock\",name:i18n.get(\"plugin-uml-component-interface-block\"),searchKeywords:i18n.get(\"plugin-uml-component-interface-block-search-keywords\"),defaultSize:{w:40,h:40},onInit:function(b){},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(){return[\"FillColor\",\"LineColor\",\"LineWidth\"]},getRenderData:function(b,c){var a=b.BoundingBox;\"sample\"==c&&(a={x:Math.round(a.x+.25*a.w),\ny:Math.round(a.y+.25*a.h),w:Math.round(.5*a.w),h:Math.round(.5*a.h)});return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x+a.w,y:a.y+a.h/2},{Action:\"curve\",Control:lucid.math.ellipseArcControlPoints(a.x,a.y,a.w,a.h,0,2*Math.PI)},{Action:\"close\"}]}]}});lucid.plugin.initBlockClass({className:\"UMLAssemblyConnectorBlock\",name:i18n.get(\"plugin-uml-assembly-connector-block\"),searchKeywords:i18n.get(\"plugin-uml-assembly-connector-block-search-keywords\"),\ndefaultSize:{w:50,h:40},onInit:function(b){},getLinkPoints:function(){return[{x:0,y:.5},{x:1,y:.5}]},getRenderData:function(b,c){var a=b.BoundingBox;return[{StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[r(a,0,.5),v(a,.5-.35*.8,.5),r(a,.5,1),X(a,.1,0,.8,1,.5,-.5),r(a,.9,.5),v(a,1,.5)]},{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[r(a,.5,.15),X(a,.5-.35*.8,.15,.7*.8,.7,-.5,1.5),H()]},{Actions:[r(a,.5,1),X(a,.1,0,.8,1,.5,-1.5),H()]}]}});lucid.plugin.initBlockClass({className:\"UMLProvidedInterfaceBlock\",\nname:i18n.get(\"plugin-uml-provided-interface-block\"),searchKeywords:\"\",defaultSize:{w:50,h:40},getLinkPoints:function(){return[{x:0,y:.5}]},getRenderData:function(b,c){var a=b.BoundingBox;return[{StrokeColor:b.LineColor,LineWidth:b.LineWidth,FillColor:b.FillColor,Actions:[r(a,0,.5),v(a,.2,.5),r(a,1,.5),X(a,.2,0,.8,1,0,2),H()]}]}});lucid.plugin.initBlockClass({className:\"UMLRequiredInterfaceBlock\",name:i18n.get(\"plugin-uml-required-interface-block\"),searchKeywords:\"\",defaultSize:{w:30,h:40},getLinkPoints:function(){return[{x:1,\ny:.5}]},getRenderData:function(b,c){var a=b.BoundingBox;return[{StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[r(a,2/3,.5),v(a,1,.5),r(a,0,0),X(a,-2/3,0,4/3,1,-.5,.5)]},{Actions:[r(a,0,0),X(a,-2/3,0,4/3,1,-.5,.5),H()]}]}});lucid.plugin.initBlockClass({className:\"UMLAcceptTimeEventActionBlock\",name:i18n.get(\"plugin-uml-accept-time-event-action-block\"),searchKeywords:\"\",defaultSize:{w:40,h:60},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:\"Title\",value:i18n.get(\"plugin-uml-accept-time-event-action-block-title\"),\ngetBoundingBox:function(b,a){return{x:b.x-b.w,y:b.y+b.h+5,w:3*b.w,h:30}}})},getLinkPoints:function(){return[{x:.5,y:.5}]},getRenderData:function(b,c){var a=b.BoundingBox;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[r(a,0,0),v(a,1,0),v(a,0,1),v(a,1,1),H()]}]}});lucid.plugin.initBlockClass({className:\"UMLInterruptingEdgeBlock\",name:i18n.get(\"plugin-uml-interrupting-edge-block\"),searchKeywords:\"\",defaultSize:{w:40,h:20},getLinkPoints:function(){return[]},disabledPropertyControls:[\"FillColor\"],\ngetRenderDataKey:function(){return[\"LineColor\",\"LineWidth\"]},getRenderData:function(b,c){var a=b.BoundingBox;return[{StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[r(a,0,0),v(a,1,0),v(a,0,.9),v(a,1,.9)]},{StrokeColor:b.LineColor,LineWidth:b.LineWidth,NoRounding:!0,Actions:[r(a,.9,.8),v(a,1,.9),v(a,.9,1)]},{Actions:[r(a,0,0),v(a,1,0),v(a,1,1),v(a,0,1),H()]}]}});lucid.plugin.initBlockClass({className:\"UMLOffPageLinkBlock\",name:i18n.get(\"plugin-uml-offpage-link-block\"),searchKeywords:i18n.get(\"plugin-uml-offpage-link-block-search-keywords\"),\ndefaultSize:{w:120,h:120},defaultText:i18n.get(\"plugin-uml-offpage-link-block-default-text\"),onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:\"Text\",value:i18n.get(\"plugin-uml-offpage-link-block-text\"),getBoundingBox:function(c){return F(c,function(a){return{x:a.x+10,y:a.y,w:a.w-20,h:.8*a.h}},function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(b,\"InsetMargin\")||0,hideOverflow:!0}})}});1<B()&&(lucid.plugin.registerProperty(b,\"TextWrap\",\"fit\"),lucid.plugin.registerProperty(b,\n\"InsetMargin\",5))},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},onCreate:function(b){lucid.plugin.selectBlockLink(b)},getRenderData:function(b,c){var a=b.BoundingBox;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y+.6*a.h},{Action:\"line\",x:a.x+a.w/2,y:a.y+a.h},{Action:\"line\",x:a.x,y:a.y+.6*a.h},{Action:\"close\"}]}]}});lucid.plugin.initBlockClass({className:\"UMLExpansionNodeBlock\",\nname:i18n.get(\"plugin-uml-expansion-node-block\"),searchKeywords:\"\",defaultSize:{w:80,h:20},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderData:function(b,c){var a=b.BoundingBox;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[r(a,0,0),v(a,1,0),v(a,1,1),v(a,0,1),H()]},{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[r(a,.25,0),v(a,.25,1),r(a,.5,0),v(a,.5,1),r(a,.75,0),v(a,.75,1)]}]}});lucid.plugin.initBlockClass(function(){return{className:\"UMLMultidimensionalSwimlane\",\ncontainer:!0,name:i18n.get(\"plugin-uml-multidimensional-swimlane\"),searchKeywords:i18n.get(\"plugin-uml-multidimensional-swimlane-search-keywords\"),defaultSize:{w:1140,h:840},rLock:!0,vLock:!0,hLock:!0,onInit:function(b){var c=function(c){return function(g,e){if(g!=e){var h=lucid.plugin.getBlockTextAreas(b);e.forEach(function(b){if(!lucid.array.contains(h,c+\"_\"+b.id)){var e;e=\"Row\"==c?i18n.get(\"plugin-uml-multidimensional-swimlane-row-title\"):i18n.get(\"plugin-uml-multidimensional-swimlane-column-title\");\na(b.id,e,c)}});if(g){var l=g.map(function(a){return a.id}),n=e.map(function(a){return a.id});l.forEach(function(a){lucid.array.contains(n,a)||(lucid.plugin.setProperty(b,c+\"_\"+a,c),lucid.plugin.deleteBlockTextArea(b,c+\"_\"+a))})}var l=lucid.plugin.getProperty(b,\"Rows\"),p=lucid.plugin.getProperty(b,\"Columns\");if(l&&p){for(var l=l.length,p=p.length,z=[],t=0;t<p;t++)z.push(\"Column_\"+t);for(t=0;t<l;t++)z.push(\"Row_\"+t);lucid.plugin.setBlockTextAreasOrder(b,z)}}}},a=function(a,c,e){lucid.plugin.addBlockTextArea(b,\n{id:c+\"_\"+a,rotation:\"Row\"==e?-Math.PI/2:0,value:c,getBoundingBox:function(c){var g=lucid.plugin.getProperty(b,\"BoundingBox\"),h=lucid.plugin.getProperty(b,\"TitleHeight\"),p=lucid.plugin.getProperty(b,\"TitleWidth\");if(\"Row\"==e){c=lucid.plugin.getProperty(b,\"Rows\");for(var z=null,h=g.y+h,t=0;t<c.length;t++){if(c[t].id==a){z=c[t];break}h+=c[t].height}return z?{x:g.x+p/2-z.height/2,y:h+z.height/2-p/2,w:z.height,h:p}:null}g=lucid.plugin.getProperty(b,\"Columns\");z=null;p=c.x+p;for(t=0;t<g.length;t++){if(g[t].id==\na){z=g[t];break}p+=g[t].width}return z?{x:p,y:c.y,w:z.width,h:h}:null}})};lucid.plugin.getProperty(b,\"BoundingBox\");lucid.plugin.registerProperty(b,\"Rows\",[{id:0,height:400},{id:1,height:400}],null,c(\"Row\"));lucid.plugin.registerProperty(b,\"Columns\",[{id:0,width:550},{id:1,width:550}],null,c(\"Column\"));lucid.plugin.registerProperty(b,\"TitleHeight\",40);lucid.plugin.registerProperty(b,\"TitleWidth\",40);lucid.plugin.registerProxyProperty(b,\"RowCount\",function(){return lucid.plugin.getProperty(b,\"Rows\").length},\ntb.bind(null,b));lucid.plugin.registerProxyProperty(b,\"ColumnCount\",function(){return lucid.plugin.getProperty(b,\"Columns\").length},Pa.bind(null,b));lucid.plugin.hookPropertyPostSave(b,\"Rows\",function(){lucid.plugin.proxyPropertyChanged(b,\"RowCount\")});lucid.plugin.hookPropertyPostSave(b,\"Columns\",function(){lucid.plugin.proxyPropertyChanged(b,\"ColumnCount\")})},getLinkPoints:function(b){return[]},getRenderData:function(b,c){var a=b.BoundingBox,d=b.Rows,g=b.Columns,e=b.TitleHeight,h=b.TitleWidth;\"preview\"==\nc&&(d.forEach(function(b){b.height=(a.h-e)/d.length}),g.forEach(function(b){b.width=(a.w-h)/g.length}),lucid.plugin.setProperty(b.id,\"Rows\",d),lucid.plugin.setProperty(b.id,\"Columns\",g));if(\"sample\"==c){var l=function(a){return{StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:a}};return[l([{Action:\"move\",x:a.x,y:a.y},{Action:\"line\",x:a.x,y:a.y+a.h},{Action:\"line\",x:a.x+a.w,y:a.y+a.h},{Action:\"line\",x:a.x+a.w,y:a.y},{Action:\"close\"}]),l([{Action:\"move\",x:a.x,y:a.y+.2*a.h},{Action:\"line\",x:a.x+\na.w,y:a.y+.2*a.h}]),l([{Action:\"move\",x:a.x+.2*a.w,y:a.y},{Action:\"line\",x:a.x+.2*a.w,y:a.y+a.h}]),l([{Action:\"move\",x:a.x+.6*a.w,y:a.y},{Action:\"line\",x:a.x+.6*a.w,y:a.y+a.h}]),l([{Action:\"move\",x:a.x,y:a.y+.6*a.h},{Action:\"line\",x:a.x+a.w,y:a.y+.6*a.h}])]}var n=[{LineWidth:b.LineWidth,FillColor:b.FillColor,Actions:[{Action:\"move\",x:a.x+h,y:a.y+e},{Action:\"line\",x:a.x,y:a.y+e},{Action:\"line\",x:a.x,y:a.y+a.h},{Action:\"line\",x:a.x+h,y:a.y+a.h},{Action:\"close\"}]},{StrokeColor:b.LineColor,LineWidth:b.LineWidth,\nNoRounding:!0,Actions:[{Action:\"move\",x:a.x+h,y:a.y+e},{Action:\"line\",x:a.x+h,y:a.y+a.h}]},{FillColor:b.FillColor,Actions:[{Action:\"move\",x:a.x+h,y:a.y+e},{Action:\"line\",x:a.x+h,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y+e},{Action:\"close\"}]},{StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x+h,y:a.y+e},{Action:\"line\",x:a.x+a.w,y:a.y+e}]},{StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:\"move\",x:a.x+h,y:a.y+e},{Action:\"line\",x:a.x+\nh,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y},{Action:\"line\",x:a.x+a.w,y:a.y+a.h},{Action:\"line\",x:a.x,y:a.y+a.h},{Action:\"line\",x:a.x,y:a.y+e},{Action:\"line\",x:a.x+h,y:a.y+e}]}],p=a.y+e;d.slice(0,-1).forEach(function(c){n.push({LineWidth:b.LineWidth,StrokeColor:b.LineColor,Actions:[{Action:\"move\",x:a.x,y:p+c.height},{Action:\"line\",x:a.x+a.w,y:p+c.height}]});p+=c.height});var z=a.x+h;g.slice(0,-1).forEach(function(c){n.push({LineWidth:b.LineWidth,StrokeColor:b.LineColor,Actions:[{Action:\"move\",x:z+c.width,\ny:a.y},{Action:\"line\",x:z+c.width,y:a.y+a.h}]});z+=c.width});return n},spatialControls:function(b){for(var c=function(){var a=lucid.plugin.getProperty(b,\"Rows\"),c=lucid.plugin.getProperty(b,\"Columns\"),d=lucid.plugin.getProperty(b,\"BoundingBox\"),e=lucid.plugin.getProperty(b,\"TitleHeight\"),g=lucid.plugin.getProperty(b,\"TitleWidth\"),a=e+a.reduce(function(a,b){return a+b.height},0),c=g+c.reduce(function(a,b){return a+b.width},0);if(d.w!=c||d.h!=a)d.w=c,d.h=a,lucid.plugin.setProperty(b,\"BoundingBox\",d)},\na=function(a){var d=lucid.plugin.getProperty(b,\"BoundingBox\"),e=lucid.plugin.getProperty(b,\"TitleHeight\"),g=lucid.plugin.getProperty(b,\"Rows\"),h=g.slice(0,a).reduce(function(a,b){return a+b.height},d.y+e),m=h+g[a].height;return{logAction:\"chart.viewport.selection.spatialControls.uml.multidimensionalSwimlaneWidth\",snap:!0,color:\"none\",location:function(){var a=lucid.plugin.getProperty(b,\"TitleWidth\");return{x:d.x+a,y:m-10,w:d.w-a,h:20}},moved:function(d){var e=lucid.object.copy(g);e[a].height=d.y-\nh;d=lucid.plugin.getContained(b);var n=e[a].height-g[a].height;if(0!=n)for(var p=0;p<d.length;p++){var r=lucid.plugin.getProperty(d[p],\"BoundingBox\");r&&r.y>m&&(r.y+=n,lucid.plugin.setProperty(d[p],\"BoundingBox\",r))}lucid.plugin.setProperty(b,\"Rows\",e);c()},path:function(){return[{x:d.x,y:h+20},{x:d.x,y:m+1E3}]},cursor:function(){return\"s-resize\"}}},d=function(a){var d=lucid.plugin.getProperty(b,\"BoundingBox\"),e=lucid.plugin.getProperty(b,\"TitleWidth\"),g=lucid.plugin.getProperty(b,\"Columns\"),h=g.slice(0,\na).reduce(function(a,b){return a+b.width},d.x+e),m=h+g[a].width;return{logAction:\"chart.viewport.selection.spatialControls.uml.multidimensionalSwimlaneWidth\",snap:!0,color:\"none\",location:function(){var a=lucid.plugin.getProperty(b,\"TitleHeight\");return{x:m-10,y:d.y+a,w:20,h:d.h-a}},moved:function(d){var e=lucid.object.copy(g);e[a].width=d.x-h;d=lucid.plugin.getContained(b);var n=e[a].width-g[a].width;if(0!=n)for(var p=0;p<d.length;p++){var r=lucid.plugin.getProperty(d[p],\"BoundingBox\");r&&r.x>m&&\n(r.x+=n,lucid.plugin.setProperty(d[p],\"BoundingBox\",r))}lucid.plugin.setProperty(b,\"Columns\",e);c()},path:function(){return[{x:h+20,y:d.y},{x:m+1E3,y:d.y}]},cursor:function(){return\"e-resize\"}}},g=[],e=lucid.plugin.getProperty(b,\"Rows\").length,h=0;h<e;h++)g.push(a(h));a=lucid.plugin.getProperty(b,\"Columns\").length;for(h=0;h<a;h++)g.push(d(h));g.push({logAction:\"chart.viewport.selection.spatialControls.uml.multidimensionalSwimlaneColumnHeader\",snap:!0,color:\"none\",location:function(){var a=lucid.plugin.getProperty(b,\n\"BoundingBox\"),c=lucid.plugin.getProperty(b,\"TitleHeight\"),d=lucid.plugin.getProperty(b,\"TitleWidth\");return{x:a.x+d,y:a.y+c-10,w:a.w-d,h:20}},moved:function(a){var d=lucid.plugin.getProperty(b,\"BoundingBox\"),e=lucid.plugin.getProperty(b,\"TitleHeight\"),d=a.y-d.y;lucid.plugin.setProperty(b,\"TitleHeight\",d);a=lucid.plugin.getContained(b);e=d-e;if(0!=e)for(d=0;d<a.length;d++){var g=lucid.plugin.getProperty(a[d],\"BoundingBox\");g&&(g.y+=e,lucid.plugin.setProperty(a[d],\"BoundingBox\",g))}c()},path:function(){var a=\nlucid.plugin.getProperty(b,\"BoundingBox\");return[{x:a.x,y:a.y+20},{x:a.x,y:a.y+1E3}]},cursor:function(){return\"s-resize\"}});g.push({logAction:\"chart.viewport.selection.spatialControls.uml.multidimensionalSwimlaneRowHeader\",snap:!0,color:\"none\",location:function(){var a=lucid.plugin.getProperty(b,\"BoundingBox\"),c=lucid.plugin.getProperty(b,\"TitleHeight\"),d=lucid.plugin.getProperty(b,\"TitleWidth\");return{x:a.x+d-10,y:a.y+c,w:20,h:a.h-c}},moved:function(a){var d=lucid.plugin.getProperty(b,\"BoundingBox\"),\ne=lucid.plugin.getProperty(b,\"TitleWidth\"),d=a.x-d.x;lucid.plugin.setProperty(b,\"TitleWidth\",d);a=lucid.plugin.getContained(b);e=d-e;if(0!=e)for(d=0;d<a.length;d++){var g=lucid.plugin.getProperty(a[d],\"BoundingBox\");g&&(g.x+=e,lucid.plugin.setProperty(a[d],\"BoundingBox\",g))}c()},path:function(){var a=lucid.plugin.getProperty(b,\"BoundingBox\");return[{x:a.x+20,y:a.y},{x:a.x+1E3,y:a.y}]},cursor:function(){return\"e-resize\"}});return g}}}());lucid.plugin.registerStepperControl(\"UMLMultidimensionalSwimlane\",\n\"RowCount\",function(){return 1},function(){return 1},function(){return 50});lucid.plugin.registerStepperControl(\"UMLMultidimensionalSwimlane\",\"ColumnCount\",function(){return 1},function(){return 1},function(){return 50});lucid.plugin.createNextBlockGroup([\"UMLSeqEntityBlock\",\"UMLBoundaryBlock\",\"UMLControlBlock\"]);lucid.plugin.createNextBlockGroup([\"UMLComponentBlock\",\"UMLComponentInterfaceBlock\"]);lucid.plugin.initBlockClass(ub());lucid.plugin.initBlockClass(ub(!0));lucid.plugin.addContextMenuItems(function(){var b=\nfunction(a,b,c){if(!a||1!=a.length)return!1;void 0===c&&(c=1);var d=lucid.plugin.getBlockClassName(a[0]),e=lucid.plugin.getProperty(a[0],\"Lanes\");return d&&-1<d.toLowerCase().indexOf(\"umlmultilane\")&&e&&e.length>=c&&(b?!lucid.plugin.getProperty(a[0],\"Vertical\"):!!lucid.plugin.getProperty(a[0],\"Vertical\"))},c=function(a,b){var c=b.Lanes,d=b.BoundingBox,e=b.Rotation,g=d.w,h=d.x;if(e)for(a=lucid.math.Point.rotate(a,lucid.math.Box.center(d),-e),e=c.length-1;0<=e;e--){d=g*c[e].p;if(a.x>h&&a.x<h+d)break;\nh+=d}else for(e=0;e<c.length;e++){d=g*c[e].p;if(a.x>h&&a.x<h+d)break;h+=d}return e},a=function(a,b,c){for(var d=b.BoundingBox,e={x:d.x,y:d.y,w:d.w*b.Lanes[a].p,h:d.h},g=0;g<a;g++)e.x+=d.w*b.Lanes[g].p;c&&(e.w=d.w-(e.x-d.x));return e},d=function(b,c,d,e){var g=d.Lanes,h=d.BoundingBox,m=[],r=lucid.math.Box.rotate(h,d.Rotation||0),v={x:r.x+r.w/2,y:r.y+r.h/2};if(b>g.length)return m;var x=a(b,d,e);d.Vertical||(x.x+=2*(h.x+h.w/2-(x.x+x.w/2)));lucid.array.forEach(c,function(a){var b=lucid.plugin.getProperty(a,\n\"BoundingBox\");if(b){var c=lucid.plugin.getProperty(a,\"Rotation\")||0,b=lucid.math.Box.rotate(b,c);d.Vertical||(b=lucid.math.Box.rotate(b,Math.PI/2,v));lucid.math.Box.within(b,x)&&m.push(a)}});return m},g=function(a,b,c,d){for(a=0;a<c.length;a++){var e=lucid.plugin.getProperty(c[a],\"BoundingBox\");e&&(d.Vertical?e.x+=b:e.y+=b,lucid.plugin.setProperty(c[a],\"BoundingBox\",e))}},e=function(b,c,e,h){var m=h.Lanes;if(c>e){var r=c;c=e;e=r}var w=lucid.plugin.getContained(b),r=d(c,w,h),w=d(e,w,h),v=a(c,h),y=\na(e,h);g(b,y.w,r,h);g(b,-v.w,w,h);c<m.length&&e<m.length&&(r=m[c],m[c]=m[e],m[e]=r);lucid.plugin.setProperty(b,\"Lanes\",m)},h=function(a,b,d){if(1==b.length&&b[0]){var g=lucid.plugin.getAllProperties(b[0]),h=g.Lanes.length-1;g.Vertical?(a=c(a,g),\"r\"===d&&a<h?e(b[0],a,a+1,g):\"l\"===d&&0<a&&e(b[0],a,a-1,g)):(a=c(a,g),\"u\"===d&&0<a?e(b[0],a,a-1,g):\"d\"===d&&a<h&&e(b[0],a,a+1,g))}};return[{external:!0,label:i18n.get(\"plugin-uml-swimlane-context-menu-insert-lane-before\"),logAction:\"chart.viewport.context.uml.multiswimlane.insertLaneBefore\",\naction:function(a,b){if(1==b.length&&b[0]){var d=lucid.plugin.getAllProperties(b[0]);50>d.Lanes.length&&(d=c(a,d),plugin.common.Swimlane.updateLanes(\"add\",b[0],d,!0,!0))}},visible:function(a){return(b(a,!1,1)||b(a,!0,1))&&50>lucid.plugin.getProperty(a[0],\"Lanes\").length}},{external:!0,label:i18n.get(\"plugin-uml-swimlane-context-menu-insert-lane-after\"),logAction:\"chart.viewport.context.uml.multiswimlane.insertLaneAfter\",action:function(a,b){if(1==b.length&&b[0]){var d=lucid.plugin.getAllProperties(b[0]);\n50>d.Lanes.length&&(d=c(a,d),plugin.common.Swimlane.updateLanes(\"add\",b[0],d,!1,!0))}},visible:function(a){return(b(a,!1,1)||b(a,!0,1))&&50>lucid.plugin.getProperty(a[0],\"Lanes\").length}},{external:!0,label:i18n.get(\"plugin-uml-swimlane-context-menu-move-lane-left\"),logAction:\"chart.viewport.context.uml.multiswimlane.moveLaneLeft\",action:function(a,b){h(a,b,\"l\")},visible:function(a){return b(a,!1,2)}},{external:!0,label:i18n.get(\"plugin-uml-swimlane-context-menu-move-lane-right\"),logAction:\"chart.viewport.context.uml.multiswimlane.moveLaneRight\",\naction:function(a,b){h(a,b,\"r\")},visible:function(a){return b(a,!1,2)}},{external:!0,label:i18n.get(\"plugin-uml-swimlane-context-menu-move-lane-up\"),logAction:\"chart.viewport.context.uml.multiswimlane.moveLaneUp\",action:function(a,b){h(a,b,\"u\")},visible:function(a){return b(a,!0,2)}},{external:!0,label:i18n.get(\"plugin-uml-swimlane-context-menu-move-lane-down\"),logAction:\"chart.viewport.context.uml.multiswimlane.moveLaneDown\",action:function(a,b){h(a,b,\"d\")},visible:function(a){return b(a,!0,2)}},\n{external:!0,label:i18n.get(\"plugin-uml-swimlane-context-menu-remove-lane\"),logAction:\"chart.viewport.context.uml.multiswimlane.removeLane\",action:function(b,e){if(1==e.length&&e[0]){var h=lucid.plugin.getAllProperties(e[0]);if(1<h.Lanes.length){for(var m=c(b,h),r=h.Lanes,v=a(m,h),w=[],y=h.BoundingBox.w*(1-r[m].p),B=lucid.plugin.getContained(e[0]),x=d(m,B,h),D=0;D<x.length;D++)lucid.plugin.deleteItem(x[D]);m+1<r.length&&(B=d(m+1,B,h,!0),g(e[0],-v.w,B,h));for(D=0;D<r.length;D++)D!=m&&(r[D].p=h.BoundingBox.w*\nr[D].p/y,w.push(r[D]));lucid.plugin.setProperty(e[0],\"Lanes\",w);h.Vertical||(h.BoundingBox.x+=(h.BoundingBox.w-y)/2,h.BoundingBox.y-=(h.BoundingBox.w-y)/2);h.BoundingBox.w=y;lucid.plugin.setProperty(e[0],\"Lane_\"+r[m].tid,\"Lane\");lucid.plugin.setProperty(e[0],\"BoundingBox\",h.BoundingBox)}}},visible:function(a){if(1!=a.length||!a[0])return!1;var b=lucid.plugin.getBlockClassName(a[0]);return b&&-1<b.toLowerCase().indexOf(\"umlmultilane\")&&1<lucid.plugin.getProperty(a[0],\"Lanes\").length}}]}());var vb=\ni18n.get(\"plugin-uml-sequence-markup-name-example\");lucid.plugin.registerErrorableTextAreaControl(void 0,\"Markup\",function(b){if(1==b.length)return lucid.plugin.getProperty(b[0].getId(),\"Markup\").UML_Sequence},Sa,function(){var b=lucid.plugin.getSingleSelectedGroup();return b&&lucid.plugin.getProperty(b.getId(),\"Markup\")?[b]:[]});lucid.plugin.onActiveSelectionChange(function(b){return lucid.newEditor&&aa(b)?!1:Ta(b)});lucid.plugin.onActivate(function(){lucid.line.enableEndpointStyles(\"uml\");lucid.plugin.allowShadowSharing(\"UMLActivationBlock\",\n!0);lucid.plugin.allowShadowSharing(\"UMLActiveClassBlock\",!0);lucid.plugin.allowShadowSharing(\"UMLActorBlock\",!0);lucid.plugin.allowShadowSharing(\"UMLAlternativeBlock\",!1);lucid.plugin.allowShadowSharing(\"UMLAttributeBlock\",!0);lucid.plugin.allowShadowSharing(\"UMLAssemblyConnectorBlock\",!0);lucid.plugin.allowShadowSharing(\"UMLBoundaryBlock\",!1);lucid.plugin.allowShadowSharing(\"UMLCircleContainerBlock\",!0);lucid.plugin.allowShadowSharing(\"UMLClassBlock\",!0);lucid.plugin.allowShadowSharing(\"UMLComponentBlock\",\n!0);lucid.plugin.allowShadowSharing(\"UMLComponentBoxBlock\",!0);lucid.plugin.allowShadowSharing(\"UMLComponentInterfaceBlock\",!0);lucid.plugin.allowShadowSharing(\"UMLConstraintBlock\",!1);lucid.plugin.allowShadowSharing(\"UMLControlBlock\",!1);lucid.plugin.allowShadowSharing(\"UMLDecisionBlock\",!0);lucid.plugin.allowShadowSharing(\"UMLEndBlock\",!0);lucid.plugin.allowShadowSharing(\"UMLEntityBlock\",!0);lucid.plugin.allowShadowSharing(\"UMLExpansionNodeBlock\",!0);lucid.plugin.allowShadowSharing(\"UMLFlowFinalBlock\",\n!0);lucid.plugin.allowShadowSharing(\"UMLHForkJoinBlock\",!0);lucid.plugin.allowShadowSharing(\"UMLHistoryStateBlock\",!0);lucid.plugin.allowShadowSharing(\"UMLInterruptingEdgeBlock\",!0);lucid.plugin.allowShadowSharing(\"UMLMultiplicityBlock\",!0);lucid.plugin.allowShadowSharing(\"UMLMultivaluedAttributeBlock\",!0);lucid.plugin.allowShadowSharing(\"UMLNodeBlock\",!0);lucid.plugin.allowShadowSharing(\"UMLNoteBlock\",!0);lucid.plugin.allowShadowSharing(\"UMLObjectBlock\",!0);lucid.plugin.allowShadowSharing(\"UMLOptionLoopBlock\",\n!1);lucid.plugin.allowShadowSharing(\"UMLPackageBlock\",!0);lucid.plugin.allowShadowSharing(\"UMLProvidedInterfaceBlock\",!0);lucid.plugin.allowShadowSharing(\"UMLReceiveSignalBlock\",!0);lucid.plugin.allowShadowSharing(\"UMLRectangleContainerBlock\",!0);lucid.plugin.allowShadowSharing(\"UMLRelationshipBlock\",!0);lucid.plugin.allowShadowSharing(\"UMLRequiredInterfaceBlock\",!0);lucid.plugin.allowShadowSharing(\"UMLSendSignalBlock\",!0);lucid.plugin.allowShadowSharing(\"UMLSeqEntityBlock\",!1);lucid.plugin.allowShadowSharing(\"UMLStartBlock\",\n!0);lucid.plugin.allowShadowSharing(\"UMLTextBlock\",!0);lucid.plugin.allowShadowSharing(\"UMLUseCaseBlock\",!0);lucid.plugin.allowShadowSharing(\"UMLVForkJoinBlock\",!0);lucid.plugin.allowShadowSharing(\"UMLWeakEntityBlock\",!0);lucid.plugin.allowShadowSharing(\"UMLWeakRelationshipBlock\",!0);lucid.plugin.allowShadowSharing(\"UMLMultidimensionalSwimlane\",!0)});lucid.plugin.onDeactivate(function(){lucid.line.disableEndpointStyles(\"uml\")});G={\"UML Class Dgm\":[\"UMLClassBlock\",\"UMLActiveClassBlock\",{className:\"UMLClassBlock\",\nvariant:\"UMLClassBlockSimple\"},{className:\"UMLClassBlock\",variant:\"UMLInterfaceBlock\"},{className:\"UMLClassBlock\",variant:\"UMLInterfaceBlockSimple\"},\"UMLMultiplicityBlock\",\"UMLPackageBlock\",\"UMLConstraintBlock\",\"UMLNoteBlock\",\"UMLTextBlock\"],\"UML Use Case\":[\"UMLActorBlock\",\"UMLUseCaseBlock\",{className:\"UMLUseCaseBlock\",variant:\"UMLUseCaseExt\"},\"UMLCircleContainerBlock\",\"UMLRectangleContainerBlock\",\"UMLNoteBlock\",\"UMLTextBlock\"],\"UML State/Activity\":[{className:\"UMLOptionLoopBlock\",variant:\"UMLStateName\"},\n\"UMLStartBlock\",\"UMLStateBlock\",{className:\"UMLStateBlock\",variant:\"UMLStateBlockCmp\"},{className:\"UMLStateBlock\",variant:\"UMLStateBlockExt\"},\"UMLDecisionBlock\",\"UMLHForkJoinBlock\",\"UMLVForkJoinBlock\",\"UMLFlowFinalBlock\",\"UMLHistoryStateBlock\",\"UMLEndBlock\",\"UMLRectangleContainerBlock\",\"UMLSwimLaneBlock\",\"UMLNoteBlock\",\"UMLTextBlock\",\"UMLObjectBlock\",\"UMLSendSignalBlock\",\"UMLReceiveSignalBlock\",\"UMLAcceptTimeEventActionBlock\",\"UMLInterruptingEdgeBlock\",\"UMLOffPageLinkBlock\",\"UMLExpansionNodeBlock\",\n\"UMLMultiLanePoolBlock\",\"UMLMultiLanePoolRotatedBlock\",\"UMLMultidimensionalSwimlane\"],\"UML Sequence\":[{className:\"UMLObjectBlock\",variant:\"UMLObjectBlockSeq\"},\"UMLActivationBlock\",\"UMLDeletionBlock\",\"UMLNoteBlock\",\"UMLPackageBlock\",\"UMLConstraintBlock\",\"UMLOptionLoopBlock\",\"UMLAlternativeBlock2\",\"UMLSeqEntityBlock\",\"UMLBoundaryBlock\",\"UMLControlBlock\",{label:i18n.get(\"plugin-uml-sequence-markup-button\"),action:lucid.newEditor?Sa:Ta}],\"UML Component\":\"UMLComponentBlock UMLNodeBlock UMLComponentInterfaceBlock UMLPackageBlock UMLNoteBlock UMLComponentBoxBlock UMLAssemblyConnectorBlock UMLProvidedInterfaceBlock UMLRequiredInterfaceBlock\".split(\" \"),\n\"UML Deployment\":[{className:\"UMLNodeBlock\",variant:\"UMLNodeDeployment\"},{className:\"UMLComponentBlock\",variant:\"UMLComponentDeployment\"},\"UMLObjectBlock\",\"UMLPackageBlock\",\"UMLNoteBlock\",\"UMLConstraintBlock\",{className:\"UMLNodeBlock\",variant:\"UMLNodeDeploymentInstance\"},{className:\"UMLComponentBlock\",variant:\"UMLComponentDeploymentInstance\"}],\"UML Entity Relationship\":\"UMLEntityBlock UMLWeakEntityBlock UMLAttributeBlock UMLMultivaluedAttributeBlock UMLRelationshipBlock UMLWeakRelationshipBlock\".split(\" \")};\nlucid.plugin.createToolGroups(G)})();\n//# sourceMappingURL=/js/plugins/v2/source-maps/uml.js.map"},{"name":"User Images","description":"Make your diagram professional or personalized with user images. You can quickly upload and organize your own PNG and JPEG image files to any document, then share images with your team.","public":1,"thumbnail_url":"https://d2slcw3kip6qmk.cloudfront.net/app/chart/plugins/images-352x291.png","url":"/js/plugins/v2/userimage.js","keywords":"image,upload,png,jpeg,logo,picture,photo","group_name":"Visual Content","code":"(function(){function m(){function a(a){p&&!1===p(a)||255<=c++||b[h].push({className:\"UserImage2Block\",name:\"UserImage-\"+a.id,toolBoxId:\"UserImage-\"+a.id,imageId:a.id,tooltip:a.name||\"Unnamed Image\",defaultSize:{w:a.defaultSize.width,h:a.defaultSize.height},defaultProperties:function(){return{Text:\"\",FillColor:{pos:config.defaultImageFillPos,url:a.url},LineWidth:0,AspectRatio:a.defaultSize.width/a.defaultSize.height}},menuItems:a.isTeamImage?[]:[{label:\"Delete\",action:function(){lucid.plugin.deleteUserImage(a.id)}}]})}\nvar c=0,b={};b[h]=[];var e=function(a){var b=a.tags[0],c=!0;a.children.length&&(c=lucid.array.every(a.children,e));return c?!lucid.object.some(n,function(a){return lucid.array.some(a.tags,function(a){return b.key==a.key})}):!1},u=function(a){p=a&&\"__all__\"!=a?\"__itd__\"==a?function(a){return a.inDocument}:\"__untagged__\"==a?function(a){return 0===a.tags.length}:function(b){return lucid.array.some(b.tags,function(b){return b.key==a})}:t;q=a;lucid.localStorage.set(\"userImageSelectedFilter\",a)};u(q);var g=\n!1,f=function(){if(!g){g=!0;var a=lucid.template.builder();a.clear();a.add({classes:\"heading\",text:\"Team Images\"});b[h].push({template:a.getTemplate()})}},d=lucid.plugin.getTagTree(),l=[{label:\"All Images\",value:\"__all__\"},{label:\"In this Document\",value:\"__itd__\"},{label:\"Untagged\",value:\"__untagged__\"},{label:\"Archived\",value:\"archived\"},{separator:!0}];lucid.config.on_premise&&l.splice(2,2);var r=[{separator:!0}],k=function(a,b){for(var c=\"\",d=0;d<b;d++)c=d==b-1?c+\"- \":c+\"--\";d=a.tags[0].key;\"archived\"==\nd||\"private\"==d||e(a)||((lucid.array.some(a.tags,function(a){return a.thirdParty})?r:l).push({label:c+a.tags[0].name,value:d}),lucid.array.forEach(a.children,function(a){k(a,b+1)}))};lucid.array.forEach(d,function(a){k(a,0)});1<r.length&&(l=l.concat(r));d=lucid.template.builder();d.open({css:{padding:\"4px 6px 2px 4px\"}});lucid.array.forEach(l,function(a){a.value==q&&(a.selected=!0)});d.addInput({type:\"select\",options:l,onChange:function(a,b){b||(u(a),m())}});d.clear();d.close();b[h].push({template:d.getTemplate()});\nb[h].push({template:{classes:\"tool-box-block left add-button\",title:\"Add Image\",click:function(){lucid.plugin.showUserImageDialog(function(a){m()},{refreshImagesInDocument:!0,useDefaultSuccess:!0,source:\"add image in toolbar\"})}},onlineOnly:!0});d=v(n);lucid.array.forEach(d.userImages,a);d.teamImages.length&&(f(),lucid.array.forEach(d.teamImages,a));lucid.plugin.inDemoMode()||lucid.plugin.createToolGroups(b)}var g={global:this,provide:function(a){a=a.split(\".\");g.global[a[0]]=g.global[a[0]]||{};var c=\ng.global[a[0]];a.slice(1).reduce(function(a,c){a[c]||(a[c]={});return a[c]},c)},require:function(){},inherits:function(a,c){function b(){}b.prototype=c.prototype;a.superClass_=c.prototype;a.prototype=new b;a.prototype.constructor=a;a.base=function(a,b,g){var f=Array.prototype.slice.call(arguments,2);return c.prototype[b].apply(a,f)}},base:function(a,c,b){var e=arguments.callee.caller;if(g.STRICT_MODE_COMPATIBLE||g.DEBUG&&!e)throw Error(\"arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C\");\nif(e.superClass_)return e.superClass_.constructor.apply(a,Array.prototype.slice.call(arguments,1));for(var h=Array.prototype.slice.call(arguments,2),k=!1,f=a.constructor;f;f=f.superClass_&&f.superClass_.constructor)if(f.prototype[c]===e)k=!0;else if(k)return f.prototype[c].apply(a,h);if(a[c]===e)return a.constructor.prototype[c].apply(a,h);throw Error(\"goog.base called from a method of one name to a method of a different name\");}};g.provide(\"plugin.userimage\");var n={},t=function(a){return!a.hidden&&\nlucid.array.every(a.tags,function(a){return\"archived\"!=a.key})},q=lucid.localStorage.get(\"userImageSelectedFilter\"),p=t,k=function(a,c){return(a.created<c.created)-(a.created>c.created)},v=function(a){var c=[],b=[],e;for(e in a)a[e].isTeamImage?b.push(a[e]):c.push(a[e]);c.sort(k);b.sort(k);return{userImages:c,teamImages:b}};lucid.plugin.initBlockClass({className:\"UserImage2Block\",name:\"User Image\",searchKeywords:[],defaultSize:{w:160,h:120},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,\ny:.5},{x:1,y:.5}]},getRenderData:function(a,c){var b=a.BoundingBox;return[{FillColor:a.FillColor,StrokeColor:a.LineColor,LineWidth:a.LineWidth,Actions:[{Action:\"move\",x:b.x,y:b.y},{Action:\"line\",x:b.x+b.w,y:b.y},{Action:\"line\",x:b.x+b.w,y:b.y+b.h},{Action:\"line\",x:b.x,y:b.y+b.h},{Action:\"close\"}]}]}});var h=lucid.config.on_premise?lucid.i18n(\"toolbox.userimages.title.onprem\"):lucid.i18n(\"toolbox.userimages.title\");lucid.i18n(\"toolbox.teamimages.title\");lucid.plugin.inDemoMode()||lucid.plugin.createToolGroups({\"User Images\":[]});\nlucid.plugin.onActivate(function(){m()});lucid.plugin.onUserImagesChanged(function(a){n=a;for(var c in n);setTimeout(function(){m()},100)});lucid.plugin.initBlockClass({className:\"URLImageBlock\",name:\"User Image (URL)\",searchKeywords:[],defaultSize:{w:120,h:120},isImageBlock:function(){return!0},disabledPropertyControls:[\"FillColor\",\"FillType\",\"LineColor\",\"LineWidth\"],onInit:function(a){lucid.plugin.registerProperty(a,\"URL\",\"\")},getRenderData:function(a,c){return[{Image:a.URL,BoundingBox:a.BoundingBox}]}});\nlucid.plugin.initBlockClass({className:\"UserImageBlock\",name:\"User Image\",searchKeywords:[],defaultSize:{w:160,h:120},isImageBlock:function(){return!0},disabledPropertyControls:[\"FillColor\",\"FillType\",\"LineColor\",\"LineWidth\"],onInit:function(a){lucid.plugin.registerProperty(a,\"URL\",\"\")},getRenderData:function(a,c){return[{Image:a.URL,BoundingBox:a.BoundingBox}]},getLinkPoints:function(a){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]}})})();\n//# sourceMappingURL=/js/plugins/v2/source-maps/userimage.js.map"}];

            for(var i = 0; i < plugins.length; i++) {
                //Cache the code so the LoadPlugin doesn't hit the network
                client.cachePlugin(plugins[i].url, plugins[i]);
            }

            
                client.setAvailablePlugins([{"name":"AWS Architecture","description":"Accurately diagram AWS architecture with the official AWS Simple Icons. You can chart with network shapes, database symbols, and a variety of other Amazon Web Services elements.","public":1,"thumbnail_url":"https://d2slcw3kip6qmk.cloudfront.net/app/chart/plugins/aws-352x300.png","url":"/js/plugins/v2/aws2.js","keywords":"AWS,Simple Icons,Amazon,Web,Services,S3,EC2","group_name":"Networking"},{"name":"Android Mockups","description":"With custom-built Android shapes and elements, you can create mockups and wireframes with less pixelation. We offer the 4 most common Android devices and 60+ GUI elements.","public":1,"thumbnail_url":"https://d2slcw3kip6qmk.cloudfront.net/app/chart/plugins/android-352x475.png","url":"/js/plugins/v2/android.js","keywords":"GUI,Android,Nexus,Galaxy,tablet,smartphone,mockup","group_name":"Software"},{"name":"Azure","description":"Diagram your network infrastructure using official Microsoft Azure icons. You can accurately depict your architecture setup with the wide range of shapes, including those for cloud, enterprise, VMs, and more.","public":1,"thumbnail_url":"https://d2slcw3kip6qmk.cloudfront.net/app/chart/plugins/azure-352x192.PNG","url":"/js/plugins/v2/azure.js","keywords":"azure,microsoft,cloud","group_name":"Networking"},{"name":"BPMN 2.0","description":"BPMN 2.0 is the most up-to-date version of business process modeling notation. Model common business activities like tasks, transactions, and end events.","public":1,"thumbnail_url":"https://d2slcw3kip6qmk.cloudfront.net/app/chart/plugins/bpmn-352x472.png","url":"/js/plugins/v2/bpmn2.js","keywords":"bpmn,business,process,model,notation","group_name":"Business"},{"name":"Circuit Diagrams","description":"Create circuit diagrams to help you model processes for electrical engineering tasks. Our library is outfitted with custom options that increase ease of use and diagramming speed.","public":1,"thumbnail_url":"https://d2slcw3kip6qmk.cloudfront.net/app/chart/plugins/circuit-352x258.png","url":"/js/plugins/v2/ee.js","keywords":"circuit,electrical,amplifiers,multiplexers,capacitors,diodes,resistors,wires","group_name":"Other"},{"name":"Cisco Network Icons","description":"Cisco network icons are globally recognized symbols for diagramming network architecture. Use our standard shape set to model nodes and connections in a computer network.","public":1,"thumbnail_url":"https://d2slcw3kip6qmk.cloudfront.net/app/chart/plugins/cisco-352x225.png","url":"/js/plugins/v2/cisco.js","keywords":"cisco,network","group_name":"Networking"},{"name":"Computation","description":"Perform dynamic displays and calculations.","public":1,"thumbnail_url":"https://d2slcw3kip6qmk.cloudfront.net/app/chart/plugins/default-352x279.png","url":"/js/plugins/v2/computation.js","keywords":"computation","group_name":""},{"name":"Data Flow","description":"Data flow diagrams will help you document the logical flow of information through a step-by-step process. Model the path of data from home to destination.","public":1,"thumbnail_url":"https://d2slcw3kip6qmk.cloudfront.net/app/chart/plugins/data-352x227.png","url":"/js/plugins/v2/dfd.js","keywords":"data,flow","group_name":"Business"},{"name":"Default","description":"Use these standard shapes to add more detail to your diagram. Text blocks with either a transparent background, solid background, or as note. Plus a hotspot shape for creating interactive diagrams.","public":1,"thumbnail_url":"https://d2slcw3kip6qmk.cloudfront.net/app/chart/plugins/default-352x279.png","url":"/js/plugins/v2/default.js","keywords":"text,note,hotspot,action,interaction,detail","group_name":"Standard"},{"name":"Enterprise Integration","description":"Create diagrams for large-scale integration solutions across many implementation technologies. Designed by Gregor Hohpe and documented at www.eaipatterns.com.","public":1,"thumbnail_url":"https://d2slcw3kip6qmk.cloudfront.net/app/chart/plugins/eip-352x197.png","url":"/js/plugins/v2/enterprise.js","keywords":"EIP,enterprise,integration,pattern,bus,message,channel,ESB,EAI,application","group_name":"Other"},{"name":"Entity Relationship","description":"Model databases in an easy-to-read format with entity relationship diagrams. You can get started with our shapes, which include contstraints, entities, relationships, and attributes.","public":1,"thumbnail_url":"https://d2slcw3kip6qmk.cloudfront.net/app/chart/plugins/erd-352x364.png","url":"/js/plugins/v2/erd.js","keywords":"entity,relationship,ER,ERD,database model","group_name":"Software"},{"name":"Equations","description":"Create a mathematical expression using LaTeX markup language and insert it directly into your diagram. You can easily edit the expression by double-clicking it.","public":1,"thumbnail_url":"https://d2slcw3kip6qmk.cloudfront.net/app/chart/plugins/equation-352x330.png","url":"/js/plugins/v2/equation.js","keywords":"math,latex,equation,symbol,expression","group_name":""},{"name":"Floor Plans","description":"Lay out floor plans for homes, offices, and buildings. Create and manage your space with standard shapes and specialized ones like office chairs and bathroom vanities.","public":1,"thumbnail_url":"https://d2slcw3kip6qmk.cloudfront.net/app/chart/plugins/floorplan-352x681.png","url":"/js/plugins/v2/floorplan.js","keywords":"floor,office,plan,layout,home,building,floorplan,furniture,kitchen,bedroom,living,room,house,bathroom","group_name":"Other"},{"name":"Flowchart Shapes","description":"Build and optimize any process, whether simple or complex, with a variety of flowchart shapes and containers. Try demoing a path for surveys, software flow, and business activities.","public":1,"thumbnail_url":"https://d2slcw3kip6qmk.cloudfront.net/app/chart/plugins/flowchart-352x304.png","url":"/js/plugins/v2/flowchart.js","keywords":"flow,chart,flowchart","group_name":"Standard"},{"name":"Freehand Drawing","description":" ","public":1,"thumbnail_url":"","url":"/js/plugins/v2/freehand.js","keywords":"","group_name":""},{"name":"Geometric Shapes","description":"Use clouds, hearts, plus signs, callouts, and other geometric shapes to give your diagram a lighthearted, hand-drawn feel.","public":1,"thumbnail_url":"https://d2slcw3kip6qmk.cloudfront.net/app/chart/plugins/geometric-352x282.png","url":"/js/plugins/v2/shapes.js","keywords":"cloud,heart,plus,callout,pentagon,hexagon","group_name":"Standard"},{"name":"Google Cloud Platform","description":"Diagram Google Cloud Platform infrastructure with our official Google Cloud Platform shapes.","public":1,"thumbnail_url":"https://d2slcw3kip6qmk.cloudfront.net/app/chart/plugins/gcp-352x259.png","url":"/js/plugins/v2/gcp.js","keywords":"GCP,Google,Cloud,Platform","group_name":"Networking"},{"name":"Mind Mapping","description":"Mind mapping is perfect for jotting down your thoughts. Navigate quickly with keyboard shortcuts to add new ideas and build on old ones.","public":1,"thumbnail_url":"https://d2slcw3kip6qmk.cloudfront.net/app/chart/plugins/mindmap-352x406.png","url":"/js/plugins/v2/mindmap.js","keywords":"mind,map,node,child,idea,thought,train","group_name":"Other"},{"name":"Network Infrastructure","description":"Create fast, accurate network diagrams with this library. Unlike our Cisco and AWS shapes, these are vendor-neutral and allow for great flexibility.","public":1,"thumbnail_url":"https://d2slcw3kip6qmk.cloudfront.net/app/chart/plugins/network-352x321.png","url":"/js/plugins/v2/network.js","keywords":"devices,networks,cisco,aws","group_name":"Networking"},{"name":"Org Charts","description":"Create org charts in minutes with .csv import and premade layouts. You can personalize your chart by uploading pictures and customizing role, name, and contact information.","public":1,"thumbnail_url":"https://d2slcw3kip6qmk.cloudfront.net/app/chart/plugins/Vertical-Org-Chart.png","url":"/js/plugins/v2/orgchart2.js","keywords":"org,organizational,csv","group_name":"Business"},{"name":"Process Engineering","description":"Create efficient process flow diagrams for any factory or plant, with shapes like pumps, valves, heat exchangers, vessels, and more.","public":1,"thumbnail_url":"https://d2slcw3kip6qmk.cloudfront.net/app/chart/plugins/process-352x309.png","url":"/js/plugins/v2/processing.js","keywords":"flowsheet,PFD,process,flow,P&ID","group_name":"Other"},{"name":"Server Rack Diagrams","description":"Create rack diagrams to efficiently lay out servers, server racks, and power supply. Our shapes aren\"t vendor-specific, so you can use them in various scenarios.","public":1,"thumbnail_url":"https://d2slcw3kip6qmk.cloudfront.net/app/chart/plugins/rack-500x656.png","url":"/js/plugins/v2/serverrack.js","keywords":"rack,server,computer,it,blank,slot,ethernet,switch,power,supply,bridge,patch,panel","group_name":"Networking"},{"name":"Site Maps","description":"Visualize your new or existing website with custom site map shapes. Add urls to each page and press \"Enter\" or \"Tab\" to quickly create more pages.","public":1,"thumbnail_url":"https://d2slcw3kip6qmk.cloudfront.net/app/chart/plugins/sitemap-352x362.png","url":"/js/plugins/v2/sitemap.js","keywords":"site,map,site-map,website","group_name":"Software"},{"name":"Tables","description":"Organize your data with tables. Use advanced features to copy and paste data from Excel and Google Spreadsheets.","public":1,"thumbnail_url":"https://d2slcw3kip6qmk.cloudfront.net/app/chart/plugins/tables-352x283.png","url":"/js/plugins/v2/table.js","keywords":"table,tables,spreadsheet,cell,row,column,data","group_name":"Business"},{"name":"Tech Clipart","description":"Our tech clipart library will enhance network diagrams with a host of electronics shapes, like servers, printers, and monitors. Tech clipart can be added to any diagram type, including floor plans and BPMN diagrams.","public":1,"thumbnail_url":"https://d2slcw3kip6qmk.cloudfront.net/app/chart/plugins/tech-352x256.png","url":"/js/plugins/v2/techclipart.js","keywords":"printer,monitor,calculator,server,rack,copier,scanner,calculator,memory card reader,MP3 player,speaker,headset,LCD","group_name":"Networking"},{"name":"UI Mockups","description":"Plan the ideal user interaction flow with UI mockups. Our tool gives you a variety of widgets, containers, and UI elements, to which you can easily add interactivity.","public":1,"thumbnail_url":"https://d2slcw3kip6qmk.cloudfront.net/app/chart/plugins/uimockup-352x310.png","url":"/js/plugins/v2/ui2.js","keywords":"mockup,prototype,UI,UX","group_name":"Software"},{"name":"UML","description":"UML is a standard language for modeling object-based software. Use our Unified Modeling Language shapes and connectors to draw state diagrams, activity diagrams, use case diagrams, and more.","public":1,"thumbnail_url":"https://d2slcw3kip6qmk.cloudfront.net/app/chart/plugins/uml-352x363.png","url":"/js/plugins/v2/uml.js","keywords":"UML,Unified,Modeling,Language,use case,class,activity,component,deployment,ERD","group_name":"Software"},{"name":"User Images","description":"Make your diagram professional or personalized with user images. You can quickly upload and organize your own PNG and JPEG image files to any document, then share images with your team.","public":1,"thumbnail_url":"https://d2slcw3kip6qmk.cloudfront.net/app/chart/plugins/images-352x291.png","url":"/js/plugins/v2/userimage.js","keywords":"image,upload,png,jpeg,logo,picture,photo","group_name":"Visual Content"},{"name":"Value Stream","description":"Use our value stream maps to identify waste in any process--especially manufacturing--then quickly eliminate it. We offer shapes like materials, shipments, information, kanban, and more.","public":1,"thumbnail_url":"https://d2slcw3kip6qmk.cloudfront.net/app/chart/plugins/value-352x238.png","url":"/js/plugins/v2/valuestream.js","keywords":"value,stream,mapping,Six,Sigma,lean,kaizen,kanban,just in time,JIT","group_name":"Business"},{"name":"Venn Diagrams","description":"Venn diagrams are perfect for students and teachers, especially when solving logic, probability, and comparison problems. We offer premade templates and easy design options.","public":1,"thumbnail_url":"https://d2slcw3kip6qmk.cloudfront.net/app/chart/plugins/venn-352x318.png","url":"/js/plugins/v2/venn.js","keywords":"Venn,diagram,2-circle,3-circle","group_name":"Other"},{"name":"Video","description":"The video shape library allows you to upload any Youtube video to your diagram. If you publish the video, everyone--even non-Lucidchart users--can see it.","public":1,"thumbnail_url":"https://d2slcw3kip6qmk.cloudfront.net/app/chart/plugins/video-352x218.png","url":"/js/plugins/v2/video.js","keywords":"Youtube,video,embed","group_name":"Visual Content"},{"name":"iOS 10 Mockups","description":"Create iPad and iPhone mockups with iOS shapes based on Apple's UIKit and Human Interface Guidelines.","public":1,"thumbnail_url":"https://d2slcw3kip6qmk.cloudfront.net/app/chart/plugins/ios7-352x626.png","url":"/js/plugins/v2/ios.js","keywords":"ios,ipad,iphone,ipod,apple,mockup","group_name":"Software"},{"name":"iOS 7 Mockups","description":"Create iPad and iPhone mockups with iOS shapes based on Apple\"s Design Resources guide. Add interactivity to your mockups with hotspots and layers.","public":1,"thumbnail_url":"https://d2slcw3kip6qmk.cloudfront.net/app/chart/plugins/ios7-352x626.png","url":"/js/plugins/v2/ios7.js","keywords":"ios,ipad,iphone,ipod,ios7,mockup","group_name":"Software"}]);
            

            if (window.profiler) window.profiler.log(['initClient', 'pluginsDone']);

            plugins = doc['plugins'];

            doc.changeDom = [];
            
                client.viewOnly = true;
                doc['role'] = 'viewer';
            
            client.load(doc, 0, plugins, function(recordLoadingTime) {
                if (window.profiler) window.profiler.log(['initClient', 'Fading out load screen']);
                var progressBar = $('.progress');
                if (progressBar){
                    progressBar.addClass('done');
                }
                $('#load .progress').addClass('done');

                setTimeout(function() {
                    $('#load').addClass('done');
                    setTimeout(function(){
                        if (window.performance && window.performance.mark) {
                            window.performance.mark('loadingScreenDone');
                        }
                        $('#load').remove();
                        recordLoadingTime();
                    }, 250);
                }, 100);
            });

            if (window.profiler) window.profiler.log(['initClient', 'pluginsDone.complete']);
        });

        
    });
});

window.___gcfg = {
    parsetags: 'explicit'
};
</script>

<script src="https://apis.google.com/js/platform.js"></script>






    




    <img src="//pixel.mathtag.com/event/img?mt_id=413155&amp;mt_adid=108986&amp;v1=&amp;v2=&amp;v3=&amp;s1=&amp;s2=&amp;s3=" style="position: absolute;width:1px;height:1px;" onerror="this.style.display='none'">
    <img src="https://secure.adnxs.com/seg?add=1505644&amp;t=2" style="position: absolute;width:1px;height:1px;" onerror="this.style.display='none'">



    





<script>


setTimeout(function() {
    var d = document, f = d.getElementsByTagName('script')[0],
    s = d.createElement('script');
    s.type = 'text/javascript';
    s.async = true;
    s.src = '//d5x2n72glkaxl.cloudfront.net/js/kissmetrics?compiled=1&2017-3-22_19-57-44';
    f.parentNode.insertBefore(s, f);
}, 1);
</script>



    
    
        <!-- Google Tag Manager -->
        <script>var dataLayer = [];</script>
        
            
            <script>
                dataLayer.push({'dl_uu_id':'5bd110156277'});
            </script>
        
        <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-NN6WN6"
                          height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
        <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                                        })(window,document,'script','dataLayer','GTM-NN6WN6');</script>
        <!-- End Google Tag Manager -->
    

    

    
        <script type="text/javascript">
            if (!window.mstag) mstag = {
                loadTag: function() {},
                time: (new Date()).getTime()
            };
        </script>
        <script id="mstag_tops" type="text/javascript" src="//flex.msn.com/mstag/site/57b63664-f18d-44e1-8e61-24a4f3c8bcb7/mstag.js" async></script>
    

    <script id="pci-analytics-script" type="text/javascript">

        
            //Google Analytics
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-5909456-1', 'auto');
            ga('require', 'displayfeatures');
            ga('send', 'pageview');
            ga('set', '&uid', 117448661);
            var url = String(document.referrer);
            if (url.indexOf ("google.") !=-1) {
                var urlVars = {};
                var parts = url.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(m,key,value) {
                    urlVars[key] = value;
                });
                window.ga('set', 'Rankings', urlVars["cd"]);
            }

            //Google AdWords
            var registrationFlag = $.cookie('ConversionType');
            if (registrationFlag){
                
                    
    var google_conversion_id = 1067562443;
    var google_conversion_color = "ffffff";
    var google_conversion_language = "en_US";
    var google_conversion_format = "1";
    var google_conversion_label = "zEl6CJXpaBDL64b9Aw";
    var google_conversion_value = 1.0;
    var msId = "206568";

    //Bing
    mstag.loadTag("analytics",{
        dedup: "1",
        domainId: "2149484",
        type: "1",
        actionid: msId
    });

                
                document.write('<script src="https://www.googleadservices.com/pagead/conversion.js"><\/script>');

                // IGD
                document.write('<img class="hide-tracking-pixel-via-absolute-positioning" src="https://pubads.g.doubleclick.net/activity;xsp=143456;ord=\'+ a +\'?" width=1 height=1 border=0/>');

                // Facebook
                (function() {
                var _fbq = window._fbq || (window._fbq = []);
                if (!_fbq.loaded)
                { var fbds = document.createElement('script'); fbds.async = true; fbds.src = '//connect.facebook.net/en_US/fbds.js'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(fbds, s); _fbq.loaded = true; }
                })();
                window._fbq = window._fbq || [];
                window._fbq.push(['track', '6029691858950',
                    {'value':'0.00','currency':'USD'}
                ]);

                document.write('<img class="hide-tracking-pixel-via-absolute-positioning" height="1" width="1" alt="" style="display:none" src="https://www.facebook.com/tr?ev=6029691858950&cd[value]=0.00&cd[currency]=USD&noscript=1" />');
            }
        

        //MediaForge
        

        var _kmProxy = _kmProxy || [];
        window._kmProxy = _kmProxy;

        
            _kmProxy.push(['identify', '117448661']);

            var _kmProxySetFields = {};
            var paidStatus = '';
            
            _kmProxySetFields['level_description'] = paidStatus + 'free';
            _kmProxySetFields['user_id'] = '117448661';
            try {
                _kmProxySetFields['primary_language'] = window['lucidConfigure']['languageInfo']['primaryLanguage'];
                _kmProxySetFields['language_served'] = window['lucidConfigure']['languageInfo']['languageServed'];
            } catch(e) {}

            
                _kmProxySetFields['role'] = 'admin';
            

            
                _kmProxySetFields['paid'] = 'false';
            

            _kmProxySetFields['email'] = 'u15175091@tuks.co.za';

            

            _kmProxy.push(['set', _kmProxySetFields]);
            if (!$.cookie('km_ra')) {
                $.cookie('km_ra', '1', { expires: 1, path: '/' });
                _kmProxy.push(['record', 'ReturningActivity']);
            }
        

        //HubSpot
        
            var _hsq = window['_hsq'] || [];
            window['_hsq'] = _hsq;

            
                var name = 'hs_go'
                if(document.cookie.match(new RegExp('(?:^|;)\\s?' + name + '=(.*?)(?:;|$)','i'))) {
                    document.cookie = name + '=;expires=Thu, 01 Jan 1970 00:00:01 GMT;';
                    _hsq.push();
                    try {
                        _hsq.push(["identify",{
                            browser_language: window['lucidConfigure']['languageInfo']['primaryLanguage'],
                            email: 'u15175091@tuks.co.za'
                        }]);
                    } catch (e) {
                        _hsq.push(["identify",{
                            email: 'u15175091@tuks.co.za'
                        }]);
                    }

                    // Send an event, so the identify gets sent immediately.
                    // Otherwise it is sent on the next page load.
                    _hsq.push(["trackEvent", {
                        id: 'chart-user-authenticate'
                    }]);
                    _hsq.push();
                }
            

            (function(d,s,i,r) {
                if (d.getElementById(i)){return;}
                var n=d.createElement(s),e=d.getElementsByTagName(s)[0];
                n.id=i;n.src='//js.hs-analytics.net/analytics/'+(Math.ceil(new Date()/r)*r)+'/442690.js';
                e.parentNode.insertBefore(n, e);
            })(document,"script","hs-analytics",300000);
        

        //QUANTCAST
        var _qevents = _qevents || [];
        
             (function() { setTimeout(function() {
                var elem = document.createElement('script');
                elem.src = "https://secure.quantserve.com/quant.js";
                elem.async = true;
                elem.type = "text/javascript";
                var scpt = document.getElementsByTagName('script')[0];
                scpt.parentNode.insertBefore(elem, scpt);
            },1)})();
        
    </script>



    <script id="analytics-script" type="text/javascript">
        
            window.lucidAnalytics = {
                userId: 117448661,
                accountId: 118608615,
                level: 'free',
                roles: 'AccountOwner'
            };
        

        var registrationFlag = $.cookie('ConversionType');
        
            //Google AdWords
            if (registrationFlag) {
                $.cookie('ConversionType', null);

                // Spiceworks
                var SWPX = window['SWPX'] || {};
                window['SWPX'] = SWPX;
                SWPX.cmd = SWPX.cmd || [];
                SWPX.cmd.push(function() {
                    SWPX.pixel.setPixel('5r2b');
                    // Uncomment the following line to place an identifer
                    
                    SWPX.pixel.setIdentifier('117448661'); SWPX.pixel.fire();
                    
                });
                document.write('<script src="//px.spiceworks.com/px.js" async><'+'/script>');

                document.write('<img class="hide-tracking-pixel-via-absolute-positioning" src="//px.spiceworks.com/px/5r2b" height="1" width="1">');
            }

            // Facebook
            (function(){
              ! function(f, b, e, v, n, t, s) {
                  if (f.fbq) return;
                  n = f.fbq = function() {
                      n.callMethod ?
                          n.callMethod.apply(n, arguments) : n.queue.push(arguments)
                  };
                  if (!f._fbq) f._fbq = n;
                  n.push = n;
                  n.loaded = !0;
                  n.version = '2.0';
                  n.queue = [];
                  t = b.createElement(e);
                  t.async = !0;
                  t.src = v;
                  s = b.getElementsByTagName(e)[0];
                  s.parentNode.insertBefore(t, s)
              }(window, document, 'script', 'https://connect.facebook.net/en_US/fbevents.js');

              fbq('init', '601959763304294');
              fbq('track', "PageView");
              if(registrationFlag) {
                fbq('track', 'CompleteRegistration');
              }
            })();
            // end Facebook

        

        //Qualaroo
        var _kiq = _kiq || [];
        window._kiq = _kiq;
        (function() {
            setTimeout(function(){
                var d = document,
                    f = d.getElementsByTagName('script')[0],
                    s = d.createElement('script');
                s.type = 'text/javascript';
                s.async = true;
                s.src = "//s3.amazonaws.com/ki.js/52756/blO.js";
                f.parentNode.insertBefore(s, f);
            }, 1);
         })();
        
            _kiq.push(['identify', 'u15175091@tuks.co.za']);
        

        // Adroll
        adroll_adv_id = "PLIAZQ36J5D7PPIPKSFGO2";
        adroll_pix_id = "HJCTV6S5XRBW7HEYCP4E4D";
        (function () {
            var oldonload = window.onload;
            window.onload = function() {
                __adroll_loaded = true;
                var scr = document.createElement("script");
                var host = (("https:" == document.location.protocol) ? "https://s.adroll.com" : "http://a.adroll.com");
                scr.setAttribute('async', 'true');
                scr.type = "text/javascript";
                scr.src = host + "/j/roundtrip.js";
                (
                    (document.getElementsByTagName('head') || [null])[0]
                    || document.getElementsByTagName('script')[0].parentNode
                ).appendChild(scr);

                if (oldonload) {
                    oldonload();
                }

                if (registrationFlag) {
                    var runAdrollEvent = function() {
                        if (typeof __adroll !== 'undefined' && __adroll !== null) {
                            
                            __adroll.record_user({"adroll_segments": "f26f0497", "USER_ID": "117448661"});
                            
                        }
                        else {
                            setTimeout(runAdrollEvent, 200);
                            return;
                        }
                    }

                    runAdrollEvent();
                }
            };
        }());
    </script>

    <script type="text/javascript">
            _qevents.push( { qacct:"p-test123"} );
    </script>
    <noscript>
        <div style="display: none;">
            <img src="//pixel.quantserve.com/pixel/p-09QkjQEWFRg8A.gif" height="1" width="1" alt="Quantcast"/>
            <img height="1" width="1" src="https://www.facebook.com/tr?id=601959763304294&ev=PageView&noscript=1"/>
        </div>
    </noscript>






    <script type="text/javascript" src="https://tags.mediaforge.com/js/1180" async></script>
    

</body>
</html>
